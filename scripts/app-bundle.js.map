{"version":3,"sources":["src/app-config.ts","src/app.ts","src/environment.ts","src/generated-configuration.ts","src/main.ts","src/name-tag-config.ts","src/name-tag.ts","src/debug/configuration.ts","src/debug/reporter.ts","src/debug/task-queue.ts","src/runtime/aurelia.ts","src/runtime/decorators.ts","src/runtime/di.ts","src/runtime/dom.ts","/Users/EisenbergEffect/Documents/GitHub/aurelia/experiment/src/runtime/interfaces.js","src/runtime/platform.ts","src/runtime/reporter.ts","src/runtime/task-queue.ts","src/debug/binding/binding-context.ts","src/debug/binding/unparser.ts","src/jit/binding/expression.ts","src/runtime/binding/array-change-records.ts","src/runtime/binding/array-observation.ts","src/runtime/binding/ast.ts","src/runtime/binding/binding-context.ts","src/runtime/binding/binding-mode.ts","src/runtime/binding/binding.ts","src/runtime/binding/call.ts","src/runtime/binding/checked-observer.ts","src/runtime/binding/class-observer.ts","src/runtime/binding/collection-observation.ts","src/runtime/binding/connect-queue.ts","src/runtime/binding/connectable-binding.ts","src/runtime/binding/dirty-checker.ts","src/runtime/binding/element-observation.ts","src/runtime/binding/event-manager.ts","src/runtime/binding/expression.ts","src/runtime/binding/listener.ts","src/runtime/binding/map-change-records.ts","src/runtime/binding/map-observation.ts","/Users/EisenbergEffect/Documents/GitHub/aurelia/experiment/src/runtime/binding/observation.js","src/runtime/binding/observer-locator.ts","src/runtime/binding/property-observation.ts","src/runtime/binding/ref.ts","src/runtime/binding/select-value-observer.ts","src/runtime/binding/set-observation.ts","src/runtime/binding/signal.ts","src/runtime/binding/subscriber-collection.ts","src/runtime/binding/svg-analyzer.ts","src/runtime/configuration/standard.ts","src/runtime/resources/attr-binding-behavior.ts","src/runtime/resources/binding-mode-behaviors.ts","src/runtime/resources/compose.ts","src/runtime/resources/debounce-binding-behavior.ts","src/runtime/resources/else.ts","src/runtime/resources/if-core.ts","src/runtime/resources/if.ts","src/runtime/resources/replaceable.ts","src/runtime/resources/sanitize.ts","src/runtime/resources/self-binding-behavior.ts","src/runtime/resources/signals.ts","src/runtime/resources/throttle-binding-behavior.ts","src/runtime/resources/update-trigger-binding-behavior.ts","src/runtime/resources/with.ts","src/runtime/templating/animator.ts","src/runtime/templating/component.ts","src/runtime/templating/instructions.ts","src/runtime/templating/lifecycle.ts","src/runtime/templating/render-slot.ts","src/runtime/templating/shadow-dom.ts","src/runtime/templating/view-engine.ts","src/runtime/templating/view.ts","src/svg/binding/svg-analyzer.ts","src/runtime/resources/repeat/override-contexts.ts","src/runtime/resources/repeat/repeat-strategy-array.ts","src/runtime/resources/repeat/repeat-strategy-map.ts","src/runtime/resources/repeat/repeat-strategy-null.ts","src/runtime/resources/repeat/repeat-strategy-number.ts","src/runtime/resources/repeat/repeat-strategy-registry.ts","src/runtime/resources/repeat/repeat-strategy-set.ts","/Users/EisenbergEffect/Documents/GitHub/aurelia/experiment/src/runtime/resources/repeat/repeat-strategy.js","src/runtime/resources/repeat/repeat.ts","/Users/EisenbergEffect/Documents/GitHub/aurelia/experiment/src/runtime/resources/repeat/repeater.js"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { ICompiledViewSource, TargetedInstructionType } from \"./runtime/templating/instructions\";\n\n//extracted from view imports\nimport * as import1 from \"./name-tag\";\nimport { DelegationStrategy } from \"./runtime/binding/event-manager\";\n\n//this object is built up during compilation\nexport const appConfig: ICompiledViewSource = {\n  name: 'app',\n  dependencies: [\n    import1\n  ],\n  template: `\n    <au-marker class=\"au\"></au-marker> <br>\n    <input type=\"text\" class=\"au\">\n    <name-tag class=\"au\">\n      <h2>Message: <au-marker class=\"au\"></au-marker> </h2>\n    </name-tag>\n    <input type=\"checkbox\" class=\"au\" />\n    <au-marker class=\"au\"></au-marker>\n    <au-marker class=\"au\"></au-marker>\n    <au-marker class=\"au\"></au-marker>\n    <button class=\"au\">Add Todo</button>\n  `,\n  targetInstructions: [\n    [\n      {\n        type: TargetedInstructionType.textBinding,\n        src: 'message'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'message',\n        dest: 'value'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.hydrateElement,\n        res: 'name-tag',\n        instructions: [\n          {\n            type: TargetedInstructionType.twoWayBinding,\n            src: 'message',\n            dest: 'name'\n          },\n          {\n            type: TargetedInstructionType.refBinding,\n            src: 'nameTag'\n          }\n        ]\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.textBinding,\n        src: 'message'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'duplicateMessage',\n        dest: 'checked'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.hydrateTemplateController,\n        res: 'if',\n        src: {\n          template: `<div><au-marker class=\"au\"></au-marker> </div>`,\n          targetInstructions: [\n            [\n              {\n                type: TargetedInstructionType.textBinding,\n                src: 'message'\n              }\n            ]\n          ]\n        },\n        instructions: [\n          {\n            type: TargetedInstructionType.oneWayBinding,\n            src: 'duplicateMessage',\n            dest: 'condition'\n          }\n        ]\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.hydrateTemplateController,\n        res: 'else',\n        src: {\n          template: `<div>No Message Duplicated</div>`,\n          targetInstructions: []\n        },\n        link: true,\n        instructions: []\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.hydrateTemplateController,\n        res: 'repeat',\n        src: {\n          template: `<div><au-marker class=\"au\"></au-marker> </div>`,\n          targetInstructions: [\n            [\n              {\n                type: TargetedInstructionType.textBinding,\n                src: 'description'\n              }\n            ]\n          ]\n        },\n        instructions: [\n          {\n            type: TargetedInstructionType.oneWayBinding,\n            src: 'todos',\n            dest: 'items'\n          },\n          {\n            type: TargetedInstructionType.setProperty,\n            value: 'todo',\n            dest: 'local'\n          }\n        ]\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.listenerBinding,\n        src: 'click',\n        dest: 'addTodo',\n        preventDefault: true,\n        strategy: DelegationStrategy.none\n      }\n    ]\n  ],\n  surrogateInstructions: []\n};\n","import { appConfig } from './app-config'; //added by the compiler\nimport { customElement } from './runtime/decorators';\n\nclass Todo {\n  done = false;\n  constructor(public description: string) {}\n}\n\n@customElement(appConfig) //added by the compiler\nexport class App {\n  message = 'Hello World';\n  duplicateMessage = true;\n  todos: Todo[] = [];\n\n  addTodo() {\n    this.todos.push(new Todo(this.message));\n  }\n\n  bound() {\n    console.log('app bound');\n  }\n\n  attaching() {\n    console.log('app attaching');\n  }\n\n  attached() {\n    console.log('app attached');\n  }\n\n  detaching() {\n    console.log('app detaching');\n  }\n\n  detached() {\n    console.log('app detached');\n  }\n\n  unbound() {\n    console.log('app unbound');\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import { AccessScope, TemplateLiteral, LiteralString, Conditional, CallScope, IExpression, AccessMember } from \"./runtime/binding/ast\";\nimport { IContainer } from \"./runtime/di\";\nimport { StandardConfiguration } from './runtime/configuration/standard';\nimport { Expression } from \"./runtime/binding/expression\";\n\nconst emptyArray: any[] = [];\n\nconst expressionCache: Record<string, IExpression> = {\n  message: new AccessScope('message'),\n  textContent: new AccessScope('textContent'),\n  value: new AccessScope('value'),\n  nameTagBorderWidth: new AccessScope('borderWidth'),\n  nameTagBorderColor: new AccessScope('borderColor'),\n  nameTagBorder: new TemplateLiteral([\n    new AccessScope('borderWidth'),\n    new LiteralString('px solid '),\n    new AccessScope('borderColor')\n  ]),\n  nameTagHeaderVisible: new AccessScope('showHeader'),\n  nameTagClasses: new TemplateLiteral([\n    new LiteralString('au name-tag '),\n    new Conditional(\n      new AccessScope('showHeader'),\n      new LiteralString('header-visible'),\n      new LiteralString('')\n    )\n  ]),\n  name: new AccessScope('name'),\n  submit: new CallScope('submit', emptyArray, 0),\n  nameTagColor: new AccessScope('color'),\n  duplicateMessage: new AccessScope('duplicateMessage'),\n  checked: new AccessScope('checked'),\n  nameTag: new AccessScope('nameTag'),\n  todos: new AccessScope('todos'),\n  addTodo: new CallScope('addTodo', emptyArray, 0),\n  description: new AccessMember(new AccessScope('todo'), 'description')\n};\n\nexport const GeneratedConfiguration = {\n  register(container: IContainer) {\n    Expression.primeCache(expressionCache);\n    container.register(StandardConfiguration);\n  }\n};;\n","import { Aurelia } from './runtime/aurelia';\nimport { App } from './app';\nimport { GeneratedConfiguration } from './generated-configuration';\nimport { DebugConfiguration } from './debug/configuration';\n\nAurelia\n  .register(GeneratedConfiguration, DebugConfiguration)\n  .app({ host: document.querySelector('app'), component: new App() })\n  .start();\n","import { ShadowDOMEmulation } from \"./runtime/templating/shadow-dom\";\nimport { ICompiledViewSource, TargetedInstructionType } from \"./runtime/templating/instructions\";\nimport { DelegationStrategy } from \"./runtime/binding/event-manager\";\n\n//this object is built up during compilation\nexport const nameTagConfig: ICompiledViewSource = {\n  name: 'name-tag',\n  hasSlots: true,\n  template: `\n    <header>Super Duper name tag</header>\n    <div>\n      <input type=\"text\" class=\"au\"><br/>\n      <span class=\"au\" style=\"font-weight: bold; padding: 10px 0;\"></span>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag color:\n        <select class=\"au\">\n          <option>red</option>\n          <option>green</option>\n          <option>blue</option>\n        </select>\n      </label>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag border color:\n        <select class=\"au\">\n          <option>orange</option>\n          <option>black</option>\n          <option>rgba(0,0,0,0.5)</option>\n        </select>\n      </label>\n      <slot class=\"au\"></slot>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag border width:\n        <input type=\"number\" class=\"au\" min=\"1\" step=\"1\" max=\"10\" />\n      </label>\n    </div>\n    <div>\n      <label>\n        Show header:\n        <input type=\"checkbox\" class=\"au\" />\n      </label>\n    </div>\n    <button class=\"au\">Reset</button>\n  `,\n  targetInstructions: [\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'name',\n        dest: 'value'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.oneWayBinding,\n        src: 'name',\n        dest: 'textContent'\n      },\n      {\n        type: TargetedInstructionType.stylePropertyBinding,\n        src: 'nameTagColor',\n        dest: 'color'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'nameTagColor',\n        dest: 'value'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'nameTagBorderColor',\n        dest: 'value'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.hydrateSlot\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'nameTagBorderWidth',\n        dest: 'value'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.twoWayBinding,\n        src: 'nameTagHeaderVisible',\n        dest: 'checked'\n      }\n    ],\n    [\n      {\n        type: TargetedInstructionType.listenerBinding,\n        src: 'click',\n        dest: 'submit',\n        preventDefault: true,\n        strategy: DelegationStrategy.none\n      }\n    ]\n  ],\n  surrogateInstructions: [\n    {\n      type: TargetedInstructionType.stylePropertyBinding,\n      src: 'nameTagBorder',\n      dest: 'border'\n    },\n    {\n      type: TargetedInstructionType.oneWayBinding,\n      src: 'nameTagClasses',\n      dest: 'className'\n    }\n  ]\n};\n","import { customElement } from \"./runtime/decorators\"; //added by the compiler\nimport { nameTagConfig } from './name-tag-config'; //added by the compiler\n\n@customElement(nameTagConfig) //added by the compiler\nexport class NameTag {\n  name = 'Aurelia';\n  color = 'red';\n  borderColor = 'orange';\n  borderWidth = 3;\n  showHeader = true;\n\n  nameChanged(newValue: string) {\n    console.log(`Name changed to ${newValue}`);\n  }\n\n  submit() {\n    this.name = '' + Math.random();\n  }\n\n  bound() {\n    console.log('name-tag bound');\n  }\n\n  attaching() {\n    console.log('name-tag attaching');\n  }\n\n  attached() {\n    console.log('name-tag attached');\n  }\n\n  detaching() {\n    console.log('name-tag detaching');\n  }\n\n  detached() {\n    console.log('name-tag detached');\n  }\n\n  unbound() {\n    console.log('name-tag unbound');\n  }\n}\n","import { Reporter } from './reporter';\nimport { TaskQueue } from './task-queue';\nimport { IContainer } from '../runtime/di';\nimport { enableImprovedExpressionDebugging } from './binding/unparser';\n\nexport const DebugConfiguration = {\n  register(container: IContainer) {\n    Reporter.write(2);\n    TaskQueue.longStacks = true;\n    enableImprovedExpressionDebugging();    \n  }\n};\n","import { Reporter as RuntimeReporter } from '../runtime/reporter';\n\nenum MessageType {\n  error,\n  warn,\n  info,\n  debug\n}\n\ninterface IMessageInfo {\n  message: string;\n  type: MessageType;\n}\n\nexport const Reporter: typeof RuntimeReporter = Object.assign(RuntimeReporter, {\n  write(code: number, ...params: any[]): void {\n    let info = getMessageInfoForCode(code);\n    \n    switch (info.type) {\n      case MessageType.debug:\n        console.debug(info.message, ...params);\n        break;\n      case MessageType.info:\n        console.info(info.message, ...params);\n        break;\n      case MessageType.warn:\n        console.warn(info.message, ...params);\n        break;\n      case MessageType.error:\n        throw this.error(code, ...params);\n    }\n  },\n  error(code: number, ...params: any[]): Error {\n    let info = getMessageInfoForCode(code);\n    let error = new Error(info.message);\n    (<any>error).data = params;\n    return error;\n  }\n});\n\nfunction getMessageInfoForCode(code: number): IMessageInfo {\n  return codeLookup[code] || createInvalidCodeMessageInfo(code);\n}\n\nfunction createInvalidCodeMessageInfo(code: number) {\n  return {\n    type: MessageType.error,\n    message: `Attempted to report with unknown code ${code}.`\n  };\n};\n\nconst codeLookup: Record<string, IMessageInfo> = {\n  0: {\n    type: MessageType.warn,\n    message: 'Cannot add observers to object.'\n  },\n  1: {\n    type: MessageType.warn,\n    message: 'Cannot observe property of object.'\n  },\n  2: {\n    type: MessageType.info,\n    message: 'Starting application in debug mode.'\n  },\n  3: {\n    type: MessageType.error,\n    message: 'Runtime expression compilation is only available when including JIT support.'\n  },\n  4: {\n    type: MessageType.error,\n    message: 'Invalid animation direction.'\n  },\n  5: {\n    type: MessageType.error,\n    message: 'key/value cannot be null or undefined. Are you trying to inject/register something that doesn\\'t exist with DI?'\n  },\n  6: {\n    type: MessageType.error,\n    message: 'Invalid resolver strategy specified.'\n  },\n  7: {\n    type: MessageType.error,\n    message: 'Constructor Parameter with index cannot be null or undefined. Are you trying to inject/register something that doesn\\'t exist with DI?'\n  },\n  8: {\n    type: MessageType.error,\n    message: 'Self binding behavior only supports events.'\n  },\n  9: {\n    type: MessageType.error,\n    message: 'The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:\\'blur\\'\">'\n  },\n  10: {\n    type: MessageType.error,\n    message: 'The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.'\n  },\n  11: {\n    type: MessageType.error,\n    message: 'Only property bindings and string interpolation bindings can be signaled. Trigger, delegate and call bindings cannot be signaled.'\n  },\n  12: {\n    type: MessageType.error,\n    message: 'Signal name is required.'\n  },\n  13: {\n    type: MessageType.error,\n    message: 'TaskQueue long stack traces are only available in debug mode.'\n  },\n  14: {\n    type: MessageType.error,\n    message: 'Property cannot be assigned.'\n  },\n  15: {\n    type: MessageType.error,\n    message: 'Unexpected call context.'\n  },\n  16: {\n    type: MessageType.error,\n    message: 'Only one child observer per content view is supported for the life of the content view.'\n  }\n};\n","import { TaskQueue as RuntimeTaskQueue, ITaskQueue } from '../runtime/task-queue';\n\nconst stackSeparator = '\\nEnqueued in TaskQueue by:\\n';\nconst microStackSeparator = '\\nEnqueued in MicroTaskQueue by:\\n';\nconst originalOnError = (<any>RuntimeTaskQueue).onError.bind(RuntimeTaskQueue);\n\nexport const TaskQueue: ITaskQueue = Object.assign(RuntimeTaskQueue, {\n  prepareTaskStack(): string {\n    return this.prepareStack(stackSeparator);\n  },\n\n  prepareMicroTaskStack(): string {\n    return this.prepareStack(microStackSeparator);\n  },\n\n  prepareStack(separator: string): string {\n    let stack = separator + filterQueueStack(captureStack());\n\n    if (typeof this.stack === 'string') {\n      stack = filterFlushStack(stack) + this.stack;\n    }\n\n    return stack;\n  },\n\n  onError(error: any, task: any) {\n    if (this.longStacks && task.stack && typeof error === 'object' && error !== null) {\n      // Note: IE sets error.stack when throwing but does not override a defined .stack.\n      error.stack = filterFlushStack(error.stack) + task.stack;\n    }\n  \n    originalOnError(error, task);\n  }\n});\n\nfunction captureStack() {\n  let error = new Error();\n\n  // Firefox, Chrome, Edge all have .stack defined by now, IE has not.\n  if (error.stack) {\n    return error.stack;\n  }\n\n  try {\n    throw error;\n  } catch (e) {\n    return e.stack;\n  }\n}\n\nfunction filterQueueStack(stack: string) {\n  // Remove everything (error message + top stack frames) up to the topmost queueTask or queueMicroTask call\n  return stack.replace(/^[\\s\\S]*?\\bqueue(Micro)?Task\\b[^\\n]*\\n/, '');\n}\n\nfunction filterFlushStack(stack: string) {\n  // Remove bottom frames starting with the last flushTaskQueue or flushMicroTaskQueue\n  let index = stack.lastIndexOf('flushMicroTaskQueue');\n\n  if (index < 0) {\n    index = stack.lastIndexOf('flushTaskQueue');\n    if (index < 0) {\n      return stack;\n    }\n  }\n\n  index = stack.lastIndexOf('\\n', index);\n\n  return index < 0 ? stack : stack.substr(0, index);\n  // The following would work but without regex support to match from end of string,\n  // it's hard to ensure we have the last occurrence of \"flushTaskQueue\".\n  // return stack.replace(/\\n[^\\n]*?\\bflush(Micro)?TaskQueue\\b[\\s\\S]*$/, \"\");\n}\n","import { IElementComponent } from \"./templating/component\";\nimport { PLATFORM } from \"./platform\";\nimport { DI } from \"./di\";\nimport { View } from \"./templating/view\";\n\nexport interface ISinglePageApp {\n  host: any,\n  component: any\n}\n\nclass AureliaFramework { \n  private components: IElementComponent[] = [];\n  private startTasks: (() => void)[] = [];\n  private stopTasks: (() => void)[] = [];\n  private isStarted = false;\n\n  register(...params: any[]) {\n    DI.register(...params);\n    return this;\n  }\n\n  app(config: ISinglePageApp) {\n    let component: IElementComponent = config.component;\n    let startTask = () => {\n      if (!this.components.includes(component)) {\n        this.components.push(component);\n        component.$hydrate(config.host);\n      }\n\n      component.$bind();\n      component.$attach();\n    };\n\n    this.startTasks.push(startTask);\n\n    this.stopTasks.push(() => {\n      component.$detach();\n      component.$unbind();\n    });\n\n    if (this.isStarted) {\n      startTask();\n    }\n    \n    return this;\n  }\n\n  start() {\n    this.isStarted = true;\n    this.startTasks.forEach(x => x());\n    return this;\n  }\n\n  stop() {\n    this.isStarted = false;\n    this.stopTasks.forEach(x => x());\n    return this;\n  }\n}\n\nexport const Aurelia = new AureliaFramework();\n(<any>PLATFORM.global).Aurelia = Aurelia;\n","import { Component, IAttributeSource } from \"./templating/component\";\nimport { PLATFORM } from \"./platform\";\nimport { DI, IContainer, Registration } from \"./di\";\nimport { BindingMode } from \"./binding/binding-mode\";\nimport { Constructable, Injectable } from \"./interfaces\";\nimport { ICompiledViewSource, IBindableInstruction } from \"./templating/instructions\";\n\nexport function customElement(nameOrSource: string | ICompiledViewSource) {\n  return function<T extends Constructable>(target: T) {\n    if (typeof nameOrSource === 'string') {\n      //TODO Patch in stub for jit components\n    } else {\n      return Component.elementFromCompiledSource(nameOrSource, target);\n    }\n  }\n}\n\n/**\n* Decorator: Indicates that the decorated class is a custom attribute.\n* @param name The name of the custom attribute.\n* @param defaultBindingMode The default binding mode to use when the attribute is bound with .bind.\n* @param aliases The array of aliases to associate to the custom attribute.\n*/\nexport function customAttribute(name: string, defaultBindingMode: BindingMode = BindingMode.oneWay, aliases?: string[]) {\n  return function<T extends Constructable>(target: T) {\n    return Component.attribute({\n      name,\n      defaultBindingMode: defaultBindingMode || BindingMode.oneWay,\n      aliases,\n      isTemplateController: !!(<any>target).isTemplateController\n    }, target);\n  }\n}\n\nexport function valueConverter(name: string) {\n  return function<T extends Constructable>(target: T) {\n    return Component.valueConverter({ name }, target);\n  }\n}\n\nexport function bindingBehavior(name: string) {\n  return function<T extends Constructable>(target: T) {\n    return Component.bindingBehavior({ name }, target);\n  }\n}\n\n/**\n* Decorator: Applied to custom attributes. Indicates that whatever element the\n* attribute is placed on should be converted into a template and that this\n* attribute controls the instantiation of the template.\n*/\nexport function templateController(target?) {\n  let deco = function<T extends Constructable>(target: T) {\n    (<any>target).isTemplateController = true;\n    return target;\n  }\n\n  return target ? deco(target) : deco;\n}\n\nconst defaultShadowOptions = { mode: 'open' };\n\n/**\n* Decorator: Indicates that the custom element should render its view in Shadow\n* DOM. This decorator may change slightly when Aurelia updates to Shadow DOM v1.\n*/\nexport function useShadowDOM(targetOrOptions?): any {\n  let options = typeof targetOrOptions === 'function' || !targetOrOptions\n    ? defaultShadowOptions\n    : targetOrOptions;\n\n  let deco = function<T extends Constructable>(target: T) {\n    (<any>target).shadowOptions = options;\n    return target;\n  }\n\n  return typeof targetOrOptions === 'function' ? deco(targetOrOptions) : deco;\n}\n\n/**\n* Decorator: Indicates that the custom element should be rendered without its\n* element container.\n*/\nexport function containerless(target?): any {\n  let deco = function<T extends Constructable>(target: T) {\n    (<any>target).containerless = true;\n    return target;\n  }\n\n  return target ? deco(target) : deco;\n}\n\nconst capitalMatcher = /([A-Z])/g;\n\nfunction addHyphenAndLower(char) {\n  return '-' + char.toLowerCase();\n}\n\nfunction hyphenate(name) {\n  return (name.charAt(0).toLowerCase() + name.slice(1)).replace(capitalMatcher, addHyphenAndLower);\n}\n\n/**\n* Decorator: Specifies custom behavior for a bindable property.\n* @param configOrTarget The overrides.\n*/\nexport function bindable(configOrTarget?: IBindableInstruction | Object, key?, descriptor?): any {\n  let deco = function(target, key2, descriptor2) {\n    target = target.constructor;\n    \n    let observables: Record<string, IBindableInstruction> = target.observables || (target.observables = {});\n    let config: IBindableInstruction = configOrTarget || {};\n    \n    if (!config.attribute) {\n      config.attribute = hyphenate(key2);\n    }\n\n    if (!config.callback) {\n      config.callback = `${key2}Changed`;\n    }\n\n    if (!config.mode) {\n      config.mode = BindingMode.oneWay;\n    }\n\n    observables[key2] = config;\n  };\n\n  if (key) { //placed on a property without parens\n    var target = configOrTarget;\n    configOrTarget = null; //ensure that the closure captures the fact that there's actually no config\n    return deco(target, key, descriptor);\n  }\n\n  return deco;\n}\n\n/**\n* Decorator: Directs the TypeScript transpiler to write-out type metadata for the decorated class.\n*/\nexport function autoinject<T extends Injectable>(potentialTarget?: T): any {\n  let deco = function<T extends Injectable>(target: T) {\n    let previousInject = target.inject ? target.inject.slice() : null; //make a copy of target.inject to avoid changing parent inject\n    let autoInject: any = DI.getDesignParamTypes(target);\n    \n    if (!previousInject) {\n      target.inject = autoInject;\n    } else {\n      for (let i = 0; i < autoInject.length; i++) {\n        //check if previously injected.\n        if (previousInject[i] && previousInject[i] !== autoInject[i]) {\n          const prevIndex = previousInject.indexOf(autoInject[i]);\n          if (prevIndex > -1) {\n            previousInject.splice(prevIndex, 1);\n          }\n          previousInject.splice((prevIndex > -1 && prevIndex < i) ? i - 1 : i, 0, autoInject[i]);\n        } else if (!previousInject[i]) {//else add\n          previousInject[i] = autoInject[i];\n        }\n      }\n\n      target.inject = previousInject;\n    }\n  };\n\n  return potentialTarget ? deco(potentialTarget) : deco;\n}\n\n/**\n* Decorator: Specifies the dependencies that should be injected by the DI Container into the decoratored class/function.\n*/\nexport function inject(...rest: any[]): any {\n  return function<T extends Injectable>(target: T, key?, descriptor?) {\n    // handle when used as a parameter\n    if (typeof descriptor === 'number' && rest.length === 1) {\n      let params = target.inject;\n\n      if (!params) {\n        params = DI.getDesignParamTypes(target).slice();\n        target.inject = params;\n      }\n\n      params[descriptor] = rest[0];\n      return;\n    }\n\n    // if it's true then we injecting rest into function and not Class constructor\n    if (descriptor) {\n      const fn = descriptor.value;\n      fn.inject = rest;\n    } else {\n      target.inject = rest;\n    }\n  };\n}\n","import { PLATFORM } from \"./platform\";\nimport { Injectable } from \"./interfaces\";\nimport { Reporter } from \"./reporter\";\n\ntype InterfaceSymbol = (target: Injectable, property: string, index: number) => any;\n\nfunction createInterface(key: string): InterfaceSymbol {\n  return function Key(target: Injectable, property: string, index: number) {\n    const inject = target.inject || (target.inject = []);\n    (<any>Key).key = key;\n    inject[index] = Key;\n    return target;\n  };\n}\n\nif (!('getOwnMetadata' in Reflect)) {\n  (<any>Reflect).getOwnMetadata = function(key, target) {\n    return target[key];\n  };\n\n  (<any>Reflect).metadata = function(key, value) {\n    return function(target) {\n      target[key] = value;\n    }\n  };\n}\n\nfunction getDesignParamTypes(target: any): any[] {\n  return (<any>Reflect).getOwnMetadata('design:paramtypes', target) || PLATFORM.emptyArray;\n};\n\nexport const IContainer = createInterface('IContainer');\n\nexport interface IContainer {\n  register(...params: any[]);\n  registerResolver(key: any, resolver: IResolver): IResolver;\n\n  get<T>(key: any): T;\n  getAll<T>(key: any): ReadonlyArray<T>;\n  \n  construct(type: Function, dynamicDependencies?: any[]): any;\n\n  createChild(): IContainer;\n}\n\nexport interface IResolver {\n  get(handler: IContainer, requestor: IContainer): any;\n}\n\nexport interface IRegistration {\n  register(container: IContainer, key?: any): IResolver;\n}\n\ntype Factory = (handler?: IContainer, requestor?: IContainer, resolver?: IResolver) => any;\n\nclass Resolver implements IResolver, IRegistration {\n  constructor(public key: any, public strategy: number, public state: any) {}\n\n  register(container: IContainer, key?: any) {\n    return container.registerResolver(key || this.key, this);\n  }\n\n  get(handler: IContainer, requestor: IContainer): any {\n    switch (this.strategy) {\n    case 0: //instance\n      return this.state;\n    case 1: //singleton\n      const singleton = handler.construct(this.state);\n      this.state = singleton;\n      this.strategy = 0; //switch to instance strategy\n      return singleton;\n    case 2: //transient\n      return requestor.construct(this.state); //always create transients from the requesting container\n    case 3: //function\n      return (<Factory>this.state)(handler, requestor, this);\n    case 4: //array\n      return this.state[0].get(handler, requestor);\n    case 5: //alias\n      return handler.get(this.state);\n    default:\n      throw Reporter.error(6, this.strategy);\n    }\n  }\n}\n\ninterface IInvoker {\n  invoke(container: IContainer, fn: Function, dependencies: any[]): any;\n  invokeWithDynamicDependencies(container: IContainer, fn: Function, staticDependencies: any[], dynamicDependencies: any[]): any;\n}\n\nclass InvocationHandler {\n  fn: Function;\n  invoker: IInvoker;\n  dependencies: any[];\n\n  constructor(fn: Function, invoker: IInvoker, dependencies: any[]) {\n    this.fn = fn;\n    this.invoker = invoker;\n    this.dependencies = dependencies;\n  }\n\n  invoke(container: IContainer, dynamicDependencies?: any[]): any {\n    return dynamicDependencies !== undefined\n      ? this.invoker.invokeWithDynamicDependencies(container, this.fn, this.dependencies, dynamicDependencies)\n      : this.invoker.invoke(container, this.fn, this.dependencies);\n  }\n}\n\ninterface IContainerConfiguration {\n  handlers?: Map<Function, any>;\n}\n\nclass Container implements IContainer {\n  private parent: Container = null\n  private resolvers = new Map<any, IResolver>();\n  private handlers: Map<Function, any>;\n  private configuration: IContainerConfiguration;\n\n  constructor(configuration: IContainerConfiguration = {}) {\n    this.configuration = configuration;\n    this.handlers = configuration.handlers || (configuration.handlers = new Map());\n  }\n\n  register(...params: any[]) {\n    const resolvers = this.resolvers;\n\n    for (let i = 0, ii = params.length; i < ii; ++i) {\n      const current = params[i];\n      \n      if (current.register) {\n        current.register(this);\n      } else {\n        Object.values(current).forEach((x: any) => {\n          if (x.register) {\n            x.register(this);\n          }\n        });\n      }\n    }\n  }\n\n  registerResolver(key: any, resolver: IResolver): IResolver {\n    validateKey(key);\n\n    const resolvers = this.resolvers;\n    const result = resolvers.get(key);\n\n    if (result === undefined) {\n      resolvers.set(key, resolver);\n    } else if (resolver instanceof Resolver && (<Resolver>resolver).strategy === 4) {\n      (<Resolver>result).state.push(resolver);\n    } else {\n      resolvers.set(key, new Resolver(key, 4, [result, resolver]));\n    }\n\n    return resolver;\n  }\n\n  get(key: any) {\n    if (key === IContainer) {\n      return this;\n    }\n\n    if (key.get) {\n      return key.get(this, this);\n    }\n\n    const resolver = this.resolvers.get(key);\n\n    if (resolver === undefined) {\n      if (this.parent === null) {\n        return this.jitRegister(key, this).get(this, this);\n      }\n\n      if (key.register) {\n        return key.register(this, key).get(this, this);\n      }\n\n      return this.parent.parentGet(key, this);\n    }\n\n    return resolver.get(this, this);\n  }\n\n  private parentGet(key: any, requestor: IContainer) {\n    const resolver = this.resolvers.get(key);\n\n    if (resolver === undefined) {\n      if (this.parent === null) {\n        return this.jitRegister(key, requestor).get(this, requestor);\n      }\n\n      return this.parent.parentGet(key, requestor);\n    }\n\n    return resolver.get(this, requestor);\n  }\n\n  getAll(key: any): ReadonlyArray<any> {\n    validateKey(key);\n\n    const resolver = this.resolvers.get(key);\n\n    if (resolver === undefined) {\n      if (this.parent === null) {\n        return PLATFORM.emptyArray;\n      }\n\n      return this.parent.parentGetAll(key, this);\n    }\n\n    return buildAllResponse(resolver, this, this);\n  }\n\n  private parentGetAll(key: any, requestor: IContainer): ReadonlyArray<any> {\n    const resolver = this.resolvers.get(key);\n\n    if (resolver === undefined) {\n      if (this.parent === null) {\n        return PLATFORM.emptyArray;\n      }\n\n      return this.parent.parentGetAll(key, requestor);\n    }\n\n    return buildAllResponse(resolver, this, requestor);\n  }\n\n  private jitRegister(keyAsValue: any, requestor: IContainer): IResolver {\n    if (keyAsValue.register) {\n      return keyAsValue.register(this, keyAsValue);\n    }\n\n    const strategy = new Resolver(keyAsValue, 1, keyAsValue);\n    this.resolvers.set(keyAsValue, strategy);\n    return strategy;\n  }\n\n  construct(type: Function, dynamicDependencies?: any[]) {\n    let handler = this.handlers.get(type);\n\n    if (handler === undefined) {\n      handler = this.createInvocationHandler(type);\n      this.handlers.set(type, handler);\n    }\n\n    return handler.invoke(this, dynamicDependencies);\n  }\n\n  private createInvocationHandler(fn: Function & { inject?: any }): InvocationHandler {\n    let dependencies;\n\n    if (fn.inject === undefined) {\n      dependencies = getDesignParamTypes(fn);\n    } else {\n      dependencies = [];\n      let ctor = fn;\n\n      while (typeof ctor === 'function') {\n        dependencies.push(...getDependencies(ctor));\n        ctor = Object.getPrototypeOf(ctor);\n      }\n    }\n\n    let invoker = classInvokers[dependencies.length] || classInvokers.fallback;\n    return new InvocationHandler(fn, invoker, dependencies);\n  }\n\n  createChild(): IContainer {\n    const child = new Container(this.configuration);\n    child.parent = this;\n    return child;\n  }\n}\n\nconst container: any = new Container();\n\ncontainer.createInterface = createInterface;\ncontainer.getDesignParamTypes = getDesignParamTypes;\n\nexport const DI: IContainer & { \n  createInterface(key: string): InterfaceSymbol;\n  getDesignParamTypes(target: any): any[];\n} = <any>container;\n\nexport const Registration = {\n  instance(key: any, value: any): IRegistration {\n    return new Resolver(key, 0, value);\n  },\n\n  singleton(key: any, value: Function): IRegistration {\n    return new Resolver(key, 1, value);\n  },\n\n  transient(key: any, value: Function): IRegistration {\n    return new Resolver(key, 2, value);\n  },\n\n  factory(key: any, value: Factory): IRegistration {\n    return new Resolver(key, 3, value);\n  },\n\n  alias(originalKey: any, aliasKey: any): IRegistration {\n    return new Resolver(aliasKey, 5, originalKey);\n  }\n};\n\nfunction validateKey(key: any) {\n  if (key === null || key === undefined) {\n    throw Reporter.error(5);\n  }\n}\n\nfunction buildAllResponse(resolver: IResolver, handler: IContainer, requestor: IContainer) {\n  if (resolver instanceof Resolver && (<Resolver>resolver).strategy === 4) {\n    const state = (<Resolver>resolver).state;\n    let i = state.length;\n    const results = new Array(i);\n\n    while (i--) {\n      results[i] = state[i].get(handler, requestor);\n    }\n\n    return results;\n  }\n\n  return [resolver.get(handler, requestor)];\n}\n\nfunction getDependencies(type) {\n  if (!type.hasOwnProperty('inject')) {\n    return PLATFORM.emptyArray;\n  }\n\n  return type.inject;\n}\n\nconst classInvokers: Record<string, IInvoker> = {\n  [0]: {\n    invoke(container: IContainer, Type: Function) {\n      return new (<any>Type)();\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  [1]: {\n    invoke(container: IContainer, Type: Function, deps: any[]) {\n      return new (<any>Type)(container.get(deps[0]));\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  [2]: {\n    invoke(container: IContainer, Type: Function, deps: any[]) {\n      return new (<any>Type)(container.get(deps[0]), container.get(deps[1]));\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  [3]: {\n    invoke(container: IContainer, Type: Function, deps: any[]) {\n      return new (<any>Type)(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]));\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  [4]: {\n    invoke(container: IContainer, Type: Function, deps: any[]) {\n      return new (<any>Type)(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]), container.get(deps[3]));\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  [5]: {\n    invoke(container: IContainer, Type: Function, deps: any[]) {\n      return new (<any>Type)(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]), container.get(deps[3]), container.get(deps[4]));\n    },\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  },\n  fallback: {\n    invoke: <any>invokeWithDynamicDependencies,\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }\n};\n\nfunction invokeWithDynamicDependencies(container: IContainer, fn: Function, staticDependencies, dynamicDependencies) {\n  let i = staticDependencies.length;\n  let args = new Array(i);\n  let lookup;\n\n  while (i--) {\n    lookup = staticDependencies[i];\n\n    if (lookup === null || lookup === undefined) {\n      throw Reporter.error(7, `Index ${i}.`);\n    } else {\n      args[i] = container.get(lookup);\n    }\n  }\n\n  if (dynamicDependencies !== undefined) {\n    args = args.concat(dynamicDependencies);\n  }\n\n  return Reflect.construct(fn, args);\n}\n","import { IContainer, IResolver, DI } from \"./di\";\nimport { IElementComponent } from \"./templating/component\";\n\nexport const INode = DI.createInterface('INode');\n\nexport interface INodeLike {\n  readonly firstChild: INode | null;\n  readonly lastChild: INode | null;\n  readonly childNodes: ArrayLike<INode>;\n}\n\nexport interface INode extends INodeLike {\n  readonly parentNode: INode | null;\n  readonly nextSibling: INode | null;\n  readonly previousSibling: INode | null;\n}\n\nexport interface IView extends INodeLike {\n  childNodes: INode[];\n\n  findTargets(): ArrayLike<INode>;\n  appendChild(child: INode): void;\n  insertBefore(refNode: INode): void;\n  appendTo(parent: INode): void;\n  remove(): void;\n}\n\nexport interface IChildObserver {\n  childNodes: ArrayLike<INode>;\n  disconnect(): void;\n}\n\nlet platformSupportsShadowDOM = function() {\n  let available = !!HTMLElement.prototype.attachShadow;\n  platformSupportsShadowDOM = () => available;\n  return available;\n};\n\nexport const DOM = {\n  createFactoryFromMarkup(markup: string): () => IView {\n    let template = document.createElement('template');\n    template.innerHTML = markup;\n    return () => new TemplateView(template);\n  },\n\n  createElement(name: string): INode {\n    return <any>document.createElement(name);\n  },\n\n  createAnchor(): INode {\n    return document.createComment('anchor');\n  },\n\n  createChildObserver(parent: INode, onChildrenChanged: () => void, options?: any): IChildObserver {\n    if (DOM.isUsingSlotEmulation(parent)) {\n      return DOM.getComponentForNode(parent).$contentView.attachChildObserver(onChildrenChanged);\n    } else {\n      let observer = new MutationObserver(onChildrenChanged);\n      (<any>observer).childNodes = parent.childNodes;\n      observer.observe(<Node>parent, options || { childList: true });\n      return <any>observer;\n    }\n  },\n\n  createElementViewHost(node: INode, options?: any): INode {\n    if (options && platformSupportsShadowDOM()) {\n      return (<Element>node).attachShadow(options);\n    }\n\n    (<any>node).$usingSlotEmulation = true;\n    return node;\n  },\n\n  cloneNode(node: INode, deep = true): INode {\n    return (<Node>node).cloneNode(deep);\n  },\n\n  getComponentForNode(node: INode): IElementComponent | null {\n    return (<any>node).$component || null; //Set during component $hydrate\n  },\n\n  isUsingSlotEmulation(node: INode): boolean {\n    return !!(<any>node).$usingSlotEmulation;\n  },\n\n  isNodeInstance(potentialNode: any): potentialNode is INode {\n    return potentialNode instanceof Element;\n  },\n\n  isElementNodeType(node: INode): boolean {\n    return (<Node>node).nodeType === 1;\n  },\n\n  isTextNodeType(node: INode): boolean {\n    return (<Node>node).nodeType === 3;\n  },\n\n  normalizedTagName(node: INode): string {\n    let name = (<Element>node).tagName;\n    return name ? name.toLowerCase() : null;\n  },\n\n  remove(node: INodeLike) {\n    if ((<any>node).remove) {\n      (<any>node).remove();\n    } else if ((<Node>node).parentNode) {\n      (<Node>node).parentNode.removeChild(<Node>node);\n    }\n  },\n\n  replaceNode(newChild: INode, oldChild: INode): void {\n    if (oldChild.parentNode) {\n      (<Node>oldChild.parentNode).replaceChild(<Node>newChild, <Node>oldChild);\n    }\n  },\n\n  appendChild(parent: INode, child: INode): void {\n    (<Node>parent).appendChild(<Node>child);\n  },\n\n  insertBefore(nodeToInsert: INode, referenceNode: INode): void {\n    (<Node>referenceNode.parentNode).insertBefore(<Node>nodeToInsert, <Node>referenceNode);\n  },\n\n  getAttribute(node: INode, name: string): any {\n    return (<Element>node).getAttribute(name);\n  },\n\n  setAttribute(node: INode, name: string, value: any): void {\n    (<Element>node).setAttribute(name, value);\n  },\n\n  removeAttribute(node: INode, name: string): void {\n    (<Element>node).removeAttribute(name);\n  },\n\n  hasClass(node: INode, className: string): boolean {\n    return (<Element>node).classList.contains(className);\n  },\n  \n  addClass(node: INode, className: string): void {\n    (<Element>node).classList.add(className);\n  },\n\n  removeClass(node: INode, className: string): void {\n    (<Element>node).classList.remove(className);\n  },\n\n  addEventListener(eventName: string, subscriber: any, publisher?: INode, options?: any) {\n    publisher = publisher || document;\n    (<Node>publisher).addEventListener(eventName, subscriber, options);\n  },\n\n  removeEventListener(eventName: string, subscriber: any, publisher?: INode, options?: any) {\n    publisher = publisher || document;\n    (<Node>publisher).removeEventListener(eventName, subscriber, options);\n  },\n\n  isAllWhitespace(node: INode): boolean {\n    // Use ECMA-262 Edition 3 String and RegExp features\n    return !((<any>node).auInterpolationTarget || (/[^\\t\\n\\r ]/.test((<Node>node).textContent)));\n  },\n\n  treatAsNonWhitespace(node: INode): void {\n    //See isWhitespace above for an explanation.\n    (<any>node).auInterpolationTarget = true;\n  },\n\n  convertToAnchor(node: INode, proxy = false): INode {\n    let anchor = <any>DOM.createAnchor();\n  \n    if (proxy) {\n      anchor.$proxyTarget = node;\n      anchor.hasAttribute = hasAttribute;\n      anchor.getAttribute = getAttribute;\n      anchor.setAttribute = setAttribute;\n    }\n  \n    DOM.replaceNode(anchor, node);\n  \n    return anchor;\n  },\n\n  registerElementResolver(container: IContainer, resolver: IResolver): void {\n    container.registerResolver(INode, resolver);\n    container.registerResolver(Element, resolver);\n    container.registerResolver(HTMLElement, resolver);\n    container.registerResolver(SVGElement, resolver);\n  }\n}\n\nfunction hasAttribute(name) {\n  return this.$proxyTarget.hasAttribute(name);\n}\n\nfunction getAttribute(name) {\n  return this.$proxyTarget.getAttribute(name);\n}\n\nfunction setAttribute(name, value) {\n  this.$proxyTarget.setAttribute(name, value);\n}\n\nclass TemplateView implements IView {\n  private fragment: DocumentFragment;\n\n  firstChild: INode;\n  lastChild: INode;\n  childNodes: INode[];\n\n  constructor(template: HTMLTemplateElement) {\n    let container = this.fragment = <DocumentFragment>template.content.cloneNode(true);\n    this.firstChild = container.firstChild;\n    this.lastChild = container.lastChild;\n    this.childNodes = Array.from(container.childNodes);\n  }\n\n  appendChild(node: INode) {\n    DOM.appendChild(this.fragment, node);\n  }\n\n  findTargets(): ArrayLike<INode> {\n    return this.fragment.querySelectorAll('.au');\n  }\n\n  insertBefore(refNode: INode): void {\n    DOM.insertBefore(this.fragment, refNode);\n  }\n\n  appendTo(parent: INode): void {\n    DOM.appendChild(parent, this.fragment);\n  }\n\n  remove(): void {\n    let fragment = this.fragment;\n    let current = this.firstChild;\n    let end = this.lastChild;\n    let append = DOM.appendChild;\n    let next;\n\n    while (current) {\n      next = current.nextSibling;\n      append(fragment, current);\n\n      if (current === end) {\n        break;\n      }\n\n      current = next;\n    }\n  }\n}\n",null,"const global = (function() {\n  // Workers don’t have `window`, only `self`\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  // Not all environments allow eval and Function\n  // Use only as a last resort:\n  return new Function('return this')();\n})();\n\nexport const PLATFORM = {\n  global: global,\n  emptyArray: <Array<any>>Object.freeze([]),\n  emptyObject: Object.freeze({}),\n  noop: function() {},\n\n  now(): number {\n    return performance.now();\n  },\n\n  requestAnimationFrame(callback: (time: number) => void): number {\n    return requestAnimationFrame(callback);\n  },\n\n  createTaskFlushRequester(onFlush: () => void) {\n    return function requestFlush() {\n      // We dispatch a timeout with a specified delay of 0 for engines that\n      // can reliably accommodate that request. This will usually be snapped\n      // to a 4 milisecond delay, but once we're flushing, there's no delay\n      // between events.\n      const timeoutHandle = setTimeout(handleFlushTimer, 0);\n      \n      // However, since this timer gets frequently dropped in Firefox\n      // workers, we enlist an interval handle that will try to fire\n      // an event 20 times per second until it succeeds.\n      const intervalHandle = setInterval(handleFlushTimer, 50);\n  \n      function handleFlushTimer() {\n        // Whichever timer succeeds will cancel both timers and request the\n        // flush.\n        clearTimeout(timeoutHandle);\n        clearInterval(intervalHandle);\n        onFlush();\n      }\n    };\n  },\n\n  createMicroTaskFlushRequestor(onFlush:  () => void): () => void {\n    let toggle = 1;\n    const observer = new MutationObserver(onFlush);\n    const node = document.createTextNode('');\n\n    observer.observe(node, { characterData: true });\n    \n    return function requestFlush() {\n      toggle = -toggle;\n      node.data = toggle.toString();\n    };\n  }\n};\n","export const Reporter = {\n  write(code: number, ...params: any[]): void { },\n  error(code: number, ...params: any[]): Error { return new Error(`Code ${code}`); }\n};\n","import { ICallable } from './interfaces';\nimport { DI } from './di';\nimport { Reporter } from './reporter';\nimport { PLATFORM } from './platform';\n\nexport const ITaskQueue = DI.createInterface('ITaskQueue');\n\nexport interface ITaskQueue {\n  /**\n   * Whether the queue is in the process of flushing.\n   */\n  flushing: boolean;\n\n  /**\n   * Enables long stack traces for queued tasks.\n   */\n  longStacks: boolean;\n\n  /**\n  * Queues a task on the micro task queue for ASAP execution.\n  * @param task The task to queue up for ASAP execution.\n  */\n  queueMicroTask(task: ICallable & { stack?: string }): void\n\n  /**\n  * Immediately flushes the micro task queue.\n  */\n  flushMicroTaskQueue(): void\n\n  /**\n  * Queues a task on the macro task queue for turn-based execution.\n  * @param task The task to queue up for turn-based execution.\n  */\n  queueTask(task: ICallable & { stack?: string }): void\n\n  /**\n  * Immediately flushes the task queue.\n  */\n  flushTaskQueue(): void\n}\n\nclass TaskQueueImplementation implements ITaskQueue {\n  private microTaskQueue: ICallable[] = [];\n  private taskQueue: ICallable[] = [];\n  private microTaskQueueCapacity = 1024;\n  private requestFlushMicroTaskQueue = PLATFORM.createMicroTaskFlushRequestor(() => this.flushMicroTaskQueue());\n  private requestFlushTaskQueue = PLATFORM.createTaskFlushRequester(() => this.flushTaskQueue());\n  private stack: string;\n\n  flushing = false;\n  longStacks = false;\n\n  private flushQueue(queue: (ICallable & { stack?: string })[], capacity: number): void {\n    let index = 0;\n    let task;\n\n    try {\n      this.flushing = true;\n      while (index < queue.length) {\n        task = queue[index];\n        if (this.longStacks) {\n          this.stack = typeof task.stack === 'string' ? task.stack : undefined;\n        }\n        task.call();\n        index++;\n\n        // Prevent leaking memory for long chains of recursive calls to `queueMicroTask`.\n        // If we call `queueMicroTask` within a MicroTask scheduled by `queueMicroTask`, the queue will\n        // grow, but to avoid an O(n) walk for every MicroTask we execute, we don't\n        // shift MicroTasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 MicroTasks off the queue.\n        if (index > capacity) {\n          // Manually shift all values starting at the index back to the\n          // beginning of the queue.\n          for (let scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n            queue[scan] = queue[scan + index];\n          }\n\n          queue.length -= index;\n          index = 0;\n        }\n      }\n    } catch (error) {\n      this.onError(error, task);\n    } finally {\n      this.flushing = false;\n    }\n  }\n\n  queueMicroTask(task: ICallable & { stack?: string }): void {\n    if (this.microTaskQueue.length < 1) {\n      this.requestFlushMicroTaskQueue();\n    }\n\n    if (this.longStacks) {\n      task.stack = this.prepareMicroTaskStack();\n    }\n\n    this.microTaskQueue.push(task);\n  }\n\n  flushMicroTaskQueue(): void {\n    let queue = this.microTaskQueue;\n    this.flushQueue(queue, this.microTaskQueueCapacity);\n    queue.length = 0;\n  }\n\n  queueTask(task: ICallable & { stack?: string }): void {\n    if (this.taskQueue.length < 1) {\n      this.requestFlushTaskQueue();\n    }\n\n    if (this.longStacks) {\n      task.stack = this.prepareTaskStack();\n    }\n\n    this.taskQueue.push(task);\n  }\n\n  flushTaskQueue(): void {\n    let queue = this.taskQueue;\n    this.taskQueue = []; //recursive calls to queueTask should be scheduled after the next cycle\n    this.flushQueue(queue, Number.MAX_VALUE);\n  }\n\n  // Overwritten in debug mode.\n  private prepareTaskStack(): string {\n    throw Reporter.error(13);\n  }\n\n  // Overwritten in debug mode.\n  private prepareMicroTaskStack(): string {\n    throw Reporter.error(13);\n  }\n\n  // Overwritten in debug mode via late binding.\n  private onError(error: any, task: any){\n    if ('onError' in task) {\n      task.onError(error);\n    } else {\n      setTimeout(() => { throw error; }, 0);\n    }\n  }\n}\n\nexport const TaskQueue: ITaskQueue = new TaskQueueImplementation();\n","import { BindingContext as RuntimeContext, IScope } from '../../runtime/binding/binding-context';\n\nexport const BindingContext = Object.assign(RuntimeContext, {\n  createScopeForTest(bindingContext: any, parentBindingContext?: any): IScope {\n    if (parentBindingContext) {\n      return {\n        bindingContext,\n        overrideContext: this.createOverride(bindingContext, this.createOverride(parentBindingContext))\n      };\n    }\n\n    return {\n      bindingContext,\n      overrideContext: this.createOverride(bindingContext)\n    };\n  }\n});\n","import * as AST from \"../../runtime/binding/ast\";\n\nexport function enableImprovedExpressionDebugging() {\n  [\n    { type: AST.AccessKeyed, name: 'AccessKeyed' },\n    { type: AST.AccessMember, name: 'AccessMember' },\n    { type: AST.AccessScope, name: 'AccessScope' },\n    { type: AST.AccessThis, name: 'AccessThis' },\n    { type: AST.Assign, name: 'Assign' },\n    { type: AST.Binary, name: 'Binary' },\n    { type: AST.BindingBehavior, name: 'BindingBehavior' },\n    { type: AST.CallFunction, name: 'CallFunction' },\n    { type: AST.CallMember, name: 'CallMember' },\n    { type: AST.CallScope, name: 'CallScope' },\n    { type: AST.Chain, name: 'Chain' },\n    { type: AST.Conditional, name: 'Conditional' },\n    { type: AST.LiteralArray, name: 'LiteralArray' },\n    { type: AST.LiteralObject, name: 'LiteralObject' },\n    { type: AST.LiteralPrimitive, name: 'LiteralPrimitive' },\n    { type: AST.LiteralString, name: 'LiteralString' },\n    { type: AST.PrefixNot, name: 'Prefix' }, //pattern variation\n    { type: AST.TemplateLiteral, name: 'TemplateLiteral' },\n    { type: AST.ValueConverter, name: 'ValueConverter' }\n  ].forEach(x => adoptDebugMethods(x.type, x.name));\n}\n\nfunction adoptDebugMethods(type, name: string) {\n  type.prototype.toString = function() { return Unparser.unparse(this); };\n  type.prototype.accept = function(visitor) { return visitor['visit' + name](this); };\n}\n\nclass Unparser {\n  constructor(private buffer: string[]) {\n    this.buffer = buffer;\n  }\n\n  static unparse(expression: any) {\n    let buffer = [];\n    let visitor = new Unparser(buffer);\n\n    expression.accept(visitor);\n\n    return buffer.join('');\n  }\n\n  write(text) {\n    this.buffer.push(text);\n  }\n\n  writeArgs(args) {\n    this.write('(');\n\n    for (let i = 0, length = args.length; i < length; ++i) {\n      if (i !== 0) {\n        this.write(',');\n      }\n\n      args[i].accept(this);\n    }\n\n    this.write(')');\n  }\n\n  visitChain(chain) {\n    let expressions = chain.expressions;\n\n    for (let i = 0, length = expressions.length; i < length; ++i) {\n      if (i !== 0) {\n        this.write(';');\n      }\n\n      expressions[i].accept(this);\n    }\n  }\n\n  visitBindingBehavior(behavior) {\n    let args = behavior.args;\n\n    behavior.expression.accept(this);\n    this.write(`&${behavior.name}`);\n\n    for (let i = 0, length = args.length; i < length; ++i) {\n      this.write(':');\n      args[i].accept(this);\n    }\n  }\n\n  visitValueConverter(converter) {\n    let args = converter.args;\n\n    converter.expression.accept(this);\n    this.write(`|${converter.name}`);\n\n    for (let i = 0, length = args.length; i < length; ++i) {\n      this.write(':');\n      args[i].accept(this);\n    }\n  }\n\n  visitAssign(assign) {\n    assign.target.accept(this);\n    this.write('=');\n    assign.value.accept(this);\n  }\n\n  visitConditional(conditional) {\n    conditional.condition.accept(this);\n    this.write('?');\n    conditional.yes.accept(this);\n    this.write(':');\n    conditional.no.accept(this);\n  }\n\n  visitAccessThis(access) {\n    if (access.ancestor === 0) {\n      this.write('$this');\n      return;\n    }\n    this.write('$parent');\n    let i = access.ancestor - 1;\n    while (i--) {\n      this.write('.$parent');\n    }\n  }\n\n  visitAccessScope(access) {\n    let i = access.ancestor;\n    while (i--) {\n      this.write('$parent.');\n    }\n    this.write(access.name);\n  }\n\n  visitAccessMember(access) {\n    access.object.accept(this);\n    this.write(`.${access.name}`);\n  }\n\n  visitAccessKeyed(access) {\n    access.object.accept(this);\n    this.write('[');\n    access.key.accept(this);\n    this.write(']');\n  }\n\n  visitCallScope(call) {\n    let i = call.ancestor;\n    while (i--) {\n      this.write('$parent.');\n    }\n    this.write(call.name);\n    this.writeArgs(call.args);\n  }\n\n  visitCallFunction(call) {\n    call.func.accept(this);\n    this.writeArgs(call.args);\n  }\n\n  visitCallMember(call) {\n    call.object.accept(this);\n    this.write(`.${call.name}`);\n    this.writeArgs(call.args);\n  }\n\n  visitPrefix(prefix) {\n    this.write(`(${prefix.operation}`);\n    prefix.expression.accept(this);\n    this.write(')');\n  }\n\n  visitBinary(binary) {\n    binary.left.accept(this);\n    this.write(binary.operation);\n    binary.right.accept(this);\n  }\n\n  visitLiteralPrimitive(literal) {\n    this.write(`${literal.value}`);\n  }\n\n  visitLiteralArray(literal) {\n    let elements = literal.elements;\n\n    this.write('[');\n\n    for (let i = 0, length = elements.length; i < length; ++i) {\n      if (i !== 0) {\n        this.write(',');\n      }\n\n      elements[i].accept(this);\n    }\n\n    this.write(']');\n  }\n\n  visitLiteralObject(literal) {\n    let keys = literal.keys;\n    let values = literal.values;\n\n    this.write('{');\n\n    for (let i = 0, length = keys.length; i < length; ++i) {\n      if (i !== 0) {\n        this.write(',');\n      }\n\n      this.write(`'${keys[i]}':`);\n      values[i].accept(this);\n    }\n\n    this.write('}');\n  }\n\n  visitLiteralString(literal) {\n    let escaped = literal.value.replace(/'/g, \"\\'\");\n    this.write(`'${escaped}'`);\n  }\n\n  visitTemplateLiteral(node) {\n    let parts = node.parts;\n\n    for (let i = 0, length = parts.length; i < length; ++i) {\n      parts[i].accept(this);\n    }\n  }\n}\n","import { Expression as RuntimeExpression } from '../../runtime/binding/expression';\nimport { IExpression } from '../../runtime/binding/ast';\n\nexport const Expression: typeof RuntimeExpression = Object.assign(RuntimeExpression, {\n  compile(expression: string): IExpression {\n    throw new Error('Expression Compilation Not Implemented');\n  }\n});\n","function isIndex(s: any): s is number {\n  return +s === s >>> 0;\n}\n\nfunction toNumber(s: any): number {\n  return +s;\n}\n\nfunction newSplice(index: number, removed: any, addedCount: any) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n\nfunction ArraySplice() { }\n\nArraySplice.prototype = {\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances: function(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n    // \"Deletion\" columns\n    let rowCount = oldEnd - oldStart + 1;\n    let columnCount = currentEnd - currentStart + 1;\n    let distances = new Array(rowCount);\n    let north;\n    let west;\n\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; ++i) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (let j = 0; j < columnCount; ++j) {\n      distances[0][j] = j;\n    }\n\n    for (let i = 1; i < rowCount; ++i) {\n      for (let j = 1; j < columnCount; ++j) {\n        if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1])) {\n          distances[i][j] = distances[i - 1][j - 1];\n        } else {\n          north = distances[i - 1][j] + 1;\n          west = distances[i][j - 1] + 1;\n          distances[i][j] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances: function(distances: any) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    let edits = [];\n    while (i > 0 || j > 0) {\n      if (i === 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j === 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      let northWest = distances[i - 1][j - 1];\n      let west = distances[i - 1][j];\n      let north = distances[i][j - 1];\n\n      let min;\n      if (west < north) {\n        min = west < northWest ? west : northWest;\n      } else {\n        min = north < northWest ? north : northWest;\n      }\n\n      if (min === northWest) {\n        if (northWest === current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min === west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices: function(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n\n    let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart === 0 && oldStart === 0) {\n      prefixCount = this.sharedPrefix(current, old, minLength);\n    }\n\n    if (currentEnd === current.length && oldEnd === old.length) {\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n    }\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if ((currentEnd - currentStart) === 0 && (oldEnd - oldStart) === 0) {\n      return [];\n    }\n\n    if (currentStart === currentEnd) {\n      let splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd) {\n        splice.removed.push(old[oldStart++]);\n      }\n\n      return [splice];\n    } else if (oldStart === oldEnd) {\n      return [newSplice(currentStart, [], currentEnd - currentStart)];\n    }\n\n    let ops = this.spliceOperationsFromEditDistances(\n      this.calcEditDistances(current, currentStart, currentEnd,\n        old, oldStart, oldEnd));\n\n    let splice = undefined;\n    let splices = [];\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; ++i) {\n      switch (ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        // no default\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix: function(current: any, old: any, searchLength: any) {\n    for (let i = 0; i < searchLength; ++i) {\n      if (!this.equals(current[i], old[i])) {\n        return i;\n      }\n    }\n\n    return searchLength;\n  },\n\n  sharedSuffix: function(current: any, old: any, searchLength: any) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2])) {\n      count++;\n    }\n\n    return count;\n  },\n\n  calculateSplices: function(current: any, previous: any) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n      previous.length);\n  },\n\n  equals: function(currentValue: any, previousValue: any) {\n    return currentValue === previousValue;\n  }\n};\n\nlet arraySplice = new ArraySplice();\n\nexport function calcSplices(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n  return arraySplice.calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd);\n}\n\nfunction intersect(start1: any, end1: any, start2: any, end2: any) {\n  // Disjoint\n  if (end1 < start2 || end2 < start1) {\n    return -1;\n  }\n\n  // Adjacent\n  if (end1 === start2 || end2 === start1) {\n    return 0;\n  }\n\n  // Non-zero intersect, span1 first\n  if (start1 < start2) {\n    if (end1 < end2) {\n      return end1 - start2; // Overlap\n    }\n\n    return end2 - start2; // Contained\n  }\n\n  // Non-zero intersect, span2 first\n  if (end2 < end1) {\n    return end2 - start1; // Overlap\n  }\n\n  return end1 - start1; // Contained\n}\n\nexport function mergeSplice(splices: any[], index: number, removed: any, addedCount: any) {\n  let splice = newSplice(index, removed, addedCount);\n\n  let inserted = false;\n  let insertionOffset = 0;\n\n  for (let i = 0; i < splices.length; i++) {\n    let current = splices[i];\n    current.index += insertionOffset;\n\n    if (inserted) {\n      continue;\n    }\n\n    let intersectCount = intersect(splice.index,\n      splice.index + splice.removed.length,\n      current.index,\n      current.index + current.addedCount);\n\n    if (intersectCount >= 0) {\n      // Merge the two splices\n\n      splices.splice(i, 1);\n      i--;\n\n      insertionOffset -= current.addedCount - current.removed.length;\n\n      splice.addedCount += current.addedCount - intersectCount;\n      let deleteCount = splice.removed.length +\n        current.removed.length - intersectCount;\n\n      if (!splice.addedCount && !deleteCount) {\n        // merged splice is a noop. discard.\n        inserted = true;\n      } else {\n        let currentRemoved = current.removed;\n\n        if (splice.index < current.index) {\n          // some prefix of splice.removed is prepended to current.removed.\n          let prepend = splice.removed.slice(0, current.index - splice.index);\n          Array.prototype.push.apply(prepend, currentRemoved);\n          currentRemoved = prepend;\n        }\n\n        if (splice.index + splice.removed.length > current.index + current.addedCount) {\n          // some suffix of splice.removed is appended to current.removed.\n          let append = splice.removed.slice(current.index + current.addedCount - splice.index);\n          Array.prototype.push.apply(currentRemoved, append);\n        }\n\n        splice.removed = currentRemoved;\n        if (current.index < splice.index) {\n          splice.index = current.index;\n        }\n      }\n    } else if (splice.index < current.index) {\n      // Insert splice here.\n\n      inserted = true;\n\n      splices.splice(i, 0, splice);\n      i++;\n\n      let offset = splice.addedCount - splice.removed.length;\n      current.index += offset;\n      insertionOffset += offset;\n    }\n  }\n\n  if (!inserted) {\n    splices.push(splice);\n  }\n}\n\nfunction createInitialSplices(array: any[], changeRecords: any[]) {\n  let splices = [];\n\n  for (let i = 0; i < changeRecords.length; i++) {\n    let record = changeRecords[i];\n    switch (record.type) {\n      case 'splice':\n        mergeSplice(splices, record.index, record.removed.slice(), record.addedCount);\n        break;\n      case 'add':\n      case 'update':\n      case 'delete':\n        if (!isIndex(record.name)) {\n          continue;\n        }\n\n        let index = toNumber(record.name);\n        if (index < 0) {\n          continue;\n        }\n\n        mergeSplice(splices, index, [record.oldValue], record.type === 'delete' ? 0 : 1);\n        break;\n      default:\n        console.error('Unexpected record type: ' + JSON.stringify(record)); // eslint-disable-line no-console\n        break;\n    }\n  }\n\n  return splices;\n}\n\nexport function projectArraySplices(array: any[], changeRecords: any[]) {\n  let splices = [];\n\n  createInitialSplices(array, changeRecords).forEach(function(splice) {\n    if (splice.addedCount === 1 && splice.removed.length === 1) {\n      if (splice.removed[0] !== array[splice.index]) {\n        splices.push(splice);\n      }\n\n      return;\n    }\n\n    splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount,\n      splice.removed, 0, splice.removed.length));\n  });\n\n  return splices;\n}\n","/* eslint-disable no-extend-native */\nimport { ModifyCollectionObserver } from './collection-observation';\n\nlet pop = Array.prototype.pop;\nlet push = Array.prototype.push;\nlet reverse = Array.prototype.reverse;\nlet shift = Array.prototype.shift;\nlet sort = Array.prototype.sort;\nlet splice = Array.prototype.splice;\nlet unshift = Array.prototype.unshift;\n\nArray.prototype.pop = function() {\n  let notEmpty = this.length > 0;\n  let methodCallResult = pop.apply(this, arguments);\n  if (notEmpty && this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'delete',\n      object: this,\n      name: this.length,\n      oldValue: methodCallResult\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.push = function() {\n  let methodCallResult = push.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: this.length - arguments.length,\n      removed: [],\n      addedCount: arguments.length\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.reverse = function() {\n  let oldArray;\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.flushChangeRecords();\n    oldArray = this.slice();\n  }\n  let methodCallResult = reverse.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.reset(oldArray);\n  }\n  return methodCallResult;\n};\n\nArray.prototype.shift = function() {\n  let notEmpty = this.length > 0;\n  let methodCallResult = shift.apply(this, arguments);\n  if (notEmpty && this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'delete',\n      object: this,\n      name: 0,\n      oldValue: methodCallResult\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.sort = function() {\n  let oldArray;\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.flushChangeRecords();\n    oldArray = this.slice();\n  }\n  let methodCallResult = sort.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.reset(oldArray);\n  }\n  return methodCallResult;\n};\n\nArray.prototype.splice = function() {\n  let methodCallResult = splice.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: +arguments[0],\n      removed: methodCallResult,\n      addedCount: arguments.length > 2 ? arguments.length - 2 : 0\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.unshift = function() {\n  let methodCallResult = unshift.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: 0,\n      removed: [],\n      addedCount: arguments.length\n    });\n  }\n  return methodCallResult;\n};\n\nexport function getArrayObserver(array: any[]) {\n  return ModifyArrayObserver.for(array);\n}\n\nclass ModifyArrayObserver extends ModifyCollectionObserver {\n  constructor(array: any[]) {\n    super(array);\n  }\n\n  /**\n   * Searches for observer or creates a new one associated with given array instance\n   * @param taskQueue\n   * @param array instance for which observer is searched\n   * @returns ModifyArrayObserver always the same instance for any given array instance\n   */\n  static for(array: any[] & { __array_observer__?: ModifyArrayObserver }) {\n    if (!('__array_observer__' in array)) {\n      Reflect.defineProperty(array, '__array_observer__', {\n        value: ModifyArrayObserver.create(array),\n        enumerable: false, configurable: false\n      });\n    }\n    return array.__array_observer__;\n  }\n\n  static create(array: any[]) {\n    return new ModifyArrayObserver(array);\n  }\n}\n","import { IBinding } from './binding';\nimport { IContainer } from '../di';\nimport { IScope, BindingContext } from './binding-context';\nimport { Signal } from './signal';\n\nexport interface IExpression {\n  evaluate(scope: IScope, container: IContainer | null, mustEvaluateIfFunction?: boolean): any;\n  assign?(scope: IScope, value: any, container: IContainer | null): any;\n  connect(binding: IBinding, scope: IScope): any;\n  bind?(binding: IBinding, scope: IScope): void;\n  unbind?(binding: IBinding, scope: IScope): void;\n}\n\nexport class Chain implements IExpression {\n  constructor(private expressions: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let result;\n    let expressions = this.expressions;\n    let last;\n\n    for (let i = 0, length = expressions.length; i < length; ++i) {\n      last = expressions[i].evaluate(scope, container);\n\n      if (last !== null) {\n        result = last;\n      }\n    }\n\n    return result;\n  }\n\n  connect() { }\n}\n\nexport class BindingBehavior implements IExpression {\n  constructor(public expression: IExpression, public name: string, private args: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    return this.expression.evaluate(scope, container);\n  }\n\n  assign(scope: IScope, value: any, container: IContainer) {\n    return this.expression.assign(scope, value, container);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.expression.connect(binding, scope);\n  }\n\n  bind(binding: IBinding, scope: IScope) {\n    if ((this.expression as any).expression && this.expression.bind) {\n      this.expression.bind(binding, scope);\n    }\n\n    let behavior = binding.container.get(this.name);\n    if (!behavior) {\n      throw new Error(`No BindingBehavior named \"${this.name}\" was found!`);\n    }\n\n    let behaviorKey = `behavior-${this.name}`;\n    if ((binding as any)[behaviorKey]) {\n      throw new Error(`A binding behavior named \"${this.name}\" has already been applied to \"${this.expression}\"`);\n    }\n\n    (binding as any)[behaviorKey] = behavior;\n    (behavior as any).bind.apply(behavior, [binding, scope].concat(evalList(scope, this.args, binding.container)));\n  }\n\n  unbind(binding: IBinding, scope: IScope) {\n    let behaviorKey = `behavior-${this.name}`;\n\n    (binding as any)[behaviorKey].unbind(binding, scope);\n    (binding as any)[behaviorKey] = null;\n\n    if ((this.expression as any)['expression'] && this.expression.unbind) {\n      this.expression.unbind(binding, scope);\n    }\n  }\n}\n\nexport class ValueConverter implements IExpression {\n  constructor(public expression: IExpression, private name: string, private args: IExpression[], private allArgs: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let converter = container.get(this.name);\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n\n    if ('toView' in converter) {\n      return (<any>converter).toView.apply(converter, evalList(scope, this.allArgs, container));\n    }\n\n    return this.allArgs[0].evaluate(scope, container);\n  }\n\n  assign(scope: IScope, value: any, container: IContainer) {\n    let converter = container.get(this.name);\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n\n    if ('fromView' in converter) {\n      value = (<any>converter).fromView.apply(converter, [value].concat(evalList(scope, this.args, container)));\n    }\n\n    return this.allArgs[0].assign(scope, value, container);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let expressions = this.allArgs;\n    let i = expressions.length;\n    while (i--) {\n      expressions[i].connect(binding, scope);\n    }\n    let converter = binding.container.get(this.name);\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n    let signals = (converter as any).signals;\n    if (signals === undefined) {\n      return;\n    }\n    i = signals.length;\n    while (i--) {\n      Signal.connect((binding as any), signals[i]);\n    }\n  }\n}\n\nexport class Assign implements IExpression {\n  constructor(private target: IExpression, private value: IExpression) { }\n\n  evaluate(scope: IScope, container: IContainer): any {\n    return this.target.assign(scope, this.value.evaluate(scope, container), container);\n  }\n\n  connect() { }\n\n  assign(scope: IScope, value: any, container: IContainer) {\n    this.value.assign(scope, value, container);\n    this.target.assign(scope, value, container);\n  }\n}\n\nexport class Conditional implements IExpression {\n  constructor(private condition: IExpression, private yes: IExpression, private no: IExpression) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    return (!!this.condition.evaluate(scope, container))\n      ? this.yes.evaluate(scope, container)\n      : this.no.evaluate(scope, container);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.condition.connect(binding, scope);\n    if (this.condition.evaluate(scope, null)) {\n      this.yes.connect(binding, scope);\n    } else {\n      this.no.connect(binding, scope);\n    }\n  }\n}\n\nexport class AccessThis implements IExpression {\n  constructor(private ancestor: number = 0) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let oc = scope.overrideContext;\n    let i = this.ancestor;\n\n    while (i-- && oc) {\n      oc = oc.parentOverrideContext;\n    }\n\n    return i < 1 && oc ? oc.bindingContext : undefined;\n  }\n\n  connect() { }\n}\n\nexport class AccessScope implements IExpression {\n  constructor(private name: string, private ancestor: number = 0) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let context = BindingContext.get(scope, this.name, this.ancestor);\n    return context[this.name];\n  }\n\n  assign(scope: IScope, value: any) {\n    let context = BindingContext.get(scope, this.name, this.ancestor);\n    return context ? (context[this.name] = value) : undefined;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let context = BindingContext.get(scope, this.name, this.ancestor);\n    binding.observeProperty(context, this.name);\n  }\n}\n\nexport class AccessMember implements IExpression {\n  constructor(private object: IExpression, private name: string) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let instance = this.object.evaluate(scope, container);\n    return instance === null || instance === undefined ? instance : instance[this.name];\n  }\n\n  assign(scope: IScope, value: any, container: IContainer) {\n    let instance = this.object.evaluate(scope, container);\n\n    if (instance === null || instance === undefined) {\n      instance = {};\n      this.object.assign(scope, instance, container);\n    }\n\n    instance[this.name] = value;\n    return value;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.object.connect(binding, scope);\n\n    let obj = this.object.evaluate(scope, null);\n    if (obj) {\n      binding.observeProperty(obj, this.name);\n    }\n  }\n}\n\nexport class AccessKeyed implements IExpression {\n  constructor(private object: IExpression, private key: IExpression) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let instance = this.object.evaluate(scope, container);\n    let lookup = this.key.evaluate(scope, container);\n    return getKeyed(instance, lookup);\n  }\n\n  assign(scope: IScope, value: any, container: IContainer | null) {\n    let instance = this.object.evaluate(scope, container);\n    let lookup = this.key.evaluate(scope, container);\n    return setKeyed(instance, lookup, value);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.object.connect(binding, scope);\n    let obj = this.object.evaluate(scope, null);\n    if (obj instanceof Object) {\n      this.key.connect(binding, scope);\n      let key = this.key.evaluate(scope, null);\n      // observe the property represented by the key as long as it's not an array\n      // being accessed by an integer key which would require dirty-checking.\n      if (key !== null && key !== undefined\n        && !(Array.isArray(obj) && typeof (key) === 'number')) {\n        binding.observeProperty(obj, key);\n      }\n    }\n  }\n}\n\nexport class CallScope implements IExpression {\n  constructor(private name: string, private args: IExpression[], private ancestor: number) { }\n\n  evaluate(scope: IScope, container: IContainer | null, mustEvaluate?: boolean) {\n    let args = evalList(scope, this.args, container);\n    let context = BindingContext.get(scope, this.name, this.ancestor);\n    let func = getFunction(context, this.name, mustEvaluate);\n    if (func) {\n      return func.apply(context, args);\n    }\n    return undefined;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let args = this.args;\n    let i = args.length;\n    while (i--) {\n      args[i].connect(binding, scope);\n    }\n    // todo: consider adding `binding.observeProperty(scope, this.name);`\n  }\n}\n\nexport class CallMember implements IExpression {\n  constructor(private object: IExpression, private name: string, private args: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer, mustEvaluate: boolean) {\n    let instance = this.object.evaluate(scope, container);\n    let args = evalList(scope, this.args, container);\n    let func = getFunction(instance, this.name, mustEvaluate);\n    if (func) {\n      return func.apply(instance, args);\n    }\n    return undefined;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.object.connect(binding, scope);\n    let obj = this.object.evaluate(scope, null);\n    if (getFunction(obj, this.name, false)) {\n      let args = this.args;\n      let i = args.length;\n      while (i--) {\n        args[i].connect(binding, scope);\n      }\n    }\n  }\n}\n\nexport class CallFunction implements IExpression {\n  constructor(private func: IExpression, private args: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer, mustEvaluate: boolean) {\n    let func = this.func.evaluate(scope, container);\n    if (typeof func === 'function') {\n      return func.apply(null, evalList(scope, this.args, container));\n    }\n    if (!mustEvaluate && (func === null || func === undefined)) {\n      return undefined;\n    }\n    throw new Error(`${this.func} is not a function`);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.func.connect(binding, scope);\n    let func = this.func.evaluate(scope, null);\n    if (typeof func === 'function') {\n      let args = this.args;\n      let i = args.length;\n      while (i--) {\n        args[i].connect(binding, scope);\n      }\n    }\n  }\n}\n\nexport class Binary implements IExpression {\n  constructor(private operation: string, private left: IExpression, private right: IExpression) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let left = this.left.evaluate(scope, container);\n\n    switch (this.operation) {\n      case '&&': return left && this.right.evaluate(scope, container);\n      case '||': return left || this.right.evaluate(scope, container);\n      // no default\n    }\n\n    let right = this.right.evaluate(scope, container);\n\n    switch (this.operation) {\n      case '==': return left == right; // eslint-disable-line eqeqeq\n      case '===': return left === right;\n      case '!=': return left != right; // eslint-disable-line eqeqeq\n      case '!==': return left !== right;\n      // no default\n    }\n\n    // Null check for the operations.\n    if (left === null || right === null || left === undefined || right === undefined) {\n      switch (this.operation) {\n        case '+':\n          if (left !== null && left !== undefined) return left;\n          if (right !== null && right !== undefined) return right;\n          return 0;\n        case '-':\n          if (left !== null && left !== undefined) return left;\n          if (right !== null && right !== undefined) return 0 - right;\n          return 0;\n        // no default\n      }\n\n      return null;\n    }\n\n    switch (this.operation) {\n      case '+': return autoConvertAdd(left, right);\n      case '-': return left - right;\n      case '*': return left * right;\n      case '/': return left / right;\n      case '%': return left % right;\n      case '<': return left < right;\n      case '>': return left > right;\n      case '<=': return left <= right;\n      case '>=': return left >= right;\n      case '^': return left ^ right;\n      // no default\n    }\n\n    throw new Error(`Internal error [${this.operation}] not handled`);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.left.connect(binding, scope);\n    let left = this.left.evaluate(scope, null);\n    if (this.operation === '&&' && !left || this.operation === '||' && left) {\n      return;\n    }\n    this.right.connect(binding, scope);\n  }\n}\n\nexport class PrefixNot implements IExpression {\n  constructor(private operation: string, private expression: IExpression) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    return !this.expression.evaluate(scope, container);\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    this.expression.connect(binding, scope);\n  }\n}\n\nexport class LiteralPrimitive implements IExpression {\n  constructor(private value: any) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    return this.value;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n  }\n}\n\nexport class LiteralString implements IExpression {\n  constructor(private value: string) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    return this.value;\n  }\n\n  connect(binding: IBinding, scope: IScope) { }\n}\n\nexport class TemplateLiteral implements IExpression {\n  constructor(private parts: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let elements = this.parts;\n    let result = '';\n\n    for (let i = 0, length = elements.length; i < length; ++i) {\n      let value = elements[i].evaluate(scope, container);\n      if (value === undefined || value === null) {\n        continue;\n      }\n      result += value;\n    }\n\n    return result;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let length = this.parts.length;\n    for (let i = 0; i < length; i++) {\n      this.parts[i].connect(binding, scope);\n    }\n  }\n}\n\nexport class LiteralArray implements IExpression {\n  constructor(private elements: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let elements = this.elements;\n    let result = [];\n\n    for (let i = 0, length = elements.length; i < length; ++i) {\n      result[i] = elements[i].evaluate(scope, container);\n    }\n\n    return result;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let length = this.elements.length;\n    for (let i = 0; i < length; i++) {\n      this.elements[i].connect(binding, scope);\n    }\n  }\n}\n\nexport class LiteralObject implements IExpression {\n  constructor(private keys: string[], private values: IExpression[]) { }\n\n  evaluate(scope: IScope, container: IContainer) {\n    let instance: Record<string, any> = {};\n    let keys = this.keys;\n    let values = this.values;\n\n    for (let i = 0, length = keys.length; i < length; ++i) {\n      instance[keys[i]] = values[i].evaluate(scope, container);\n    }\n\n    return instance;\n  }\n\n  connect(binding: IBinding, scope: IScope) {\n    let length = this.keys.length;\n    for (let i = 0; i < length; i++) {\n      this.values[i].connect(binding, scope);\n    }\n  }\n}\n\n/// Evaluate the [list] in context of the [scope].\nfunction evalList(scope: IScope, list: IExpression[], container: IContainer) {\n  const length = list.length;\n  const result = [];\n\n  for (let i = 0; i < length; i++) {\n    result[i] = list[i].evaluate(scope, container);\n  }\n\n  return result;\n}\n\n/// Add the two arguments with automatic type conversion.\nfunction autoConvertAdd(a: any, b: any) {\n  if (a !== null && b !== null) {\n    // TODO(deboer): Support others.\n    if (typeof a === 'string' && typeof b !== 'string') {\n      return a + b.toString();\n    }\n\n    if (typeof a !== 'string' && typeof b === 'string') {\n      return a.toString() + b;\n    }\n\n    return a + b;\n  }\n\n  if (a !== null) {\n    return a;\n  }\n\n  if (b !== null) {\n    return b;\n  }\n\n  return 0;\n}\n\nfunction getFunction(obj: any, name: string, mustExist: boolean) {\n  let func = obj === null || obj === undefined ? null : obj[name];\n\n  if (typeof func === 'function') {\n    return func;\n  }\n\n  if (!mustExist && (func === null || func === undefined)) {\n    return null;\n  }\n\n  throw new Error(`${name} is not a function`);\n}\n\nfunction getKeyed(obj: any, key: any) {\n  if (Array.isArray(obj)) {\n    return obj[parseInt(key, 10)];\n  } else if (obj) {\n    return obj[key];\n  } else if (obj === null || obj === undefined) {\n    return undefined;\n  }\n\n  return obj[key];\n}\n\nfunction setKeyed(obj: any, key: any, value: any) {\n  if (Array.isArray(obj)) {\n    let index = parseInt(key, 10);\n\n    if (obj.length <= index) {\n      obj.length = index + 1;\n    }\n\n    obj[index] = value;\n  } else {\n    obj[key] = value;\n  }\n\n  return value;\n}\n","export const targetContext = 'Binding:target';\nexport const sourceContext = 'Binding:source';\n\nexport interface IOverrideContext {\n  parentOverrideContext: IOverrideContext;\n  bindingContext: any;\n}\n\nexport interface IScope {\n  bindingContext: any;\n  overrideContext: IOverrideContext;\n}\n\nexport const BindingContext = {\n  createScopeFromOverride(overrideContext: IOverrideContext): IScope {\n    return { bindingContext: overrideContext.bindingContext, overrideContext };\n  },\n  createOverride(bindingContext?: any, parentOverrideContext?: IOverrideContext): IOverrideContext {\n    return {\n      bindingContext: bindingContext,\n      parentOverrideContext: parentOverrideContext || null\n    };\n  },\n  get(scope: IScope, name: string, ancestor: number): any {\n    let overrideContext = scope.overrideContext;\n  \n    if (ancestor) {\n      // jump up the required number of ancestor contexts (eg $parent.$parent requires two jumps)\n      while (ancestor && overrideContext) {\n        ancestor--;\n        overrideContext = overrideContext.parentOverrideContext;\n      }\n\n      if (ancestor || !overrideContext) {\n        return undefined;\n      }\n\n      return name in overrideContext ? overrideContext : overrideContext.bindingContext;\n    }\n  \n    // traverse the context and it's ancestors, searching for a context that has the name.\n    while (overrideContext && !(name in overrideContext) && !(overrideContext.bindingContext && name in overrideContext.bindingContext)) {\n      overrideContext = overrideContext.parentOverrideContext;\n    }\n\n    if (overrideContext) {\n      // we located a context with the property.  return it.\n      return name in overrideContext ? overrideContext : overrideContext.bindingContext;\n    }\n\n    // the name wasn't found.  return the root binding context.\n    return scope.bindingContext || scope.overrideContext;\n  }\n};\n","export enum BindingMode {\n  oneTime = 0,\n  toView = 1,\n  oneWay = 1,\n  twoWay = 2,\n  fromView = 3\n};\n","import { BindingMode } from './binding-mode';\nimport { ConnectableBinding } from './connectable-binding';\nimport { enqueueBindingConnect } from './connect-queue';\nimport { ObserverLocator, IObserverLocator } from './observer-locator';\nimport { IExpression } from './ast';\nimport { Observer } from './property-observation';\nimport { IBindScope, IBindingTargetObserver, IBindingTargetAccessor } from './observation';\nimport { IContainer } from '../di';\nimport { IScope, sourceContext, targetContext } from './binding-context';\nimport { Reporter } from '../reporter';\n\nexport interface IBinding extends IBindScope {\n  container: IContainer;\n  observeProperty(context: any, name: string): void;\n}\n\nexport type IBindingTarget = any; // Node | CSSStyleDeclaration | IObservable;\n\nexport class Binding extends ConnectableBinding implements IBinding {\n  public targetObserver: IBindingTargetObserver | IBindingTargetAccessor;\n  private $scope: IScope;\n  private $isBound = false;\n\n  constructor(\n    public sourceExpression: IExpression,\n    public target: IBindingTarget,\n    public targetProperty: string,\n    public mode: BindingMode,\n    public container: IContainer) {\n    super();\n  }\n\n  updateTarget(value: any) {\n    this.targetObserver.setValue(value, this.target, this.targetProperty);\n  }\n\n  updateSource(value: any) {\n    this.sourceExpression.assign(this.$scope, value, this.container);\n  }\n\n  call(context: string, newValue?: any, oldValue?: any) {\n    if (!this.$isBound) {\n      return;\n    }\n\n    if (context === sourceContext) {\n      oldValue = this.targetObserver.getValue(this.target, this.targetProperty);\n      newValue = this.sourceExpression.evaluate(this.$scope, this.container);\n\n      if (newValue !== oldValue) {\n        this.updateTarget(newValue);\n      }\n\n      if (this.mode !== BindingMode.oneTime) {\n        this.version++;\n        this.sourceExpression.connect(this, this.$scope);\n        this.unobserve(false);\n      }\n\n      return;\n    }\n\n    if (context === targetContext) {\n      if (newValue !== this.sourceExpression.evaluate(this.$scope, this.container)) {\n        this.updateSource(newValue);\n      }\n\n      return;\n    }\n\n    throw Reporter.error(15, context);\n  }\n\n  $bind(scope: IScope) {\n    if (this.$isBound) {\n      if (this.$scope === scope) {\n        return;\n      }\n\n      this.$unbind();\n    }\n\n    this.$isBound = true;\n    this.$scope = scope;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, scope);\n    }\n\n    let mode = this.mode;\n\n    if (!this.targetObserver) {\n      let method: 'getObserver' | 'getAccessor' = mode === BindingMode.twoWay || mode === BindingMode.fromView ? 'getObserver' : 'getAccessor';\n      this.targetObserver = <any>ObserverLocator[method](this.target, this.targetProperty);\n    }\n\n    if ('bind' in this.targetObserver) {\n      this.targetObserver.bind();\n    }\n\n    if (this.mode !== BindingMode.fromView) {\n      let value = this.sourceExpression.evaluate(scope, this.container);\n      this.updateTarget(value);\n    }\n\n    if (mode === BindingMode.oneTime) {\n      return;\n    } else if (mode === BindingMode.toView) {\n      enqueueBindingConnect(this);\n    } else if (mode === BindingMode.twoWay) {\n      this.sourceExpression.connect(this, scope);\n      (this.targetObserver as IBindingTargetObserver).subscribe(targetContext, this);\n    } else if (mode === BindingMode.fromView) {\n      (this.targetObserver as IBindingTargetObserver).subscribe(targetContext, this);\n    }\n  }\n\n  $unbind() {\n    if (!this.$isBound) {\n      return;\n    }\n\n    this.$isBound = false;\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.$scope);\n    }\n\n    this.$scope = null;\n\n    if ('unbind' in this.targetObserver) {\n      (this.targetObserver as IBindingTargetObserver).unbind();\n    }\n\n    if ('unsubscribe' in this.targetObserver) {\n      this.targetObserver.unsubscribe(targetContext, this);\n    }\n\n    this.unobserve(true);\n  }\n\n  connect(evaluate?: boolean) {\n    if (!this.$isBound) {\n      return;\n    }\n\n    if (evaluate) {\n      let value = this.sourceExpression.evaluate(this.$scope, this.container);\n      this.updateTarget(value);\n    }\n\n    this.sourceExpression.connect(this, this.$scope);\n  }\n}\n","import { ObserverLocator } from \"./observer-locator\";\nimport { IExpression } from \"./ast\";\nimport { IBinding } from \"./binding\";\nimport { IContainer } from \"../di\";\nimport { IBindingTargetAccessor } from \"./observation\";\nimport { IScope } from \"./binding-context\";\nimport { INode } from \"../dom\";\n\nexport class Call implements IBinding {\n  targetObserver: IBindingTargetAccessor;\n  private $scope: IScope;\n  private $isBound = false;\n\n  constructor(\n    private sourceExpression: IExpression,\n    private target: INode,\n    private targetProperty: string, \n    public container: IContainer) {\n    this.targetObserver = <any>ObserverLocator.getObserver(target, targetProperty);\n  }\n\n  callSource($event) {\n    let overrideContext = <any>this.$scope.overrideContext;\n    Object.assign(overrideContext, $event);\n    overrideContext.$event = $event; // deprecate this?\n    let mustEvaluate = true;\n    let result = this.sourceExpression.evaluate(this.$scope, this.container, mustEvaluate);\n    delete overrideContext.$event;\n\n    for (let prop in $event) {\n      delete overrideContext[prop];\n    }\n\n    return result;\n  }\n\n  $bind(scope: IScope) {\n    if (this.$isBound) {\n      if (this.$scope === scope) {\n        return;\n      }\n\n      this.$unbind();\n    }\n\n    this.$isBound = true;\n    this.$scope = scope;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, scope);\n    }\n\n    this.targetObserver.setValue($event => this.callSource($event), this.target, this.targetProperty);\n  }\n\n  $unbind() {\n    if (!this.$isBound) {\n      return;\n    }\n\n    this.$isBound = false;\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.$scope);\n    }\n\n    this.$scope = null;\n    this.targetObserver.setValue(null, this.target, this.targetProperty);\n  }\n\n  observeProperty() { }\n}\n","import { SubscriberCollection } from './subscriber-collection';\nimport { TaskQueue } from '../task-queue';\nimport { ICallable } from '../interfaces';\nimport { IEventSubscriber } from './event-manager';\nimport { IObserverLocator } from './observer-locator';\nimport { IAccessor, ISubscribable } from './observation';\nimport { INode } from '../dom';\n\nconst checkedArrayContext = 'CheckedObserver:array';\nconst checkedValueContext = 'CheckedObserver:value';\n\nexport class CheckedObserver extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  private value: any;\n  private initialSync: boolean;\n  private arrayObserver: any;\n  private oldValue: any;\n  private valueObserver: any;\n\n  constructor(\n    private node: HTMLInputElement & { $observers?: any; matcher?: any; model?: any; },\n    public handler: IEventSubscriber,\n    private observerLocator: IObserverLocator\n  ) {\n    super();\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    if (this.initialSync && this.value === newValue) {\n      return;\n    }\n\n    // unsubscribe from old array.\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(checkedArrayContext, this);\n      this.arrayObserver = null;\n    }\n\n    // subscribe to new array.\n    if (this.node.type === 'checkbox' && Array.isArray(newValue)) {\n      this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n      this.arrayObserver.subscribe(checkedArrayContext, this);\n    }\n\n    // assign and sync element.\n    this.oldValue = this.value;\n    this.value = newValue;\n    this.synchronizeElement();\n    this.notify();\n\n    // queue up an initial sync after the bindings have been evaluated.\n    if (!this.initialSync) {\n      this.initialSync = true;\n      TaskQueue.queueMicroTask(this);\n    }\n  }\n\n  call(context: string, splices: any[]) {\n    // called by task queue, array observer, and model/value observer.\n    this.synchronizeElement();\n    // if the input's model or value property is data-bound, subscribe to it's\n    // changes to enable synchronizing the element's checked status when a change occurs.\n    if (!this.valueObserver) {\n      this.valueObserver = this.node['$observers'].model || this.node['$observers'].value;\n      if (this.valueObserver) {\n        this.valueObserver.subscribe(checkedValueContext, this);\n      }\n    }\n  }\n\n  synchronizeElement() {\n    let value = this.value;\n    let element = this.node;\n    let elementValue = element.hasOwnProperty('model') ? element['model'] : element.value;\n    let isRadio = element.type === 'radio';\n    let matcher = element['matcher'] || ((a: any, b: any) => a === b);\n\n    element.checked =\n      isRadio && !!matcher(value, elementValue)\n      || !isRadio && value === true\n      || !isRadio && Array.isArray(value) && value.findIndex(item => !!matcher(item, elementValue)) !== -1;\n  }\n\n  synchronizeValue() {\n    let value = this.value;\n    let element = this.node;\n    let elementValue = element.hasOwnProperty('model') ? element['model'] : element.value;\n    let index;\n    let matcher = element['matcher'] || ((a: any, b: any) => a === b);\n\n    if (element.type === 'checkbox') {\n      if (Array.isArray(value)) {\n        index = value.findIndex(item => !!matcher(item, elementValue));\n        if (element.checked && index === -1) {\n          value.push(elementValue);\n        } else if (!element.checked && index !== -1) {\n          value.splice(index, 1);\n        }\n        // don't invoke callbacks.\n        return;\n      }\n\n      value = element.checked;\n    } else if (element.checked) {\n      value = elementValue;\n    } else {\n      // don't invoke callbacks.\n      return;\n    }\n\n    this.oldValue = this.value;\n    this.value = value;\n    this.notify();\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.value;\n\n    if (newValue === oldValue) {\n      return;\n    }\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  handleEvent() {\n    this.synchronizeValue();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.handler.subscribe(this.node, this);\n    }\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n\n  unbind() {\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(checkedArrayContext, this);\n      this.arrayObserver = null;\n    }\n    if (this.valueObserver) {\n      this.valueObserver.unsubscribe(checkedValueContext, this);\n    }\n  }\n}\n","import { IAccessor } from \"./observation\";\nimport { INode, DOM } from \"../dom\";\n\nexport class ClassObserver implements IAccessor {\n  doNotCache = true;\n  value = '';\n  version = 0;\n  nameIndex: any;\n\n  constructor(private node: INode) { }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    const addClass = DOM.addClass;\n    const removeClass = DOM.removeClass;\n\n    let nameIndex = this.nameIndex || {};\n    let version = this.version;\n    let names;\n    let name;\n\n    // Add the classes, tracking the version at which they were added.\n    if (newValue !== null && newValue !== undefined && newValue.length) {\n      names = newValue.split(/\\s+/);\n      for (let i = 0, length = names.length; i < length; i++) {\n        name = names[i];\n\n        if (name === '') {\n          continue;\n        }\n\n        nameIndex[name] = version;\n        addClass(this.node, name);\n      }\n    }\n\n    // Update state variables.\n    this.value = newValue;\n    this.nameIndex = nameIndex;\n    this.version += 1;\n\n    // First call to setValue?  We're done.\n    if (version === 0) {\n      return;\n    }\n\n    // Remove classes from previous version.\n    version -= 1;\n    \n    for (name in nameIndex) {\n      if (!nameIndex.hasOwnProperty(name) || nameIndex[name] !== version) {\n        continue;\n      }\n\n      removeClass(this.node, name);\n    }\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${DOM.normalizedTagName(this.node)}\" element\\'s \"class\" property is not supported.`);\n  }\n}\n","import { calcSplices, projectArraySplices } from './array-change-records';\nimport { getChangeRecords } from './map-change-records';\nimport { SubscriberCollection } from './subscriber-collection';\nimport { ICallable, IIndexable } from '../interfaces';\nimport { TaskQueue } from '../task-queue';\nimport { ISubscribable, IAccessor, IBindingCollectionObserver } from './observation';\n\ntype Collection = any[] | Map<any, any> | Set<any>;\n\nexport class ModifyCollectionObserver extends SubscriberCollection implements IBindingCollectionObserver {\n  private queued = false;\n  private changeRecords: any[] = null;\n  private oldCollection: Collection = null;\n  private collection: Collection;\n  private lengthPropertyName: string;\n  private lengthObserver: CollectionLengthObserver = null;\n\n  constructor(collection: Collection) {\n    super();\n    this.collection = collection;\n    this.lengthPropertyName = (collection instanceof Map) || (collection instanceof Set) ? 'size' : 'length';\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  addChangeRecord(changeRecord: any) {\n    if (!this.hasSubscribers() && !this.lengthObserver) {\n      return;\n    }\n\n    if (changeRecord.type === 'splice') {\n      let index = changeRecord.index;\n      let arrayLength = changeRecord.object.length;\n      if (index > arrayLength) {\n        index = arrayLength - changeRecord.addedCount;\n      } else if (index < 0) {\n        index = arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;\n      }\n      if (index < 0) {\n        index = 0;\n      }\n      changeRecord.index = index;\n    }\n\n    if (this.changeRecords === null) {\n      this.changeRecords = [changeRecord];\n    } else {\n      this.changeRecords.push(changeRecord);\n    }\n\n    if (!this.queued) {\n      this.queued = true;\n      TaskQueue.queueMicroTask(this);\n    }\n  }\n\n  flushChangeRecords() {\n    if ((this.changeRecords && this.changeRecords.length) || this.oldCollection) {\n      this.call();\n    }\n  }\n\n  reset(oldCollection: Collection) {\n    this.oldCollection = oldCollection;\n\n    if (this.hasSubscribers() && !this.queued) {\n      this.queued = true;\n      TaskQueue.queueMicroTask(this);\n    }\n  }\n\n  getLengthObserver() {\n    return this.lengthObserver || (this.lengthObserver = new CollectionLengthObserver(this.collection));\n  }\n\n  call() {\n    let changeRecords = this.changeRecords;\n    let oldCollection = this.oldCollection;\n    let records;\n\n    this.queued = false;\n    this.changeRecords = [];\n    this.oldCollection = null;\n\n    if (this.hasSubscribers()) {\n      if (oldCollection) {\n        // TODO (martingust) we might want to refactor this to a common, independent of collection type, way of getting the records\n        if ((this.collection instanceof Map) || (this.collection instanceof Set)) {\n          records = getChangeRecords(oldCollection as Map<any, any> | Set<any>);\n        } else {\n          //we might need to combine this with existing change records....\n          records = calcSplices(this.collection, 0, this.collection.length, oldCollection, 0, (oldCollection as any[]).length);\n        }\n      } else {\n        if ((this.collection instanceof Map) || (this.collection instanceof Set)) {\n          records = changeRecords;\n        } else {\n          records = projectArraySplices(this.collection, changeRecords);\n        }\n      }\n\n      this.callSubscribers(records);\n    }\n\n    if (this.lengthObserver) {\n      this.lengthObserver.call((this.collection as any)[this.lengthPropertyName]);\n    }\n  }\n}\n\nexport class CollectionLengthObserver extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  private collection: Collection;\n  private lengthPropertyName: string;\n  private currentValue: number;\n\n  constructor(collection: Collection) {\n    super();\n    this.collection = collection;\n    this.lengthPropertyName = collection instanceof Map || collection instanceof Set ? 'size' : 'length';\n    this.currentValue = (collection as any)[this.lengthPropertyName];\n  }\n\n  getValue() {\n    return (this.collection as any)[this.lengthPropertyName];\n  }\n\n  setValue(newValue: number) {\n    (this.collection as any)[this.lengthPropertyName] = newValue;\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  call(newValue: number) {\n    let oldValue = this.currentValue;\n    this.callSubscribers(newValue, oldValue);\n    this.currentValue = newValue;\n  }\n}\n","import { PLATFORM } from '../platform';\n\nconst queue = [];              // the connect queue\nconst queued = {};             // tracks whether a binding with a particular id is in the queue\nlet nextId = 0;                // next available id that can be assigned to a binding for queue tracking purposes\nconst minimumImmediate = 100;  // number of bindings we should connect immediately before resorting to queueing\nconst frameBudget = 15;        // milliseconds allotted to each frame for flushing queue\n\nlet isFlushRequested = false;  // whether a flush of the connect queue has been requested\nlet immediate = 0;             // count of bindings that have been immediately connected\n\nfunction flush(animationFrameStart: number) {\n  const length = queue.length;\n  let i = 0;\n  \n  while (i < length) {\n    const binding = queue[i];\n    queued[binding.__connectQueueId] = false;\n    binding.connect(true);\n    i++;\n    // periodically check whether the frame budget has been hit.\n    // this ensures we don't call performance.now a lot and prevents starving the connect queue.\n    if (i % 100 === 0 && PLATFORM.now() - animationFrameStart > frameBudget) {\n      break;\n    }\n  }\n\n  queue.splice(0, i);\n\n  if (queue.length) {\n    PLATFORM.requestAnimationFrame(flush);\n  } else {\n    isFlushRequested = false;\n    immediate = 0;\n  }\n}\n\nexport function enqueueBindingConnect(binding) {\n  if (immediate < minimumImmediate) {\n    immediate++;\n    binding.connect(false);\n  } else {\n    // get or assign the binding's id that enables tracking whether it's been queued.\n    let id = binding.__connectQueueId;\n    if (id === undefined) {\n      id = nextId;\n      nextId++;\n      binding.__connectQueueId = id;\n    }\n    // enqueue the binding.\n    if (!queued[id]) {\n      queue.push(binding);\n      queued[id] = true;\n    }\n  }\n  if (!isFlushRequested) {\n    isFlushRequested = true;\n    PLATFORM.requestAnimationFrame(flush);\n  }\n}\n","import { ObserverLocator, IObserverLocator } from './observer-locator';\nimport { IBindingTargetObserver, IBindingCollectionObserver } from './observation';\nimport { sourceContext } from './binding-context';\nimport { ICallable } from '../interfaces';\n\nconst slotNames: string[] = [];\nconst versionSlotNames: string[] = [];\n\nfor (let i = 0; i < 100; i++) {\n  slotNames.push(`_observer${i}`);\n  versionSlotNames.push(`_observerVersion${i}`);\n}\n\nexport abstract class ConnectableBinding implements ICallable {\n  protected observerSlots: any;\n  protected version: number;\n\n  abstract call(...args: any[]): any;\n\n  addObserver(observer: IBindingTargetObserver | IBindingCollectionObserver) {\n    // find the observer.\n    let observerSlots = this.observerSlots === undefined ? 0 : this.observerSlots;\n    let i = observerSlots;\n\n    while (i-- && this[slotNames[i]] !== observer) {\n      // Do nothing\n    }\n\n    // if we are not already observing, put the observer in an open slot and subscribe.\n    if (i === -1) {\n      i = 0;\n      while (this[slotNames[i]]) {\n        i++;\n      }\n      this[slotNames[i]] = observer;\n      observer.subscribe(sourceContext, this);\n      // increment the slot count.\n      if (i === observerSlots) {\n        this.observerSlots = i + 1;\n      }\n    }\n    // set the \"version\" when the observer was used.\n    if (this.version === undefined) {\n      this.version = 0;\n    }\n    this[versionSlotNames[i]] = this.version;\n  }\n\n  observeProperty(obj: any, propertyName: string) {\n    let observer = ObserverLocator.getObserver(obj, propertyName);\n    this.addObserver(<any>observer);\n  }\n\n  observeArray(array: any[]) {\n    let observer = ObserverLocator.getArrayObserver(array);\n    this.addObserver(observer);\n  }\n\n  unobserve(all?: boolean) {\n    let i = this.observerSlots;\n    while (i--) {\n      if (all || this[versionSlotNames[i]] !== this.version) {\n        let observer = this[slotNames[i]];\n        this[slotNames[i]] = null;\n        if (observer) {\n          observer.unsubscribe(sourceContext, this);\n        }\n      }\n    }\n  }\n}\n","import { SubscriberCollection } from './subscriber-collection';\nimport { DI } from '../di';\nimport { ICallable } from '../interfaces';\nimport { IAccessor, ISubscribable } from './observation';\n\nexport const IDirtyChecker = DI.createInterface('IDirtyChecker');\nexport interface IDirtyChecker {\n  createProperty(obj: any, propertyName: string): IAccessor & ISubscribable & ICallable;\n}\n\nconst Checker = {\n  tracked: [],\n  checkDelay: 120,\n\n  createProperty(obj: any, propertyName: string) {\n    return new DirtyCheckProperty(obj, propertyName);\n  },\n\n  addProperty(property: DirtyCheckProperty) {\n    let tracked = this.tracked;\n\n    tracked.push(property);\n\n    if (tracked.length === 1) {\n      this.scheduleDirtyCheck();\n    }\n  },\n\n  removeProperty(property: DirtyCheckProperty) {\n    let tracked = this.tracked;\n    tracked.splice(tracked.indexOf(property), 1);\n  },\n\n  scheduleDirtyCheck() {\n    setTimeout(() => this.check(), this.checkDelay);\n  },\n\n  check() {\n    let tracked = this.tracked;\n    let i = tracked.length;\n\n    while (i--) {\n      let current = tracked[i];\n\n      if (current.isDirty()) {\n        current.call();\n      }\n    }\n\n    if (tracked.length) {\n      this.scheduleDirtyCheck();\n    }\n  }\n};\n\nclass DirtyCheckProperty extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  oldValue;\n  \n  constructor(private obj: any, private propertyName: string) {\n    super();\n  }\n\n  isDirty(): boolean {\n    return this.oldValue !== this.obj[this.propertyName];\n  }\n\n  getValue() {\n    return this.obj[this.propertyName];\n  }\n\n  setValue(newValue) {\n    this.obj[this.propertyName] = newValue;\n  }\n\n  call() {\n    let oldValue = this.oldValue;\n    let newValue = this.getValue();\n\n    this.callSubscribers(newValue, oldValue);\n\n    this.oldValue = newValue;\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.oldValue = this.getValue();\n      Checker.addProperty(this);\n    }\n\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      Checker.removeProperty(this);\n    }\n  }\n}\n\nexport const DirtyChecker: IDirtyChecker = Checker;\n","import { SubscriberCollection } from './subscriber-collection';\nimport { ICallable } from '../interfaces';\nimport { IAccessor, ISubscribable } from './observation';\nimport { IEventSubscriber } from './event-manager';\nimport { INode, DOM } from '../dom';\n\nexport class XLinkAttributeObserver implements IAccessor {\n  // xlink namespaced attributes require getAttributeNS/setAttributeNS\n  // (even though the NS version doesn't work for other namespaces\n  // in html5 documents)\n\n  // Using very HTML-specific code here since this isn't likely to get\n  // called unless operating against a real HTML element.\n\n  constructor(private node: INode, private propertyName: string, private attributeName: string) { }\n\n  getValue() {\n    return (<Element>this.node).getAttributeNS('http://www.w3.org/1999/xlink', this.attributeName);\n  }\n\n  setValue(newValue: any) {\n    return (<Element>this.node).setAttributeNS('http://www.w3.org/1999/xlink', this.attributeName, newValue);\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${DOM.normalizedTagName(this.node)}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport const dataAttributeAccessor = {\n  getValue: (obj: INode, propertyName: string) => DOM.getAttribute(obj, propertyName),\n  setValue: (value: any, obj: INode, propertyName: string) => {\n    if (value === null || value === undefined) {\n      DOM.removeAttribute(obj, propertyName);\n    } else {\n      DOM.setAttribute(obj, propertyName, value);\n    }\n  }\n};\n\nexport class DataAttributeObserver implements IAccessor {\n  constructor(private node: INode, private propertyName: string) { }\n\n  getValue() {\n    return DOM.getAttribute(this.node, this.propertyName);\n  }\n\n  setValue(newValue: any) {\n    if (newValue === null || newValue === undefined) {\n      return DOM.removeAttribute(this.node, this.propertyName);\n    }\n\n    return DOM.setAttribute(this.node, this.propertyName, newValue);\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${DOM.normalizedTagName(this.node)}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport class StyleObserver implements IAccessor {\n  styles: any = null;\n  version = 0;\n\n  constructor(private element: HTMLElement, private propertyName: string) { }\n\n  getValue() {\n    return this.element.style.cssText;\n  }\n\n  _setProperty(style: string, value: string) {\n    let priority = '';\n\n    if (value !== null && value !== undefined && typeof value.indexOf === 'function' && value.indexOf('!important') !== -1) {\n      priority = 'important';\n      value = value.replace('!important', '');\n    }\n\n    this.element.style.setProperty(style, value, priority);\n  }\n\n  setValue(newValue: any) {\n    let styles = this.styles || {};\n    let style;\n    let version = this.version;\n\n    if (newValue !== null && newValue !== undefined) {\n      if (newValue instanceof Object) {\n        let value;\n        for (style in newValue) {\n          if (newValue.hasOwnProperty(style)) {\n            value = newValue[style];\n            style = style.replace(/([A-Z])/g, m => '-' + m.toLowerCase());\n            styles[style] = version;\n            this._setProperty(style, value);\n          }\n        }\n      } else if (newValue.length) {\n        let rx = /\\s*([\\w\\-]+)\\s*:\\s*((?:(?:[\\w\\-]+\\(\\s*(?:\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[\\w\\-]+\\(\\s*(?:^\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^\\)]*)\\),?|[^\\)]*)\\),?|\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^;]*),?\\s*)+);?/g;\n        let pair;\n        while ((pair = rx.exec(newValue)) !== null) {\n          style = pair[1];\n          if (!style) { continue; }\n\n          styles[style] = version;\n          this._setProperty(style, pair[2]);\n        }\n      }\n    }\n\n    this.styles = styles;\n    this.version += 1;\n\n    if (version === 0) {\n      return;\n    }\n\n    version -= 1;\n    for (style in styles) {\n      if (!styles.hasOwnProperty(style) || styles[style] !== version) {\n        continue;\n      }\n\n      this.element.style.removeProperty(style);\n    }\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${this.element.nodeName}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport class ValueAttributeObserver extends SubscriberCollection implements IAccessor, ISubscribable {\n  private oldValue: any;\n\n  constructor(\n    private node: INode,\n    private propertyName: string,\n    public handler: IEventSubscriber\n  ) {\n    super();\n\n    if (propertyName === 'files') {\n      // input.files cannot be assigned.\n      this.setValue = () => { };\n    }\n  }\n\n  getValue(): any {\n    return (this.node as any)[this.propertyName];\n  }\n\n  setValue(newValue: any) {\n    newValue = newValue === undefined || newValue === null ? '' : newValue;\n    if ((this.node as any)[this.propertyName] !== newValue) {\n      (this.node as any)[this.propertyName] = newValue;\n      this.notify();\n    }\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.getValue();\n\n    this.callSubscribers(newValue, oldValue);\n\n    this.oldValue = newValue;\n  }\n\n  handleEvent() {\n    this.notify();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.oldValue = this.getValue();\n      this.handler.subscribe(this.node, this);\n    }\n\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n}\n","import { IDisposable } from '../interfaces';\nimport { DI } from '../di';\nimport { INode, DOM } from '../dom';\n\n//Note: path and deepPath are designed to handle v0 and v1 shadow dom specs respectively\nfunction findOriginalEventTarget(event: any) {\n  return (event.path && event.path[0]) || (event.deepPath && event.deepPath[0]) || event.target;\n}\n\nfunction stopPropagation() {\n  this.standardStopPropagation();\n  this.propagationStopped = true;\n}\n\nfunction handleCapturedEvent(event: Event & { propagationStopped?: boolean; standardStopPropagation?: Event['stopPropagation'] }) {\n  event.propagationStopped = false;\n  let target = findOriginalEventTarget(event);\n\n  let orderedCallbacks = [];\n\n  /**\n   * During capturing phase, event 'bubbles' down from parent. Needs to reorder callback from root down to target\n   */\n  while (target) {\n    if (target.capturedCallbacks) {\n      let callback = target.capturedCallbacks[event.type];\n\n      if (callback) {\n        if (event.stopPropagation !== stopPropagation) {\n          event.standardStopPropagation = event.stopPropagation;\n          event.stopPropagation = stopPropagation;\n        }\n\n        orderedCallbacks.push(callback);\n      }\n    }\n\n    target = target.parentNode;\n  }\n\n  for (let i = orderedCallbacks.length - 1; i >= 0 && !event.propagationStopped; i--) {\n    let orderedCallback = orderedCallbacks[i];\n\n    if ('handleEvent' in orderedCallback) {\n      orderedCallback.handleEvent(event);\n    } else {\n      orderedCallback(event);\n    }\n  }\n}\n\nfunction handleDelegatedEvent(event: Event & { propagationStopped?: boolean; standardStopPropagation?: Event['stopPropagation'] }) {\n  event.propagationStopped = false;\n  let target = findOriginalEventTarget(event);\n\n  while (target && !event.propagationStopped) {\n    if (target.delegatedCallbacks) {\n      let callback = target.delegatedCallbacks[event.type];\n      if (callback) {\n        if (event.stopPropagation !== stopPropagation) {\n          event.standardStopPropagation = event.stopPropagation;\n          event.stopPropagation = stopPropagation;\n        }\n        if ('handleEvent' in callback) {\n          callback.handleEvent(event);\n        } else {\n          callback(event);\n        }\n      }\n    }\n\n    target = target.parentNode;\n  }\n}\n\nclass ListenerTracker {\n  private count = 0;\n\n  constructor(\n    private eventName: string, \n    private listener: EventListenerOrEventListenerObject, \n    private capture: boolean\n  ) { }\n\n  increment() {\n    this.count++;\n\n    if (this.count === 1) {\n      DOM.addEventListener(this.eventName, this.listener, null, this.capture);\n    }\n  }\n\n  decrement() {\n    this.count--;\n\n    if (this.count === 0) {\n      DOM.removeEventListener(this.eventName, this.listener, null, this.capture);\n    }\n  }\n}\n\n/**\n * Enable dispose() pattern for `delegate` & `capture` commands\n */\nclass DelegateOrCaptureSubscription {\n  constructor(\n    public entry: ListenerTracker,\n    public lookup: Record<string, EventListenerOrEventListenerObject>,\n    public targetEvent: string,\n    callback: EventListenerOrEventListenerObject\n  ) {\n    lookup[targetEvent] = callback;\n  }\n\n  dispose() {\n    this.entry.decrement();\n    this.lookup[this.targetEvent] = null;\n    this.entry = this.lookup = this.targetEvent = null;\n  }\n}\n\n/**\n * Enable dispose() pattern for addEventListener for `trigger`\n */\nclass TriggerSubscription {\n  constructor(\n    public target: INode,\n    public targetEvent: string,\n    public callback: EventListenerOrEventListenerObject\n  ) {\n    DOM.addEventListener(targetEvent, callback, target);\n  }\n\n  dispose() {\n    DOM.removeEventListener(this.targetEvent, this.callback, this.target);\n    this.target = this.targetEvent = this.callback = null;\n  }\n}\n\ntype EventTargetWithLookups = INode & {\n  delegatedCallbacks?: Record<string, EventListenerOrEventListenerObject>;\n  capturedCallbacks?: Record<string, EventListenerOrEventListenerObject>;\n}\n\nexport enum DelegationStrategy {\n  none = 0,\n  capturing = 1,\n  bubbling = 2\n}\n\nexport interface IElementConfiguration {\n  tagName: string;\n  properties: Record<string, string[]>;\n}\n\nexport interface IEventSubscriber extends IDisposable {\n  subscribe(node: INode, callbackOrListener: EventListenerOrEventListenerObject): void;\n}\n\nexport class EventSubscriber implements IEventSubscriber {\n  private target: INode;\n  private handler: EventListenerOrEventListenerObject;\n\n  constructor(private readonly events: string[]) {\n    this.events = events;\n    this.target = null;\n    this.handler = null;\n  }\n\n  subscribe(node: INode, callbackOrListener: EventListenerOrEventListenerObject) {\n    this.target = node;\n    this.handler = callbackOrListener;\n\n    const add = DOM.addEventListener;\n    const events = this.events;\n\n    for (let i = 0, ii = events.length; ii > i; ++i) {\n      add(events[i], callbackOrListener, node);\n    }\n  }\n\n  dispose() {\n    const node = this.target;\n    const callbackOrListener = this.handler;\n    const events = this.events;\n    const remove = DOM.removeEventListener;\n\n    for (let i = 0, ii = events.length; ii > i; ++i) {\n      remove(event[i], callbackOrListener, node);\n    }\n\n    this.target = this.handler = null;\n  }\n}\n\nexport const IEventManager = DI.createInterface('IEventManager');\n\nexport interface IEventManager {\n  registerElementConfiguration(config: IElementConfiguration): void;\n  getElementHandler(target: INode, propertyName: string): IEventSubscriber | null;\n  addEventListener(target: INode, targetEvent: string, callbackOrListener: EventListenerOrEventListenerObject, delegate: DelegationStrategy): IDisposable;\n}\n\nclass EventManagerImplementation implements IEventManager {\n  elementHandlerLookup: Record<string, Record<string, string[]>> = {};\n  delegatedHandlers: Record<string, ListenerTracker> = {};\n  capturedHandlers: Record<string, ListenerTracker> = {};\n\n  constructor() {\n    this.registerElementConfiguration({\n      tagName: 'input',\n      properties: {\n        value: ['change', 'input'],\n        checked: ['change', 'input'],\n        files: ['change', 'input']\n      }\n    });\n\n    this.registerElementConfiguration({\n      tagName: 'textarea',\n      properties: {\n        value: ['change', 'input']\n      }\n    });\n\n    this.registerElementConfiguration({\n      tagName: 'select',\n      properties: {\n        value: ['change']\n      }\n    });\n\n    this.registerElementConfiguration({\n      tagName: 'content editable',\n      properties: {\n        value: ['change', 'input', 'blur', 'keyup', 'paste']\n      }\n    });\n\n    this.registerElementConfiguration({\n      tagName: 'scrollable element',\n      properties: {\n        scrollTop: ['scroll'],\n        scrollLeft: ['scroll']\n      }\n    });\n  }\n\n  registerElementConfiguration(config: IElementConfiguration) {\n    let tagName = config.tagName.toLowerCase();\n    let properties = config.properties;\n    let lookup: Record<string, string[]> = this.elementHandlerLookup[tagName] = {};\n\n    for (let propertyName in properties) {\n      if (properties.hasOwnProperty(propertyName)) {\n        lookup[propertyName] = properties[propertyName];\n      }\n    }\n  }\n\n  getElementHandler(target: INode, propertyName: string): IEventSubscriber | null {\n    let name = DOM.normalizedTagName(target);\n    let lookup = this.elementHandlerLookup;\n\n    if (name) {\n      if (lookup[name] && lookup[name][propertyName]) {\n        return new EventSubscriber(lookup[name][propertyName]);\n      }\n\n      if (propertyName === 'textContent' || propertyName === 'innerHTML') {\n        return new EventSubscriber(lookup['content editable'].value);\n      }\n\n      if (propertyName === 'scrollTop' || propertyName === 'scrollLeft') {\n        return new EventSubscriber(lookup['scrollable element'][propertyName]);\n      }\n    }\n\n    return null;\n  }\n\n  addEventListener(\n    target: INode,\n    targetEvent: string,\n    callbackOrListener: EventListenerOrEventListenerObject,\n    strategy: DelegationStrategy\n  ) {\n    let delegatedHandlers: Record<string, ListenerTracker> | undefined;\n    let capturedHandlers: Record<string, ListenerTracker> | undefined;\n    let handlerEntry: ListenerTracker | ListenerTracker | undefined;\n\n    if (strategy === DelegationStrategy.bubbling) {\n      delegatedHandlers = this.delegatedHandlers;\n      \n      handlerEntry = delegatedHandlers[targetEvent]\n        || (delegatedHandlers[targetEvent] = new ListenerTracker(targetEvent, handleDelegatedEvent, false));\n      \n      let delegatedCallbacks = (<EventTargetWithLookups>target).delegatedCallbacks \n        || ((<EventTargetWithLookups>target).delegatedCallbacks = {});\n\n      return new DelegateOrCaptureSubscription(handlerEntry, delegatedCallbacks, targetEvent, callbackOrListener);\n    }\n\n    if (strategy === DelegationStrategy.capturing) {\n      capturedHandlers = this.capturedHandlers;\n      \n      handlerEntry = capturedHandlers[targetEvent] \n        || (capturedHandlers[targetEvent] = new ListenerTracker(targetEvent, handleCapturedEvent, true));\n      \n      let capturedCallbacks = (<EventTargetWithLookups>target).capturedCallbacks\n        || ((<EventTargetWithLookups>target).capturedCallbacks = {});\n\n      return new DelegateOrCaptureSubscription(handlerEntry, capturedCallbacks, targetEvent, callbackOrListener);\n    }\n\n    return new TriggerSubscription(target, targetEvent, callbackOrListener);\n  }\n}\n\nexport const EventManager: IEventManager = new EventManagerImplementation();\n","import { IExpression } from \"./ast\";\nimport { Reporter } from \"../reporter\";\n\nconst cache = <Record<string, IExpression>>Object.create(null);\n\nexport const Expression = {\n  from(expression: string): IExpression {\n    let found = cache[expression];\n    \n    if (found === undefined) {\n      found = this.compile(expression);\n      cache[expression] = found;\n    }\n\n    return found;\n  },\n  primeCache(expressionCache: Record<string, IExpression>) {\n    Object.assign(cache, expressionCache);\n  }\n};\n\n(<any>Expression).compile = function(expression: string): IExpression {\n  throw Reporter.error(3);\n};\n","import { EventManager, DelegationStrategy } from \"./event-manager\";\nimport { IExpression } from \"./ast\";\nimport { IBinding } from \"./binding\";\nimport { IContainer } from \"../di\";\nimport { IDisposable } from \"../interfaces\";\nimport { IScope } from \"./binding-context\";\nimport { INode } from \"../dom\";\n\nexport class Listener implements IBinding {\n  private source: IScope;\n  private $isBound = false;\n  private handler: IDisposable;\n\n  constructor(\n    public targetEvent: string,\n    private delegationStrategy: DelegationStrategy,\n    private sourceExpression: IExpression,\n    private target: INode,\n    private preventDefault: boolean,\n    public container: IContainer\n  ) {\n    this.targetEvent = targetEvent;\n    this.delegationStrategy = delegationStrategy;\n    this.sourceExpression = sourceExpression;\n    this.target = target;\n    this.preventDefault = preventDefault;\n    this.container = container;\n  }\n\n  callSource(event: Event) {\n    let overrideContext = this.source.overrideContext as any;\n    overrideContext['$event'] = event;\n\n    let mustEvaluate = true;\n    let result = this.sourceExpression.evaluate(this.source, this.container, mustEvaluate);\n\n    delete overrideContext['$event'];\n\n    if (result !== true && this.preventDefault) {\n      event.preventDefault();\n    }\n\n    return result;\n  }\n\n  handleEvent(event: Event) {\n    this.callSource(event);\n  }\n\n  $bind(source: IScope) {\n    if (this.$isBound) {\n      if (this.source === source) {\n        return;\n      }\n\n      this.$unbind();\n    }\n\n    this.$isBound = true;\n    this.source = source;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, source);\n    }\n\n    this.handler = EventManager.addEventListener(\n      this.target,\n      this.targetEvent,\n      this,\n      this.delegationStrategy\n    );\n  }\n\n  $unbind() {\n    if (!this.$isBound) {\n      return;\n    }\n\n    this.$isBound = false;\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.source);\n    }\n\n    this.source = null;\n    this.handler.dispose();\n    this.handler = null;\n  }\n\n  observeProperty() { }\n}\n","function newRecord(type: string, object: any, key: any, oldValue?: any) {\n  return {\n    type: type,\n    object: object,\n    key: key,\n    oldValue: oldValue\n  };\n}\n\nexport function getChangeRecords(map: Set<any> | Map<any, any>) {\n  let entries = new Array(map.size);\n  let keys = map.keys();\n  let i = 0;\n  let item;\n\n  while (item = keys.next()) { // eslint-disable-line no-cond-assign\n    if (item.done) {\n      break;\n    }\n\n    entries[i] = newRecord('added', map, item.value);\n    i++;\n  }\n\n  return entries;\n}\n","import { ModifyCollectionObserver } from './collection-observation';\n\nlet mapProto = Map.prototype;\n\nexport function getMapObserver(map) {\n  return ModifyMapObserver.for(map);\n}\n\nclass ModifyMapObserver extends ModifyCollectionObserver {\n  constructor(map) {\n    super(map);\n  }\n\n  /**\n   * Searches for observer or creates a new one associated with given map instance\n   * @param map instance for which observer is searched\n   * @returns ModifyMapObserver always the same instance for any given map instance\n   */\n  static for(map) {\n    if (!('__map_observer__' in map)) {\n      Reflect.defineProperty(map, '__map_observer__', {\n        value: ModifyMapObserver.create(map),\n        enumerable: false, configurable: false\n      });\n    }\n    return map.__map_observer__;\n  }\n\n  static create(map) {\n    let observer = new ModifyMapObserver(map);\n    let proto: any = mapProto;\n\n    if (proto.set !== map.set || proto.delete !== map.delete || proto.clear !== map.clear) {\n      proto = {\n        set: map.set,\n        delete: map.delete,\n        clear: map.clear\n      };\n    }\n\n    map.set = function() {\n      let hasValue = map.has(arguments[0]);\n      let type = hasValue ? 'update' : 'add';\n      let oldValue = map.get(arguments[0]);\n      let methodCallResult = proto.set.apply(map, arguments);\n      if (!hasValue || oldValue !== map.get(arguments[0])) {\n        observer.addChangeRecord({\n          type: type,\n          object: map,\n          key: arguments[0],\n          oldValue: oldValue\n        });\n      }\n      return methodCallResult;\n    };\n\n    map.delete = function() {\n      let hasValue = map.has(arguments[0]);\n      let oldValue = map.get(arguments[0]);\n      let methodCallResult = proto.delete.apply(map, arguments);\n      if (hasValue) {\n        observer.addChangeRecord({\n          type: 'delete',\n          object: map,\n          key: arguments[0],\n          oldValue: oldValue\n        });\n      }\n      return methodCallResult;\n    };\n\n    map.clear = function() {\n      let methodCallResult = proto.clear.apply(map, arguments);\n      observer.addChangeRecord({\n        type: 'clear',\n        object: map\n      });\n      return methodCallResult;\n    };\n\n    return observer;\n  }\n}\n",null,"import { DOM } from '../dom';\nimport { getArrayObserver } from './array-observation';\nimport { getMapObserver } from './map-observation';\nimport { getSetObserver } from './set-observation';\nimport { EventManager } from './event-manager';\nimport { DirtyChecker } from './dirty-checker';\nimport {\n  SetterObserver,\n  PrimitiveObserver,\n  propertyAccessor\n} from './property-observation';\nimport { SelectValueObserver } from './select-value-observer';\nimport { CheckedObserver } from './checked-observer';\nimport {\n  ValueAttributeObserver,\n  XLinkAttributeObserver,\n  DataAttributeObserver,\n  StyleObserver,\n  dataAttributeAccessor\n} from './element-observation';\nimport { ClassObserver } from './class-observer';\nimport { SVGAnalyzer } from './svg-analyzer';\nimport { IBindingTargetObserver, IObservable, IBindingTargetAccessor, IBindingCollectionObserver, AccessorOrObserver, IAccessor } from './observation';\nimport { Reporter } from '../reporter';\nimport { DI } from '../di';\n\nexport interface ObjectObservationAdapter {\n  getObserver(object: any, propertyName: string, descriptor: PropertyDescriptor): IBindingTargetObserver;\n}\n\nexport const IObserverLocator = DI.createInterface('IObserverLocator');\n\nexport interface IObserverLocator {\n  getObserver(obj: any, propertyName: string): AccessorOrObserver;\n  getAccessor(obj: any, propertyName: string): IAccessor | IBindingTargetAccessor;\n  addAdapter(adapter: ObjectObservationAdapter);\n  getArrayObserver(array: any[]): IBindingCollectionObserver;\n  getMapObserver(map: Map<any, any>): IBindingCollectionObserver;\n  getSetObserver(set: Set<any>): IBindingCollectionObserver;\n}\n\nfunction getPropertyDescriptor(subject: object, name: string) {\n  let pd = Object.getOwnPropertyDescriptor(subject, name);\n  let proto = Object.getPrototypeOf(subject);\n\n  while (typeof pd === 'undefined' && proto !== null) {\n    pd = Object.getOwnPropertyDescriptor(proto, name);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return pd;\n}\n\nclass ObserverLocatorImplementation implements IObserverLocator {\n  private adapters: ObjectObservationAdapter[] = [];\n\n  getObserver(obj: any, propertyName: string): AccessorOrObserver {\n    let observersLookup = obj.$observers;\n    let observer;\n\n    if (observersLookup && propertyName in observersLookup) {\n      return observersLookup[propertyName];\n    }\n\n    observer = this.createPropertyObserver(obj, propertyName);\n\n    if (!observer.doNotCache) {\n      if (observersLookup === undefined) {\n        observersLookup = this.getOrCreateObserversLookup(obj);\n      }\n\n      observersLookup[propertyName] = observer;\n    }\n\n    return observer;\n  }\n\n  private getOrCreateObserversLookup(obj: IObservable) {\n    return obj.$observers || this.createObserversLookup(obj);\n  }\n\n  private createObserversLookup(obj: IObservable): Record<string, IBindingTargetObserver> {\n    let value: Record<string, IBindingTargetObserver> = {};\n\n    if (!Reflect.defineProperty(obj, '$observers', {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: value\n    })) {\n      Reporter.write(0, obj);\n    }\n\n    return value;\n  }\n\n  addAdapter(adapter: ObjectObservationAdapter) {\n    this.adapters.push(adapter);\n  }\n\n  private getAdapterObserver(obj: any, propertyName: string, descriptor: PropertyDescriptor) {\n    for (let i = 0, ii = this.adapters.length; i < ii; i++) {\n      let adapter = this.adapters[i];\n      let observer = adapter.getObserver(obj, propertyName, descriptor);\n      if (observer) {\n        return observer;\n      }\n    }\n    return null;\n  }\n\n  private createPropertyObserver(obj: any, propertyName: string) {\n    if (!(obj instanceof Object)) {\n      return new PrimitiveObserver(obj, propertyName);\n    }\n\n    if (DOM.isNodeInstance(obj)) {\n      if (propertyName === 'class') {\n        return new ClassObserver(obj);\n      }\n\n      if (propertyName === 'style' || propertyName === 'css') {\n        return new StyleObserver(<HTMLElement>obj, propertyName);\n      }\n\n      const handler = EventManager.getElementHandler(obj, propertyName);\n      if (propertyName === 'value' && DOM.normalizedTagName(obj) === 'select') {\n        return new SelectValueObserver(<HTMLSelectElement>obj, handler, this);\n      }\n\n      if (propertyName === 'checked' && DOM.normalizedTagName(obj) === 'input') {\n        return new CheckedObserver(<HTMLInputElement>obj, handler, this);\n      }\n\n      if (handler) {\n        return new ValueAttributeObserver(obj, propertyName, handler);\n      }\n\n      const xlinkResult = /^xlink:(.+)$/.exec(propertyName);\n      if (xlinkResult) {\n        return new XLinkAttributeObserver(obj, propertyName, xlinkResult[1]);\n      }\n\n      if (propertyName === 'role'\n        || /^\\w+:|^data-|^aria-/.test(propertyName)\n        || SVGAnalyzer.isStandardSvgAttribute(obj, propertyName)) {\n        return new DataAttributeObserver(obj, propertyName);\n      }\n    }\n\n    const descriptor = getPropertyDescriptor(obj, propertyName);\n\n    //TODO: do something with this so that it doesn't always require the full expression parser\n    //if (hasDeclaredDependencies(descriptor)) {\n    //  return createComputedObserver(obj, propertyName, descriptor, this);\n    //}\n\n    if (descriptor) {\n      const existingGetterOrSetter: ((arg?: any) => any) & { getObserver?: Function } = descriptor.get || descriptor.set;\n      if (existingGetterOrSetter) {\n        if (existingGetterOrSetter.getObserver) {\n          return existingGetterOrSetter.getObserver(obj);\n        }\n\n        // attempt to use an adapter before resorting to dirty checking.\n        let adapterObserver = this.getAdapterObserver(obj, propertyName, descriptor);\n        if (adapterObserver) {\n          return adapterObserver;\n        }\n\n        return DirtyChecker.createProperty(obj, propertyName);\n      }\n    }\n\n    if (obj instanceof Array) {\n      if (propertyName === 'length') {\n        return this.getArrayObserver(obj).getLengthObserver();\n      }\n\n      return DirtyChecker.createProperty(obj, propertyName);\n    } else if (obj instanceof Map) {\n      if (propertyName === 'size') {\n        return this.getMapObserver(obj).getLengthObserver();\n      }\n\n      return DirtyChecker.createProperty(obj, propertyName);\n    } else if (obj instanceof Set) {\n      if (propertyName === 'size') {\n        return this.getSetObserver(obj).getLengthObserver();\n      }\n\n      return DirtyChecker.createProperty(obj, propertyName);\n    }\n\n    return new SetterObserver(obj, propertyName);\n  }\n\n  getAccessor(obj: any, propertyName: string): IBindingTargetObserver | IBindingTargetAccessor {\n    if (DOM.isNodeInstance(obj)) {\n      let normalizedTagName = DOM.normalizedTagName;\n\n      if (propertyName === 'class'\n        || propertyName === 'style' || propertyName === 'css'\n        || propertyName === 'value' && (normalizedTagName(obj) === 'input' || normalizedTagName(obj) === 'select')\n        || propertyName === 'checked' && normalizedTagName(obj) === 'input'\n        || propertyName === 'model' && normalizedTagName(obj) === 'input'\n        || /^xlink:.+$/.exec(propertyName)) {\n        return <any>this.getObserver(obj, propertyName);\n      }\n\n      if (/^\\w+:|^data-|^aria-/.test(propertyName)\n        || SVGAnalyzer.isStandardSvgAttribute(obj, propertyName)\n        || normalizedTagName(obj) === 'img' && propertyName === 'src'\n        || normalizedTagName(obj) === 'a' && propertyName === 'href'\n      ) {\n        return dataAttributeAccessor;\n      }\n    }\n\n    return propertyAccessor;\n  }\n\n  getArrayObserver(array: any[]) {\n    return getArrayObserver(array);\n  }\n\n  getMapObserver(map: Map<any, any>) {\n    return getMapObserver(map);\n  }\n\n  getSetObserver(set: Set<any>) {\n    return getSetObserver(set);\n  }\n}\n\nexport const ObserverLocator: IObserverLocator = new ObserverLocatorImplementation();\n","import { SubscriberCollection } from './subscriber-collection';\nimport { TaskQueue } from '../task-queue';\nimport { ICallable, IIndexable } from '../interfaces';\nimport { Reporter } from '../reporter';\nimport { IAccessor, ISubscribable } from './observation';\n\nexport const propertyAccessor = {\n  getValue: (obj: any, propertyName: string) => obj[propertyName],\n  setValue: (value: any, obj: IIndexable, propertyName: string) => { obj[propertyName] = value; }\n};\n\nexport class PrimitiveObserver implements IAccessor, ISubscribable {\n  doNotCache = true;\n\n  constructor(private primitive: IIndexable, private propertyName: string) {\n    this.primitive = primitive;\n    this.propertyName = propertyName;\n  }\n\n  getValue() {\n    return this.primitive[this.propertyName];\n  }\n\n  setValue() {\n    throw Reporter.error(14, `${typeof this.primitive}#${this.propertyName}`);\n  }\n\n  subscribe() { }\n  unsubscribe() { }\n}\n\nexport class SetterObserver extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  private queued = false;\n  private observing = false;\n  private currentValue: any;\n  private oldValue: any;\n\n  constructor(private obj: any, private propertyName: string) {\n    super();\n  }\n\n  getValue() {\n    return this.obj[this.propertyName];\n  }\n\n  setValue(newValue: any) {\n    this.obj[this.propertyName] = newValue;\n  }\n\n  getterValue() {\n    return this.currentValue;\n  }\n\n  setterValue(newValue: any) {\n    let oldValue = this.currentValue;\n\n    if (oldValue !== newValue) {\n      if (!this.queued) {\n        this.oldValue = oldValue;\n        this.queued = true;\n        TaskQueue.queueMicroTask(this);\n      }\n\n      this.currentValue = newValue;\n    }\n  }\n\n  call() {\n    let oldValue = this.oldValue;\n    let newValue = this.currentValue;\n\n    this.queued = false;\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.observing) {\n      this.convertProperty();\n    }\n\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  convertProperty() {\n    this.observing = true;\n    this.currentValue = this.obj[this.propertyName];\n    this.setValue = this.setterValue;\n    this.getValue = this.getterValue;\n\n    if (!Reflect.defineProperty(this.obj, this.propertyName, {\n      configurable: true,\n      enumerable: this.propertyName in this.obj ? this.obj.propertyIsEnumerable(this.propertyName) : true,\n      get: this.getValue.bind(this),\n      set: this.setValue.bind(this)\n    })) {\n      Reporter.write(1, this.propertyName, this.obj);\n    }\n  }\n}\n\nexport class Observer<T> extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  private queued = false;\n  private oldValue: T;\n\n  constructor(private currentValue: T, private selfCallback?: (newValue: T, oldValue: T) => void | T) {\n    super();\n  }\n\n  getValue(): T {\n    return this.currentValue;\n  }\n\n  setValue(newValue: T) {\n    let oldValue = this.currentValue;\n\n    if (oldValue !== newValue) {\n      if (!this.queued) {\n        this.oldValue = oldValue;\n        this.queued = true;\n        TaskQueue.queueMicroTask(this);\n      }\n\n      if (this.selfCallback !== undefined) {\n        let coercedValue = this.selfCallback(newValue, oldValue);\n\n        if (coercedValue !== undefined) {\n          newValue = <T>coercedValue;\n        }\n      }\n\n      this.currentValue = newValue;\n    }\n  }\n\n  call() {\n    let oldValue = this.oldValue;\n    let newValue = this.currentValue;\n    this.queued = false;\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n}\n","import { IExpression } from \"./ast\";\nimport { IBinding, IBindingTarget } from \"./binding\";\nimport { IContainer } from \"../di\";\nimport { IScope } from \"./binding-context\";\n\nexport class Ref implements IBinding {\n  private $scope: IScope;\n  private $isBound = false;\n\n  constructor(\n    private sourceExpression: IExpression,\n    private target: IBindingTarget,\n    public container: IContainer) {\n  }\n\n  $bind(scope: IScope) {\n    if (this.$isBound) {\n      if (this.$scope === scope) {\n        return;\n      }\n\n      this.$unbind();\n    }\n\n    this.$isBound = true;\n    this.$scope = scope;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, scope);\n    }\n\n    this.sourceExpression.assign(this.$scope, this.target, this.container);\n  }\n\n  $unbind() {\n    if (!this.$isBound) {\n      return;\n    }\n\n    this.$isBound = false;\n\n    if (this.sourceExpression.evaluate(this.$scope, this.container) === this.target) {\n      this.sourceExpression.assign(this.$scope, null, this.container);\n    }\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.$scope);\n    }\n\n    this.$scope = null;\n  }\n\n  observeProperty(context: any, name: any) { }\n}\n","import { SubscriberCollection } from './subscriber-collection';\nimport { ICallable } from '../interfaces';\nimport { TaskQueue } from '../task-queue';\nimport { IEventSubscriber } from './event-manager';\nimport { IObserverLocator } from './observer-locator';\nimport { INode, DOM, IChildObserver } from '../dom';\n\nconst selectArrayContext = 'SelectValueObserver:array';\n\nexport class SelectValueObserver extends SubscriberCollection {\n  private value: any;\n  private oldValue: any;\n  private arrayObserver: any;\n  private initialSync = false;\n  private childObserver: IChildObserver;\n\n  constructor(\n    private node: HTMLSelectElement,\n    public handler: IEventSubscriber,\n    private observerLocator: IObserverLocator\n  ) {\n    super();\n    this.node = node;\n    this.handler = handler;\n    this.observerLocator = observerLocator;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    if (newValue !== null && newValue !== undefined && this.node.multiple && !Array.isArray(newValue)) {\n      throw new Error('Only null or Array instances can be bound to a multi-select.');\n    }\n\n    if (this.value === newValue) {\n      return;\n    }\n\n    // unsubscribe from old array.\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(selectArrayContext, this);\n      this.arrayObserver = null;\n    }\n\n    // subscribe to new array.\n    if (Array.isArray(newValue)) {\n      this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n      this.arrayObserver.subscribe(selectArrayContext, this);\n    }\n\n    // assign and sync element.\n    this.oldValue = this.value;\n    this.value = newValue;\n    this.synchronizeOptions();\n    this.notify();\n    // queue up an initial sync after the bindings have been evaluated.\n    if (!this.initialSync) {\n      this.initialSync = true;\n      TaskQueue.queueMicroTask(this);\n    }\n  }\n\n  call(context: string, splices: any[]) {\n    // called by task queue and array observer.\n    this.synchronizeOptions();\n  }\n\n  synchronizeOptions() {\n    let value = this.value;\n    let isArray: boolean;\n\n    if (Array.isArray(value)) {\n      isArray = true;\n    }\n\n    let options = this.node.options;\n    let i = options.length;\n    let matcher = this.node.matcher || ((a: any, b: any) => a === b);\n\n    while (i--) {\n      let option = options.item(i) as HTMLOptionElement & { model?: any };\n      let optionValue = option.hasOwnProperty('model') ? option.model : option.value;\n      if (isArray) {\n        option.selected = value.findIndex((item: any) => !!matcher(optionValue, item)) !== -1; // eslint-disable-line no-loop-func\n        continue;\n      }\n      option.selected = !!matcher(optionValue, value);\n    }\n  }\n\n  synchronizeValue() {\n    let options = this.node.options;\n    let count = 0;\n    let value = [];\n\n    for (let i = 0, ii = options.length; i < ii; i++) {\n      let option = options.item(i) as HTMLOptionElement & { model?: any };\n      if (!option.selected) {\n        continue;\n      }\n      value.push(option.hasOwnProperty('model') ? option.model : option.value);\n      count++;\n    }\n\n    if (this.node.multiple) {\n      // multi-select\n      if (Array.isArray(this.value)) {\n        let matcher = this.node.matcher || ((a: any, b: any) => a === b);\n        // remove items that are no longer selected.\n        let i = 0;\n        while (i < this.value.length) {\n          let a = this.value[i];\n          if (value.findIndex(b => matcher(a, b)) === -1) { // eslint-disable-line no-loop-func\n            this.value.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n        // add items that have been selected.\n        i = 0;\n        while (i < value.length) {\n          let a = value[i];\n          if (this.value.findIndex(b => matcher(a, b)) === -1) { // eslint-disable-line no-loop-func\n            this.value.push(a);\n          }\n          i++;\n        }\n        return; // don't notify.\n      }\n    } else {\n      // single-select\n      if (count === 0) {\n        value = null;\n      } else {\n        value = value[0];\n      }\n    }\n\n    if (value !== this.value) {\n      this.oldValue = this.value;\n      this.value = value;\n      this.notify();\n    }\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.value;\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  handleEvent() {\n    this.synchronizeValue();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.handler.subscribe(this.node, this);\n    }\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n\n  bind() {\n    this.childObserver = DOM.createChildObserver(this.node, () => {\n      this.synchronizeOptions();\n      this.synchronizeValue();\n    }, { childList: true, subtree: true, characterData: true });\n  }\n\n  unbind() {\n    this.childObserver.disconnect();\n    this.childObserver = null;\n\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(selectArrayContext, this);\n      this.arrayObserver = null;\n    }\n  }\n}\n","import { ModifyCollectionObserver } from './collection-observation';\n\nlet setProto = Set.prototype;\n\nexport function getSetObserver(set: Set<any>) {\n  return ModifySetObserver.for(set);\n}\n\nclass ModifySetObserver extends ModifyCollectionObserver {\n  constructor(set: Set<any>) {\n    super(set);\n  }\n\n  /**\n   * Searches for observer or creates a new one associated with given set instance\n   * @param taskQueue\n   * @param set instance for which observer is searched\n   * @returns ModifySetObserver always the same instance for any given set instance\n   */\n  static for(set: Set<any> & { __set_observer__?: ModifySetObserver }) {\n    if (!('__set_observer__' in set)) {\n      Reflect.defineProperty(set, '__set_observer__', {\n        value: ModifySetObserver.create(set),\n        enumerable: false, configurable: false\n      });\n    }\n    return set.__set_observer__;\n  }\n\n  static create(set: Set<any>) {\n    let observer = new ModifySetObserver(set);\n\n    let proto: any = setProto;\n    if (proto.add !== set.add || proto.delete !== set.delete || proto.clear !== set.clear) {\n      proto = {\n        add: set.add,\n        delete: set.delete,\n        clear: set.clear\n      };\n    }\n\n    set.add = function() {\n      let type = 'add';\n      let oldSize = set.size;\n      let methodCallResult = proto.add.apply(set, arguments);\n      let hasValue = set.size === oldSize;\n      if (!hasValue) {\n        observer.addChangeRecord({\n          type: type,\n          object: set,\n          value: Array.from(set).pop()\n        });\n      }\n      return methodCallResult;\n    };\n\n    set.delete = function() {\n      let hasValue = set.has(arguments[0]);\n      let methodCallResult = proto.delete.apply(set, arguments);\n      if (hasValue) {\n        observer.addChangeRecord({\n          type: 'delete',\n          object: set,\n          value: arguments[0]\n        });\n      }\n      return methodCallResult;\n    };\n\n    set.clear = function() {\n      let methodCallResult = proto.clear.apply(set, arguments);\n      observer.addChangeRecord({\n        type: 'clear',\n        object: set\n      });\n      return methodCallResult;\n    };\n\n    return observer;\n  }\n}\n","import { ConnectableBinding } from \"./connectable-binding\";\n\nconst signals: Record<string, number> = {};\n\nexport const Signal = {\n  connect(binding: ConnectableBinding, signalName: string) {\n    if (!signals.hasOwnProperty(signalName)) {\n      signals[signalName] = 0;\n    }\n  \n    binding.observeProperty(signals, signalName);\n  },\n\n  notify(signalName: string) {\n    if (signals.hasOwnProperty(signalName)) {\n      signals[signalName]++;\n    }\n  }\n}\n","import { ICallable } from \"../interfaces\";\n\nlet arrayPool1: any[] = [];\nlet arrayPool2: any[] = [];\nlet poolUtilization: any[] = [];\n\nexport abstract class SubscriberCollection {\n  private _context0: any = null;\n  private _callable0: ICallable = null;\n  private _context1: any = null;\n  private _callable1: ICallable = null;\n  private _context2: any = null;\n  private _callable2: ICallable = null;\n  private _contextsRest: any[] = null;\n  private _callablesRest: ICallable[] = null;\n\n  protected addSubscriber(context: string, callable: ICallable) {\n    if (this.hasSubscriber(context, callable)) {\n      return false;\n    }\n    if (!this._context0) {\n      this._context0 = context;\n      this._callable0 = callable;\n      return true;\n    }\n    if (!this._context1) {\n      this._context1 = context;\n      this._callable1 = callable;\n      return true;\n    }\n    if (!this._context2) {\n      this._context2 = context;\n      this._callable2 = callable;\n      return true;\n    }\n    if (!this._contextsRest) {\n      this._contextsRest = [context];\n      this._callablesRest = [callable];\n      return true;\n    }\n    this._contextsRest.push(context);\n    this._callablesRest.push(callable);\n    return true;\n  }\n\n  protected removeSubscriber(context: string, callable: ICallable) {\n    if (this._context0 === context && this._callable0 === callable) {\n      this._context0 = null;\n      this._callable0 = null;\n      return true;\n    }\n    if (this._context1 === context && this._callable1 === callable) {\n      this._context1 = null;\n      this._callable1 = null;\n      return true;\n    }\n    if (this._context2 === context && this._callable2 === callable) {\n      this._context2 = null;\n      this._callable2 = null;\n      return true;\n    }\n    const callables = this._callablesRest;\n    if (callables === undefined || callables.length === 0) {\n      return false;\n    }\n    const contexts = this._contextsRest;\n    let i = 0;\n    while (!(callables[i] === callable && contexts[i] === context) && callables.length > i) {\n      i++;\n    }\n    if (i >= callables.length) {\n      return false;\n    }\n    contexts.splice(i, 1);\n    callables.splice(i, 1);\n    return true;\n  }\n\n  protected callSubscribers(newValue: any, oldValue?: any) {\n    let context0 = this._context0;\n    let callable0 = this._callable0;\n    let context1 = this._context1;\n    let callable1 = this._callable1;\n    let context2 = this._context2;\n    let callable2 = this._callable2;\n    let length = this._contextsRest ? this._contextsRest.length : 0;\n    let contextsRest: any[];\n    let callablesRest: ICallable[];\n    let poolIndex;\n    let i;\n    if (length) {\n      // grab temp arrays from the pool.\n      poolIndex = poolUtilization.length;\n      while (poolIndex-- && poolUtilization[poolIndex]) {\n        // Do nothing\n      }\n      if (poolIndex < 0) {\n        poolIndex = poolUtilization.length;\n        contextsRest = [];\n        callablesRest = [];\n        poolUtilization.push(true);\n        arrayPool1.push(contextsRest);\n        arrayPool2.push(callablesRest);\n      } else {\n        poolUtilization[poolIndex] = true;\n        contextsRest = arrayPool1[poolIndex];\n        callablesRest = arrayPool2[poolIndex];\n      }\n      // copy the contents of the \"rest\" arrays.\n      i = length;\n      while (i--) {\n        contextsRest[i] = this._contextsRest[i];\n        callablesRest[i] = this._callablesRest[i];\n      }\n    }\n\n    if (context0) {\n      if (callable0) {\n        callable0.call(context0, newValue, oldValue);\n      } else {\n        context0(newValue, oldValue);\n      }\n    }\n    if (context1) {\n      if (callable1) {\n        callable1.call(context1, newValue, oldValue);\n      } else {\n        context1(newValue, oldValue);\n      }\n    }\n    if (context2) {\n      if (callable2) {\n        callable2.call(context2, newValue, oldValue);\n      } else {\n        context2(newValue, oldValue);\n      }\n    }\n    if (length) {\n      for (i = 0; i < length; i++) {\n        let callable = callablesRest[i];\n        let context = contextsRest[i];\n        if (callable) {\n          callable.call(context, newValue, oldValue);\n        } else {\n          context(newValue, oldValue);\n        }\n        contextsRest[i] = null;\n        callablesRest[i] = null;\n      }\n      poolUtilization[poolIndex] = false;\n    }\n  }\n\n  protected hasSubscribers() {\n    return !!(\n      this._context0\n      || this._context1\n      || this._context2\n      || this._contextsRest && this._contextsRest.length);\n  }\n\n  protected hasSubscriber(context: string, callable: ICallable) {\n    let has = this._context0 === context && this._callable0 === callable\n      || this._context1 === context && this._callable1 === callable\n      || this._context2 === context && this._callable2 === callable;\n    if (has) {\n      return true;\n    }\n    let index;\n    let contexts = this._contextsRest;\n    if (!contexts || (index = contexts.length) === 0) { // eslint-disable-line no-cond-assign\n      return false;\n    }\n    let callables = this._callablesRest;\n    while (index--) {\n      if (contexts[index] === context && callables[index] === callable) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import { DI } from \"../di\";\nimport { INode } from \"../dom\";\n\nexport const ISVGAnalyzer = DI.createInterface('ISVGAnalyzer');\n\nexport interface ISVGAnalyzer {\n  isStandardSvgAttribute(node: INode, attributeName: string): boolean;\n}\n\nexport const SVGAnalyzer: ISVGAnalyzer = {\n  isStandardSvgAttribute(node: INode, attributeName: string): boolean {\n    return false;\n  }\n};\n","import { IContainer, Registration } from \"../di\";\nimport { ITaskQueue, TaskQueue } from \"../task-queue\";\nimport { IDirtyChecker, DirtyChecker } from \"../binding/dirty-checker\";\nimport { ISVGAnalyzer, SVGAnalyzer } from \"../binding/svg-analyzer\";\nimport { IEventManager, EventManager } from \"../binding/event-manager\";\nimport { IObserverLocator, ObserverLocator } from \"../binding/observer-locator\";\nimport { IAnimator, Animator } from \"../templating/animator\";\nimport { SanitizeValueConverter, Sanitizer, ISanitizer } from \"../resources/sanitize\";\nimport { AttrBindingBehavior } from \"../resources/attr-binding-behavior\";\nimport { OneTimeBindingBehavior, OneWayBindingBehavior, TwoWayBindingBehavior } from \"../resources/binding-mode-behaviors\";\nimport { DebounceBindingBehavior } from \"../resources/debounce-binding-behavior\";\nimport { If } from \"../resources/if\";\nimport { Else } from \"../resources/else\";\nimport { Replaceable } from \"../resources/replaceable\";\nimport { Compose } from \"../resources/compose\";\nimport { SelfBindingBehavior } from \"../resources/self-binding-behavior\";\nimport { ThrottleBindingBehavior } from \"../resources/throttle-binding-behavior\";\nimport { UpdateTriggerBindingBehavior } from \"../resources/update-trigger-binding-behavior\";\nimport { With } from \"../resources/with\";\nimport { ISignaler, Signaler, SignalBindingBehavior } from \"../resources/signals\";\nimport { Repeat } from \"../resources/repeat/repeat\";\nimport { IRepeatStrategyRegistry, RepeatStrategyRegistry } from \"../resources/repeat/repeat-strategy-registry\";\n\nexport const StandardConfiguration = {\n  register(container: IContainer) {\n    container.register(\n      // Value Converters\n      SanitizeValueConverter,\n\n      // Binding Behaviors\n      AttrBindingBehavior,\n      OneTimeBindingBehavior,\n      OneWayBindingBehavior,\n      TwoWayBindingBehavior,\n      DebounceBindingBehavior,\n      ThrottleBindingBehavior,\n      UpdateTriggerBindingBehavior,\n      SignalBindingBehavior,\n      SelfBindingBehavior,\n\n      // Template Controllers\n      If,\n      Else,\n      Repeat,\n      Replaceable,\n      With,\n\n      // Custom Elements\n      Compose\n    );\n  \n    // TODO: Replace with all(IRepeatStrategy)\n    container.register(Registration.instance(IRepeatStrategyRegistry, RepeatStrategyRegistry));\n\n    container.register(Registration.instance(IDirtyChecker, DirtyChecker));\n    container.register(Registration.instance(ITaskQueue, TaskQueue));\n    container.register(Registration.instance(ISVGAnalyzer, SVGAnalyzer));\n    container.register(Registration.instance(IEventManager, EventManager));\n    container.register(Registration.instance(IObserverLocator, ObserverLocator));\n    container.register(Registration.instance(IAnimator, Animator));\n    container.register(Registration.instance(ISanitizer, Sanitizer));\n    container.register(Registration.instance(ISignaler, Signaler));\n  }\n};\n","import { DataAttributeObserver } from '../binding/element-observation';\nimport { bindingBehavior } from '../decorators';\nimport { Binding } from '../binding/binding';\nimport { IScope } from '../binding/binding-context';\n\n@bindingBehavior('attr')\nexport class AttrBindingBehavior {\n  bind(binding: Binding, scope: IScope) {\n    binding.targetObserver = new DataAttributeObserver(binding.target, binding.targetProperty);\n  }\n\n  unbind(binding: Binding, scope: IScope) {}\n}\n","import {BindingMode} from '../binding/binding-mode';\nimport { bindingBehavior } from '../decorators';\nimport { Binding } from '../binding/binding';\nimport { IScope } from '../binding/binding-context';\n\nclass BindingModeBehavior {\n  constructor(private mode: BindingMode) {}\n\n  bind(binding: Binding, scope: IScope) {\n    (<any>binding).originalMode = binding.mode;\n    binding.mode = this.mode;\n  }\n\n  unbind(binding: Binding, scope: IScope) {\n    binding.mode = (<any>binding).originalMode;\n    (<any>binding).originalMode = null;\n  }\n}\n\n@bindingBehavior('oneTime')\nexport class OneTimeBindingBehavior extends BindingModeBehavior {\n  constructor() {\n    super(BindingMode.oneTime);\n  }\n}\n\n@bindingBehavior('oneWay')\nexport class OneWayBindingBehavior extends BindingModeBehavior {\n  constructor() {\n    super(BindingMode.oneWay);\n  }\n}\n\n@bindingBehavior('twoWay')\nexport class TwoWayBindingBehavior extends BindingModeBehavior {\n  constructor() {\n    super(BindingMode.twoWay);\n  }\n}\n","import { customElement, inject } from \"../decorators\";\nimport { IRenderSlot, SwapOrder } from \"../templating/render-slot\";\nimport { ViewEngine, ITemplateContainer, VisualWithCentralComponent, IVisual } from \"../templating/view-engine\";\nimport { ITargetedInstruction, IHydrateElementInstruction, TargetedInstructionType } from \"../templating/instructions\";\nimport { IViewOwner, IViewOwnerType, IContentView } from \"../templating/view\";\nimport { IContainer } from \"../di\";\nimport { IBindScope } from \"../binding/observation\";\nimport { INode, DOM } from \"../dom\";\n\nconst composeSource = {\n  name: 'au-compose',\n  template: null,\n  targetInstructions: null\n};\n\nconst composeProps = ['component', 'swapOrder', 'isComposing'];\n\n@customElement(composeSource)\n@inject(IViewOwner, INode, IRenderSlot, ITargetedInstruction)\nexport class Compose {\n  //#region Framework-Supplied\n  private $contentView: IContentView;\n  private $bindable: IBindScope[];\n  private $isBound: boolean;\n  //#endregion\n  \n  private task: CompositionTask = null;\n  private visual: VisualWithCentralComponent = null;\n  private auContent: INode = null;\n  private baseInstruction: IHydrateElementInstruction;\n  private compositionContainer: ITemplateContainer;\n\n  component: any;\n  swapOrder: SwapOrder;\n  isComposing: boolean;\n\n  constructor(private viewOwner: IViewOwner, private host: INode, private slot: IRenderSlot, instruction: IHydrateElementInstruction) { \n    const type = <IViewOwnerType>viewOwner.constructor;\n\n    this.compositionContainer = type.template.container;\n    this.baseInstruction = {\n      type: TargetedInstructionType.hydrateElement,\n      instructions: instruction.instructions.filter((x: any) => !composeProps.includes(x.dest)),\n      res: null,\n      replacements: instruction.replacements\n    };\n  }\n\n  private componentChanged(toBeComposed: any) {\n    if (this.visual !== null && this.visual.component === toBeComposed) {\n      return;\n    }\n\n    if (!toBeComposed) {\n      this.clear();\n    } else {\n      const previousTask = this.task;\n      const newTask = this.task = new CompositionTask(this);\n\n      if (previousTask !== null) {\n        const cancelResult = previousTask.cancel();\n\n        if (cancelResult instanceof Promise) {\n          cancelResult.then(() => newTask.start(toBeComposed));\n          return;\n        }\n      }\n      \n      newTask.start(toBeComposed);\n    }\n  }\n\n  /** @internal */\n  compose(toBeComposed: any) {\n    const instruction = Object.assign({}, {\n      resource: toBeComposed,\n      contentElement: this.createContentElement()\n    }, this.baseInstruction);\n\n    return this.swap(ViewEngine.visualFromComponent(this.compositionContainer, toBeComposed, instruction));\n  }\n\n  private createContentElement() {\n    let auContent = this.auContent;\n    let append = DOM.appendChild;\n\n    if (auContent == null) {\n      this.auContent = auContent = DOM.createElement('au-content');\n\n      if (DOM.isUsingSlotEmulation(this.host)) {\n        let nodes = this.$contentView.childNodes;\n\n        for (let i = 0, ii = nodes.length; i < ii; ++i) {\n          append(auContent, nodes[i]);\n        }\n      } else {\n        let element = this.host;\n\n        while(element.firstChild) {\n          append(auContent, element.firstChild);\n        }\n      }\n    }\n\n    return DOM.cloneNode(auContent);\n  }\n\n  private swap(newVisual: VisualWithCentralComponent) {\n    let index = this.$bindable.indexOf(this.visual);\n    if (index !== -1) {\n      this.$bindable.splice(index, 1);\n    }\n\n    this.visual = newVisual;\n    this.$bindable.push(newVisual);\n\n    if (this.$isBound) {\n      newVisual.$bind(this.viewOwner.$scope);\n    }\n\n    return this.slot.swap(newVisual, this.swapOrder || SwapOrder.after);\n  }\n\n  private clear() {\n    this.slot.removeAll();\n  }\n}\n\nclass CompositionTask {\n  private isCancelled = false;\n  private composeResult = null;\n\n  constructor(private compose: Compose) {}\n\n  start(toBeComposed) {\n    if (this.isCancelled) {\n      return;\n    }\n\n    this.compose.isComposing = true;\n\n    if (toBeComposed instanceof Promise) {\n      toBeComposed.then(x => this.render(x));\n    } else {\n      this.render(toBeComposed);\n    }\n  }\n\n  cancel() {\n    this.compose.isComposing = false;\n    this.isCancelled = true;\n    return this.composeResult;\n  }\n\n  private render(toBeComposed: any) {\n    if (this.isCancelled) {\n      return;\n    }\n\n    this.composeResult = this.compose.compose(toBeComposed);\n\n    if (this.composeResult instanceof Promise) {\n      this.composeResult = this.composeResult.then(() =>  this.compose.isComposing = false);\n    } else {\n      this.compose.isComposing = false;\n      this.composeResult = null;\n    }\n  }\n}\n","import { sourceContext, targetContext, IScope } from '../binding/binding-context';\nimport { BindingMode } from '../binding/binding-mode';\nimport { IBinding, Binding } from '../binding/binding';\nimport { bindingBehavior } from '../decorators';\nimport { Call } from '../binding/call';\nimport { Listener } from '../binding/listener';\n\ntype DebounceableBinding = (Binding | Call | Listener) & {\n  debouncedMethod: ((context: string, newValue: any, oldValue: any) => void) & { originalName: string };\n  debounceState: {\n    callContextToDebounce: string,\n    delay: number,\n    timeoutId: any,\n    oldValue: any\n  }\n};\n\nconst unset = {};\n\nfunction debounceCallSource(event: Event) {\n  const state = this.debounceState;\n  clearTimeout(state.timeoutId);\n  state.timeoutId = setTimeout(() => this.debouncedMethod(event), state.delay);\n}\n\nfunction debounceCall(this: DebounceableBinding, context: string, newValue: any, oldValue: any) {\n  const state = this.debounceState;\n  clearTimeout(state.timeoutId);\n  if (context !== state.callContextToDebounce) {\n    state.oldValue = unset;\n    this.debouncedMethod(context, newValue, oldValue);\n    return;\n  }\n  if (state.oldValue === unset) {\n    state.oldValue = oldValue;\n  }\n  state.timeoutId = setTimeout(() => {\n    const ov = state.oldValue;\n    state.oldValue = unset;\n    this.debouncedMethod(context, newValue, ov);\n  }, state.delay);\n}\n\n@bindingBehavior('debounce')\nexport class DebounceBindingBehavior {\n  bind(binding: DebounceableBinding, scope: IScope, delay = 200) {\n    let methodToDebounce;\n    let callContextToDebounce;\n    let debouncer;\n\n    if (binding instanceof Binding) {\n      const mode = binding.mode;\n      methodToDebounce = 'call';\n      debouncer = debounceCall;\n      callContextToDebounce = mode === BindingMode.twoWay || mode === BindingMode.fromView \n        ? targetContext \n        : sourceContext;\n    } else {\n      methodToDebounce = 'callSource';\n      debouncer = debounceCallSource;\n      callContextToDebounce = sourceContext;\n    }\n\n    // stash the original method and it's name.\n    // note: a generic name like \"originalMethod\" is not used to avoid collisions\n    // with other binding behavior types.\n    binding.debouncedMethod = binding[methodToDebounce];\n    binding.debouncedMethod.originalName = methodToDebounce;\n\n    // replace the original method with the debouncing version.\n    binding[methodToDebounce] = debouncer;\n\n    // create the debounce state.\n    binding.debounceState = {\n      callContextToDebounce,\n      delay,\n      timeoutId: 0,\n      oldValue: unset\n    };\n  }\n\n  unbind(binding: DebounceableBinding, scope: IScope) {\n    // restore the state of the binding.\n    const methodToRestore = binding.debouncedMethod.originalName;\n    binding[methodToRestore] = binding.debouncedMethod;\n    binding.debouncedMethod = null;\n    clearTimeout(binding.debounceState.timeoutId);\n    binding.debounceState = null;\n  }\n}\n","import { IfCore } from \"./if-core\";\nimport { If } from \"./if\";\nimport { IVisualFactory } from \"../templating/view-engine\";\nimport { IRenderSlot } from \"../templating/render-slot\";\nimport { inject, templateController, customAttribute } from \"../decorators\";\nimport { IScope } from \"../binding/binding-context\";\n\n@customAttribute('else')\n@templateController\n@inject(IVisualFactory, IRenderSlot)\nexport class Else extends IfCore {\n  private ifBehavior: If;\n\n  bound(scope: IScope) {\n    if (this.ifBehavior.condition) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  link(ifBehavior: If) {\n    if (this.ifBehavior === ifBehavior) {\n      return this;\n    }\n\n    this.ifBehavior = ifBehavior;\n    ifBehavior.link(this);\n\n    return this;\n  }\n}\n","import { IRenderSlot } from '../templating/render-slot';\nimport { IVisual, IVisualFactory } from '../templating/view-engine';\nimport { IScope } from '../binding/binding-context';\n\n/**\n* For internal use only. May change without warning.\n*/\nexport abstract class IfCore {\n  //#region Framework-Supplied\n  private $scope: IScope = null;\n  //#endregion\n  \n  private child: IVisual = null;\n  \n\n  // If the child view is animated, `condition` might not reflect the internal\n  // state anymore, so we use `showing` for that.\n  // Eventually, `showing` and `condition` should be consistent.\n  protected showing = false;\n\n  constructor(private factory: IVisualFactory, protected slot: IRenderSlot) { }\n\n  unbound() {\n    const visual = this.child;\n\n    if (visual === null) {\n      return;\n    }\n\n    this.child.$unbind();\n\n    if (!this.factory.isCaching) {\n      return;\n    }\n\n    if (this.showing) {\n      this.showing = false;\n      this.slot.remove(visual, /*returnToCache:*/true, /*skipAnimation:*/true);\n    } else {\n      visual.tryReturnToCache();\n    }\n\n    this.child = null;\n  }\n\n  show() {\n    if (this.child === null) {\n      this.child = this.factory.create();\n    }\n\n    this.child.$bind(this.$scope);\n\n    if (!this.showing) {\n      this.showing = true;\n      return this.slot.add(this.child);\n    }\n  }\n\n  hide() {\n    if (!this.showing) {\n      return;\n    }\n\n    const visual = this.child;\n    const removed = this.slot.remove(visual);\n\n    this.showing = false;\n    \n    if (removed instanceof Promise) {\n      return removed.then(() => visual.$unbind());\n    }\n\n    visual.$unbind();\n  }\n}\n","import { IfCore } from \"./if-core\";\nimport { Else } from \"./else\";\nimport { IVisualFactory } from \"../templating/view-engine\";\nimport { IRenderSlot } from \"../templating/render-slot\";\nimport { inject, templateController, customAttribute, bindable } from \"../decorators\";\n\n@customAttribute('if')\n@templateController\n@inject(IVisualFactory, IRenderSlot)\nexport class If extends IfCore {\n  private animating = false;\n  private elseBehavior: Else;\n\n  @bindable swapOrder: 'before' | 'with' | 'after' = 'after';\n  @bindable condition: boolean = false;\n\n  conditionChanged(newValue) {\n    this.update(newValue);\n  }\n\n  link(elseBehavior: Else) {\n    if (this.elseBehavior === elseBehavior) {\n      return this;\n    }\n\n    this.elseBehavior = elseBehavior;\n    elseBehavior.link(this);\n\n    return this;\n  }\n\n  private update(show) {\n    if (this.animating) {\n      return;\n    }\n\n    let promise;\n\n    if (this.elseBehavior) {\n      promise = show ? this.swap(this.elseBehavior, this) : this.swap(this, this.elseBehavior);\n    } else {\n      promise = show ? this.show() : this.hide();\n    }\n\n    if (promise) {\n      this.animating = true;\n\n      promise.then(() => {\n        this.animating = false;\n\n        if (this.condition !== this.showing) {\n          this.update(this.condition);\n        }\n      });\n    }\n  }\n\n  private swap(remove: IfCore, add: IfCore) {\n    switch (this.swapOrder) {\n      case 'before':\n        return Promise.resolve(<any>add.show()).then(() => remove.hide());\n      case 'with':\n        return Promise.all([<any>remove.hide(), add.show()]);\n      default:  // \"after\", default and unknown values\n        let promise = remove.hide();\n        return promise ? promise.then(() => <any>add.show()) : add.show();\n    }\n  }\n}\n","import { IVisualFactory, IVisual } from '../templating/view-engine';\nimport { inject, templateController, customAttribute } from '../decorators';\nimport { IRenderSlot } from '../templating/render-slot';\nimport { IScope } from '../binding/binding-context';\n\n@customAttribute('replaceable')\n@templateController\n@inject(IVisualFactory, IRenderSlot)\nexport class Replaceable {\n  private child: IVisual;\n\n  constructor(private factory: IVisualFactory, private slot: IRenderSlot) {\n    this.child = this.factory.create();\n    this.slot.add(this.child);\n  }\n\n  bound(scope: IScope) {\n    this.child.$bind(scope);\n  }\n\n  unbound() {\n    this.child.$unbind();\n  }\n}\n","import { DI } from \"../di\";\nimport { valueConverter, inject } from \"../decorators\";\n\nexport const ISanitizer = DI.createInterface('ISanitizer');\n\nexport interface ISanitizer {\n  /**\n  * Sanitizes the provided input.\n  * @param input The input to be sanitized.\n  */\n  sanitize(input: string): string;\n}\n\nconst SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\n/**\n* Provides basic input sanitization, to prevent script injection.\n*/\nexport const Sanitizer: ISanitizer = {\n  sanitize(input: string): string {\n    return input.replace(SCRIPT_REGEX, '');\n  }\n};\n\n/**\n* Simple html sanitization converter to preserve whitelisted elements and attributes on a bound property containing html.\n*/\n@valueConverter('sanitize')\n@inject(ISanitizer)\nexport class SanitizeValueConverter {\n  constructor(private sanitizer: ISanitizer) {\n    this.sanitizer = sanitizer;\n  }\n\n  /**\n  * Process the provided markup that flows to the view.\n  * @param untrustedMarkup The untrusted markup to be sanitized.\n  */\n  toView(untrustedMarkup: string) {\n    if (untrustedMarkup === null || untrustedMarkup === undefined) {\n      return null;\n    }\n\n    return this.sanitizer.sanitize(untrustedMarkup);\n  }\n}\n","import { IScope } from \"../binding/binding-context\";\nimport { Listener } from \"../binding/listener\";\nimport { Reporter } from \"../reporter\";\nimport { bindingBehavior } from \"../decorators\";\n\nfunction findOriginalEventTarget(event) {\n  return (event.path && event.path[0]) || (event.deepPath && event.deepPath[0]) || event.target;\n}\n\nfunction handleSelfEvent(event: Event) {\n  let target = findOriginalEventTarget(event);\n  \n  if (this.target !== target) {\n    return;\n  }\n\n  this.selfEventCallSource(event);\n}\n\ntype SelfableBinding = Listener & {\n  selfEventCallSource: (event: Event) => any;\n};\n\n@bindingBehavior('self')\nexport class SelfBindingBehavior {\n  bind(binding: SelfableBinding, scope: IScope) {\n    if (!binding.callSource || !binding.targetEvent) {\n      throw Reporter.error(8);\n    }\n    \n    binding.selfEventCallSource = binding.callSource;\n    binding.callSource = handleSelfEvent;\n  }\n\n  unbind(binding: SelfableBinding, scope: IScope) {\n    binding.callSource = binding.selfEventCallSource;\n    binding.selfEventCallSource = null;\n  }\n}\n","import { sourceContext, IScope } from '../binding/binding-context';\nimport { DI } from '../di';\nimport { IBinding, Binding } from '../binding/binding';\nimport { ICallable } from '../interfaces';\nimport { bindingBehavior } from '../decorators';\nimport { Reporter } from '../reporter';\n\ntype Signal = string;\n\nexport const ISignaler = DI.createInterface('ISignaler');\n\nexport interface ISignaler {\n  dispatchSignal(name: Signal): void;\n  addSignalListener(name: Signal, listener: ICallable): void;\n  removeSignalListener(name: Signal, listener: ICallable): void;\n}\n\nconst signals: Record<Signal, ICallable[]> = {};\n\nexport const Signaler: ISignaler = {\n  dispatchSignal(name: Signal): void {\n    let bindings = signals[name];\n\n    if (!bindings) {\n      return;\n    }\n\n    let i = bindings.length;\n    \n    while (i--) {\n      bindings[i].call(sourceContext);\n    }\n  },\n\n  addSignalListener(name: Signal, listener: ICallable) {\n    (signals[name] || (signals[name] = [])).push(listener);\n  },\n\n  removeSignalListener(name: Signal, listener: ICallable) {\n    let listeners = signals[name];\n\n    if (listeners) {\n      listeners.splice(listeners.indexOf(listener), 1);\n    }\n  }\n}\n\ntype SignalableBinding = Binding & {\n  signal: string | string[];\n};\n\n@bindingBehavior('signal')\nexport class SignalBindingBehavior {\n  signals;\n\n  bind(binding: SignalableBinding, scope: IScope) {\n    if (!binding.updateTarget) {\n      throw Reporter.error(11);\n    }\n\n    if (arguments.length === 3) {\n      let name = arguments[2];\n      Signaler.addSignalListener(name, binding);\n      binding.signal = name;\n    } else if (arguments.length > 3) {\n      let names = Array.prototype.slice.call(arguments, 2);\n      let i = names.length;\n\n      while (i--) {\n        let name = names[i];\n        Signaler.addSignalListener(name, binding);\n      }\n\n      binding.signal = names;\n    } else {\n      throw Reporter.error(12);\n    }\n  }\n\n  unbind(binding: SignalableBinding, scope: IScope) {\n    let name = binding.signal;\n    binding.signal = null;\n\n    if (Array.isArray(name)) {\n      let names = name;\n      let i = names.length;\n\n      while (i--) {\n        Signaler.removeSignalListener(names[i], binding);\n      }\n    } else {\n      Signaler.removeSignalListener(name, binding);\n    }\n  }\n}\n","import { BindingMode } from '../binding/binding-mode';\nimport { Binding } from '../binding/binding';\nimport { Call } from '../binding/call';\nimport { Listener } from '../binding/listener';\nimport { IScope } from '../binding/binding-context';\nimport { bindingBehavior } from '../decorators';\n\ntype ThrottleableBinding = (Binding | Call | Listener) & {\n  throttledMethod: ((value) => any) & { originalName: string };\n  throttleState: {\n    delay: number,\n    timeoutId: any,\n    last: any,\n    newValue?: any\n  }\n};\n\nfunction throttle(this: ThrottleableBinding, newValue: any) {\n  let state = this.throttleState;\n  let elapsed = +new Date() - state.last;\n  \n  if (elapsed >= state.delay) {\n    clearTimeout(state.timeoutId);\n    state.timeoutId = null;\n    state.last = +new Date();\n    this.throttledMethod(newValue);\n    return;\n  }\n\n  state.newValue = newValue;\n\n  if (state.timeoutId === null) {\n    state.timeoutId = setTimeout(() => {\n        state.timeoutId = null;\n        state.last = +new Date();\n        this.throttledMethod(state.newValue);\n      }, state.delay - elapsed);\n  }\n}\n\n@bindingBehavior('throttle')\nexport class ThrottleBindingBehavior {\n  bind(binding: ThrottleableBinding, scope: IScope, delay = 200) {\n    let methodToThrottle: string;\n    \n    if (binding instanceof Binding) {\n      if (binding.mode === BindingMode.twoWay) {\n        methodToThrottle = 'updateSource';\n      } else {\n        methodToThrottle = 'updateTarget';\n      }\n    } else {\n      methodToThrottle = 'callSource';\n    }\n\n    // stash the original method and it's name.\n    // note: a generic name like \"originalMethod\" is not used to avoid collisions\n    // with other binding behavior types.\n    binding.throttledMethod = binding[methodToThrottle];\n    binding.throttledMethod.originalName = methodToThrottle;\n\n    // replace the original method with the throttling version.\n    binding[methodToThrottle] = throttle;\n\n    // create the throttle state.\n    binding.throttleState = {\n      delay: delay,\n      last: 0,\n      timeoutId: null\n    };\n  }\n\n  unbind(binding: ThrottleableBinding, scope: IScope) {\n    // restore the state of the binding.\n    let methodToRestore = binding.throttledMethod.originalName;\n    binding[methodToRestore] = binding.throttledMethod;\n    binding.throttledMethod = null;\n    clearTimeout(binding.throttleState.timeoutId);\n    binding.throttleState = null;\n  }\n}\n","import { BindingMode } from '../binding/binding-mode';\nimport { EventSubscriber, IEventSubscriber } from '../binding/event-manager';\nimport { ObserverLocator } from '../binding/observer-locator';\nimport { Binding } from '../binding/binding';\nimport { IScope } from '../binding/binding-context';\nimport { ValueAttributeObserver } from '../binding/element-observation';\nimport { CheckedObserver } from '../binding/checked-observer';\nimport { SelectValueObserver } from '../binding/select-value-observer';\nimport { Reporter } from '../reporter';\nimport { bindingBehavior } from '../decorators';\n\ntype UpdateTriggerableObserver = (ValueAttributeObserver | CheckedObserver | SelectValueObserver) & {\n  originalHandler?: IEventSubscriber\n};\n\ntype UpdateTriggerableBinding = Binding & {\n  targetObserver: UpdateTriggerableObserver;\n};\n\n@bindingBehavior('updateTrigger')\nexport class UpdateTriggerBindingBehavior {\n  bind(binding: UpdateTriggerableBinding, scope: IScope, ...events: string[]) {\n    if (events.length === 0) {\n      throw Reporter.error(9);\n    }\n\n    if (binding.mode !== BindingMode.twoWay && binding.mode !== BindingMode.fromView) {\n      throw Reporter.error(10);\n    }\n\n    // ensure the binding's target observer has been set.\n    let targetObserver = <UpdateTriggerableObserver>ObserverLocator.getObserver(binding.target, binding.targetProperty);\n    if (!targetObserver.handler) {\n      throw Reporter.error(10);\n    }\n\n    binding.targetObserver = targetObserver;\n\n    // stash the original element subscribe function.\n    targetObserver.originalHandler = binding.targetObserver.handler;\n\n    // replace the element subscribe function with one that uses the correct events.\n    targetObserver.handler = new EventSubscriber(events);\n  }\n\n  unbind(binding: UpdateTriggerableBinding, scope: IScope) {\n    // restore the state of the binding.\n    binding.targetObserver.handler.dispose();\n    binding.targetObserver.handler = binding.targetObserver.originalHandler;\n    binding.targetObserver.originalHandler = null;\n  }\n}\n","import { customAttribute, templateController, inject } from \"../decorators\";\nimport { IVisualFactory, IVisual } from \"../templating/view-engine\";\nimport { IRenderSlot } from \"../templating/render-slot\";\nimport { IScope, BindingContext } from \"../binding/binding-context\";\n\n@customAttribute('with')\n@templateController\n@inject(IVisualFactory, IRenderSlot)\nexport class With { \n  //#region Framework-Supplied\n  private $scope: IScope;\n  //#endregion\n\n  private child: IVisual = null;\n\n  value: any = null;\n\n  constructor(private factory: IVisualFactory, private slot: IRenderSlot) { \n    this.child = factory.create();\n    this.slot.add(this.child);\n  }\n\n  valueChanged(newValue: any) {\n    const childScope = {\n      bindingContext: newValue,\n      overrideContext: BindingContext.createOverride(newValue, this.$scope.overrideContext)\n    };\n\n    this.child.$bind(childScope);\n  }\n\n  unbound() {\n    this.child.$unbind();\n  }\n}\n","import { DI } from \"../di\";\nimport { INode } from \"../dom\";\n\nexport const IAnimator = DI.createInterface('IAnimator');\n\nexport interface IAnimator {\n  /**\n   * Execute an 'enter' animation on an element\n   * @param element Element to animate\n   * @returns Resolved when the animation is done\n   */\n  enter(element: INode): Promise<boolean>;\n\n  /**\n   * Execute a 'leave' animation on an element\n   * @param element Element to animate\n   * @returns Resolved when the animation is done\n   */\n  leave(element: INode): Promise<boolean>;\n\n  /**\n   * Add a class to an element to trigger an animation.\n   * @param element Element to animate\n   * @param className Properties to animate or name of the effect to use\n   * @returns Resolved when the animation is done\n   */\n  removeClass(element: INode, className: string): Promise<boolean>;\n\n  /**\n   * Add a class to an element to trigger an animation.\n   * @param element Element to animate\n   * @param className Properties to animate or name of the effect to use\n   * @returns Resolved when the animation is done\n   */\n  addClass(element: INode, className: string): Promise<boolean>;\n}\n\n/**\n * An abstract class representing a mechanism for animating the DOM during various DOM state transitions.\n */\nexport const Animator: IAnimator = {\n  enter(node: INode): Promise<boolean> {\n    return Promise.resolve(false);\n  },\n\n  leave(node: INode): Promise<boolean> {\n    return Promise.resolve(false);\n  },\n\n  removeClass(node: INode, className: string): Promise<boolean> {\n    (<Element>node).classList.remove(className);\n    return Promise.resolve(false);\n  },\n  \n  addClass(node: INode, className: string): Promise<boolean> {\n    (<Element>node).classList.add(className);\n    return Promise.resolve(false);\n  }\n}\n","import { ViewEngine, ITemplate, } from \"./view-engine\";\nimport { View, IViewOwner, IContentView } from \"./view\";\nimport { TaskQueue } from \"../task-queue\";\nimport { Observer } from \"../binding/property-observation\";\nimport { IEmulatedShadowSlot, ShadowDOMEmulation } from \"./shadow-dom\";\nimport { PLATFORM } from \"../platform\";\nimport { IContainer, Registration } from \"../di\";\nimport { BindingMode } from \"../binding/binding-mode\";\nimport { Constructable, ICallable } from \"../interfaces\";\nimport { IBindScope, IAccessor, ISubscribable } from \"../binding/observation\";\nimport { IScope, BindingContext } from \"../binding/binding-context\";\nimport { IRenderSlot } from \"./render-slot\";\nimport { IBindSelf, IAttach, AttachContext, DetachContext } from \"./lifecycle\";\nimport { ICompiledViewSource, IBindableInstruction } from \"./instructions\";\nimport { INode, DOM, IView, IChildObserver } from \"../dom\";\nimport { SubscriberCollection } from \"../binding/subscriber-collection\";\n\nexport interface IElementComponent extends IBindSelf, IAttach, IViewOwner {\n  $host: INode;\n  $view: IView;\n  $contentView: IContentView;\n  $slots: Record<string, IEmulatedShadowSlot>;\n  $usingSlotEmulation: boolean;\n\n  $hydrate(host: INode, replacements?: Record<string, ICompiledViewSource>, contentNodeOverride?: INode): void;\n}\n\nexport interface IAttributeComponent extends IBindScope, IAttach { }\n\nexport interface IAttributeSource {\n  name: string;\n  defaultBindingMode?: BindingMode;\n  aliases?: string[];\n  isTemplateController?: boolean;\n}\n\nexport interface IValueConverterSource {\n  name: string;\n}\n\nexport interface IBindingBehaviorSource {\n  name: string;\n}\n\nexport interface IAttributeType extends Constructable {\n  new(...args: any[]): IAttributeComponent;\n  source: IAttributeSource;\n};\n\nexport interface IElementType extends Constructable {\n  new(...args: any[]): IElementComponent;\n  template: ITemplate;\n  source: ICompiledViewSource;\n}\n\nexport interface ValueConverterType extends Constructable {\n  source: IValueConverterSource;\n}\n\nexport interface BindingBehaviorType extends Constructable {\n  source: IBindingBehaviorSource;\n}\n\nexport const Component = {\n  findElements(nodes: ArrayLike<INode>): IElementComponent[] {\n    let components: IElementComponent[] = [];\n  \n    for (let i = 0, ii = nodes.length; i < ii; ++i) {\n      const current = nodes[i];\n      const component = DOM.getComponentForNode(current);\n      \n      if (component !== null) {\n        components.push(component);\n      }\n    }\n  \n    return components;\n  },\n  valueConverter<T extends Constructable>(nameOrSource: string | IValueConverterSource, ctor: T): T & ValueConverterType {\n    const source = (<any>ctor).source = ensureSource<IValueConverterSource>(nameOrSource);\n\n    (<any>ctor).register = function(container: IContainer) {\n      container.register(Registration.singleton(source.name, ctor));\n    }\n\n    return <any>ctor;\n  },\n  bindingBehavior<T extends Constructable>(nameOrSource: string | IBindingBehaviorSource, ctor: T): T & BindingBehaviorType {\n    const source = (<any>ctor).source = ensureSource<IBindingBehaviorSource>(nameOrSource);\n\n    (<any>ctor).register = function(container: IContainer) {\n      container.register(Registration.singleton(source.name, ctor));\n    }\n\n    return <any>ctor;\n  },\n  attribute<T extends Constructable>(nameOrSource: string | IAttributeSource, ctor: T): T & IAttributeType {\n    const source = ensureSource<IAttributeSource>(nameOrSource);\n    const observables = (<any>ctor).observables || {};\n    \n    return class CustomAttribute extends ctor implements IAttributeComponent {\n      static source: IAttributeSource = source;\n\n      static register(container: IContainer){\n        container.register(Registration.transient(source.name, CustomAttribute));\n\n        let aliases = source.aliases;\n\n        if (aliases) {\n          for(let i = 0, ii = aliases.length; i < ii; ++i) {\n            container.register(Registration.alias(source.name, aliases[i]));\n          }\n        }\n      }\n\n      private $changeCallbacks: (() => void)[] = [];\n      private $behavior: RuntimeBehavior = null;\n\n      $isAttached = false;\n      $isBound = false;\n      $scope: IScope = null;\n      $slot: IRenderSlot = null;\n\n      constructor(...args:any[]) {\n        super(...args);\n\n        RuntimeBehavior.get(this, observables, CustomAttribute).applyToAttribute(this);\n\n        if (this.$behavior.hasCreated) {\n          (<any>this).created();\n        }\n      }\n\n      $bind(scope: IScope) {\n        if (this.$isBound) {\n          if (this.$scope === scope) {\n            return;\n          }\n    \n          this.$unbind();\n        }\n\n        this.$scope = scope\n        this.$isBound = true;\n  \n        const changeCallbacks = this.$changeCallbacks;\n  \n        for (let i = 0, ii = changeCallbacks.length; i < ii; ++i) {\n          changeCallbacks[i]();\n        }\n  \n        if (this.$behavior.hasBound) {\n          (<any>this).bound(scope);\n        }\n      }\n\n      $attach(context: AttachContext){\n        if (this.$isAttached) {\n          return;\n        }\n\n        if (this.$behavior.hasAttaching) {\n          (<any>this).attaching();\n        }\n\n        if (this.$slot !== null) {\n          this.$slot.$attach(context);\n        }\n      \n        if (this.$behavior.hasAttached) {\n          context.queueForAttachedCallback(this);\n        }\n\n        this.$isAttached = true;\n      }\n\n      $detach(context: DetachContext) {\n        if (this.$isAttached) {\n          if (this.$behavior.hasDetaching) {\n            (<any>this).detaching();\n          }\n\n          if (this.$slot !== null) {\n            this.$slot.$detach(context);\n          }\n    \n          if (this.$behavior.hasDetached) {\n            context.queueForDetachedCallback(this);\n          }\n\n          this.$isAttached = false;\n        }\n      }\n\n      $unbind() {\n        if (this.$isBound) {\n          if (this.$behavior.hasUnbound) {\n            (<any>this).unbound();\n          }\n    \n          this.$isBound = false;\n        }\n      }\n    };\n  },\n  elementFromCompiledSource<T extends Constructable>(source: ICompiledViewSource, ctor: T = null): T & IElementType {\n    //Support HTML-Only Elements by providing a generated class.\n    if (ctor === null) {\n      ctor = <any>class HTMLOnlyElement { };\n    }\n    \n    source.shadowOptions = source.shadowOptions || (<any>ctor).shadowOptions || null;\n    source.containerless = source.containerless || (<any>ctor).containerless || false;\n\n    //Merge any observables from view compilation with those from bindable props on the class.\n    const observables = Object.assign(\n      {},\n      (<any>ctor).observables,\n      source.observables\n    );\n\n    const template = ViewEngine.templateFromCompiledSource(source);\n    const CompiledComponent = class extends ctor implements IElementComponent {\n      static template: ITemplate = template;\n      static source: ICompiledViewSource = source;\n\n      static register(container: IContainer){\n        container.register(Registration.transient(source.name, CompiledComponent));\n      }\n  \n      $bindable: IBindScope[] = [];\n      $attachable: IAttach[] = [];\n      $slots: Record<string, IEmulatedShadowSlot> = source.hasSlots ? {} : null;\n      $usingSlotEmulation = source.hasSlots || false;\n      $view: IView = null;\n      $contentView: IContentView = null;\n      $slot: IRenderSlot = null;\n      $isAttached = false;\n      $isBound = false;\n      $scope: IScope = {\n        bindingContext: this,\n        overrideContext: BindingContext.createOverride()\n      };\n      \n      $host: INode = null;\n      private $shadowRoot: INode = null;\n      private $changeCallbacks: (() => void)[] = [];\n      private $behavior: RuntimeBehavior = null;\n  \n      constructor(...args:any[]) {\n        super(...args);\n        RuntimeBehavior.get(this, observables, CompiledComponent).applyToElement(this);\n      }\n  \n      $hydrate(host: INode, replacements: Record<string, ICompiledViewSource> = PLATFORM.emptyObject, contentOverride?: INode) { \n        this.$host = source.containerless ? DOM.convertToAnchor(host, true) : host;\n        this.$shadowRoot = DOM.createElementViewHost(this.$host, source.shadowOptions);\n        this.$usingSlotEmulation = DOM.isUsingSlotEmulation(this.$host);\n        this.$contentView = View.fromCompiledContent(this.$host, contentOverride);\n        this.$view = this.$createView(this.$host, replacements);\n\n        (<any>this.$host).$component = this;\n  \n        if (this.$behavior.hasCreated) {\n          (<any>this).created();\n        }\n      }\n  \n      $createView(host: INode, replacements: Record<string, ICompiledViewSource>) {\n        return this.$behavior.hasCreateView\n          ? (<any>this).createView(host, replacements, template)\n          : template.createFor(this, host, replacements);\n      }\n  \n      $bind() {\n        if (this.$isBound) {\n          return;\n        }\n\n        const scope = this.$scope;\n        const bindable = this.$bindable;\n  \n        for (let i = 0, ii = bindable.length; i < ii; ++i) {\n          bindable[i].$bind(scope);\n        }\n  \n        this.$isBound = true;\n  \n        const changeCallbacks = this.$changeCallbacks;\n  \n        for (let i = 0, ii = changeCallbacks.length; i < ii; ++i) {\n          changeCallbacks[i]();\n        }\n  \n        if (this.$behavior.hasBound) {\n          (<any>this).bound();\n        }\n      }\n  \n      $attach(context?: AttachContext) {\n        if (this.$isAttached) {\n          return;\n        }\n\n        if (!context) {\n          context = AttachContext.open(this);\n        }\n\n        if (this.$behavior.hasAttaching) {\n          (<any>this).attaching();\n        }\n  \n        const attachable = this.$attachable;\n  \n        for (let i = 0, ii = attachable.length; i < ii; ++i) {\n          attachable[i].$attach(context);\n        }\n\n        if (this.$slot !== null) {\n          this.$slot.$attach(context);\n        }\n\n        //Native ShadowDOM would be distributed as soon as we append the view below.\n        //So, we emulate the distribution of nodes at the same time.\n        if (this.$contentView !== null && this.$slots) {\n          ShadowDOMEmulation.distributeContent(this.$contentView, this.$slots);\n        }\n  \n        if (source.containerless) {\n          this.$view.insertBefore(this.$host);\n        } else {\n          this.$view.appendTo(this.$shadowRoot);\n        }\n      \n        if (this.$behavior.hasAttached) {\n          context.queueForAttachedCallback(this);\n        }\n\n        this.$isAttached = true;\n\n        if (context.wasOpenedBy(this)) {\n          context.close();\n        }\n      }\n  \n      $detach(context?: DetachContext) {\n        if (this.$isAttached) {\n          if (!context) {\n            context = DetachContext.open(this);\n          }\n\n          if (this.$behavior.hasDetaching) {\n            (<any>this).detaching();\n          }\n\n          context.queueForViewRemoval(this);\n    \n          const attachable = this.$attachable;\n          let i = attachable.length;\n    \n          while (i--) {\n            attachable[i].$detach();\n          }\n\n          if (this.$slot !== null) {\n            this.$slot.$detach(context);\n          }\n    \n          if (this.$behavior.hasDetached) {\n            context.queueForDetachedCallback(this);\n          }\n\n          this.$isAttached = false;\n\n          if (context.wasOpenedBy(this)) {\n            context.close();\n          }\n        }\n      }\n  \n      $unbind() {\n        if (this.$isBound) {\n          const bindable = this.$bindable;\n          let i = bindable.length;\n    \n          while (i--) {\n            bindable[i].$unbind();\n          }\n    \n          if (this.$behavior.hasUnbound) {\n            (<any>this).unbound();\n          }\n    \n          this.$isBound = false;\n        }\n      }\n    }\n\n    //If the element has a view, support Recursive Components by adding self to own view template container.\n    if (template.container !== null) {\n      CompiledComponent.register(template.container);\n    }\n\n    return CompiledComponent;\n  }\n};\n\nfunction ensureSource<T>(nameOrSource: any): T {\n  let source: any;\n    \n  if (typeof nameOrSource === 'string') {\n    source = { name: source };\n  } else {\n    source = nameOrSource;\n  }\n\n  return source;\n}\n\nclass RuntimeBehavior {\n  private constructor() {}\n\n  observables: Record<string, IBindableInstruction>;\n  hasCreated = false;\n  hasBound = false;\n  hasAttaching = false;\n  hasAttached = false;\n  hasDetaching = false;\n  hasDetached = false;\n  hasUnbound = false;\n  hasCreateView = false;\n\n  static get(instance, observables: Record<string, IBindableInstruction>, Component: IElementType | IAttributeType) {\n    let behavior: RuntimeBehavior = (<any>Component).behavior;\n  \n    if (behavior === undefined) {\n      behavior\n        = (<any>Component).behavior\n        = RuntimeBehavior.for(instance, observables, Component);\n    }\n\n    return behavior;\n  }\n\n  private static for(instance, observables: Record<string, IBindableInstruction>, Component: IElementType | IAttributeType) {\n    let behavior = new RuntimeBehavior();\n\n    for (let name in instance) {\n      if (name in observables) {\n        continue;\n      }\n\n      const callback = `${name}Changed`;\n\n      if (callback in instance) {\n        observables[name] = { callback };\n      }\n    }\n\n    behavior.observables = observables;\n    behavior.hasCreated = 'created' in instance;\n    behavior.hasBound = 'bound' in instance;\n    behavior.hasAttaching = 'attaching' in instance;\n    behavior.hasAttached = 'attached' in instance;\n    behavior.hasDetaching = 'detaching' in instance;\n    behavior.hasDetached = 'detached' in instance;\n    behavior.hasUnbound = 'unbound' in instance;\n    behavior.hasCreateView = 'createView' in instance;\n\n    return behavior;\n  }\n\n  applyToAttribute(instance: IAttributeComponent) {\n    this.applyTo(instance);\n  }\n\n  applyToElement(instance: IElementComponent) {\n    const observers = this.applyTo(instance);\n\n    (<any>observers).$children = new ChildrenObserver(instance);\n\n    Reflect.defineProperty(instance, '$children', {\n      enumerable: false,\n      get: function() {\n        return this.$observers.$children.getValue();\n      }\n    });\n  }\n\n  private applyTo(instance) {\n    const observers = {};\n    const finalObservables = this.observables;\n    const observableNames = Object.getOwnPropertyNames(finalObservables);\n  \n    for (let i = 0, ii = observableNames.length; i < ii; ++i) {\n      const name = observableNames[i];\n      const observable = finalObservables[name];\n      const changeHandler = observable.callback;\n  \n      if (changeHandler in instance) {\n        observers[name] = new Observer(instance[name], v => instance.$isBound ? instance[changeHandler](v) : void 0);\n        instance.$changeCallbacks.push(() => instance[changeHandler](instance[name]));\n      } else {\n        observers[name] = new Observer(instance[name]);\n      }\n  \n      createGetterSetter(instance, name);\n    }\n  \n    Reflect.defineProperty(instance, '$observers', {\n      enumerable: false,\n      value: observers\n    });\n\n    instance.$behavior = this;\n\n    return observers;\n  }\n}\n\nfunction createGetterSetter(instance, name) {\n  Reflect.defineProperty(instance, name, {\n    enumerable: true,\n    get: function() { return this.$observers[name].getValue(); },\n    set: function(value) { this.$observers[name].setValue(value); }\n  });\n}\n\nexport class ChildrenObserver extends SubscriberCollection implements IAccessor, ISubscribable, ICallable {\n  private observer: IChildObserver = null;\n  private children: IElementComponent[] = null;\n  private queued = false;\n\n  constructor(private component: IElementComponent) {\n    super();\n  }\n\n  getValue(): IElementComponent[] {\n    if (this.observer === null) {\n      this.observer = DOM.createChildObserver(this.component.$host, () => this.onChildrenChanged());\n      this.children = Component.findElements(this.observer.childNodes);\n    }\n\n    return this.children;\n  }\n\n  setValue(newValue) {}\n\n  private onChildrenChanged() {\n    this.children = Component.findElements(this.observer.childNodes);\n\n    if ('$childrenChanged' in this.component) {\n      (<any>this.component).$childrenChanged();\n    }\n\n    if (!this.queued) {\n      this.queued = true;\n      TaskQueue.queueMicroTask(this);\n    }\n  }\n\n  call() {\n    this.queued = false;\n    this.callSubscribers(this.children);\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n}\n","import { DI } from \"../di\";\nimport { DelegationStrategy } from \"../binding/event-manager\";\nimport { BindingMode } from \"../binding/binding-mode\";\nimport { INode } from \"../dom\";\n\nexport enum TargetedInstructionType {\n  textBinding = 0,\n  oneWayBinding = 1,\n  fromViewBinding = 2,\n  twoWayBinding = 3,\n  listenerBinding = 4,\n  callBinding = 5,\n  refBinding = 6,\n  stylePropertyBinding = 7,\n  setProperty = 8,\n  setAttribute = 9,\n  hydrateSlot = 10,\n  hydrateElement = 11,\n  hydrateAttribute = 12,\n  hydrateTemplateController = 13\n}\n\nexport interface ICompiledViewSource {\n  name?: string;\n  template: string;\n  targetInstructions: Array<TargetedInstruction[]>;\n  dependencies?: any[];\n  surrogateInstructions?: TargetedInstruction[];\n  observables?: Record<string, IBindableInstruction>;\n  containerless?: boolean;\n  shadowOptions?: ShadowRootInit;\n  hasSlots?: boolean;\n}\n\nexport interface IBindableInstruction {\n  mode?: BindingMode;\n  callback?: string;\n  attribute?: string;\n}\n\nexport const ITargetedInstruction = DI.createInterface('ITargetedInstruction');\nexport interface ITargetedInstruction {\n  type: TargetedInstructionType;\n}\n\ntype TargetedInstruction =\n  ITextBindingInstruction |\n  IOneWayBindingInstruction | \n  IFromViewBindingInstruction | \n  ITwoWayBindingInstruction | \n  IListenerBindingInstruction |\n  ICallBindingInstruction |\n  IRefBindingInstruction |\n  IStylePropertyBindingInstruction |\n  ISetPropertyInstruction |\n  ISetAttributeInstruction |\n  IHydrateSlotInstruction |\n  IHydrateElementInstruction |\n  IHydrateAttributeInstruction |\n  IHydrateTemplateController;\n\nexport interface ITextBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.textBinding;\n  src: string;\n}\n\nexport interface IOneWayBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.oneWayBinding;\n  src: string;\n  dest: string;\n}\n\nexport interface IFromViewBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.fromViewBinding;\n  src: string;\n  dest: string;\n}\n\nexport interface ITwoWayBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.twoWayBinding;\n  src: string;\n  dest: string;\n}\n\nexport interface IListenerBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.listenerBinding;\n  src: string;\n  dest: string;\n  strategy: DelegationStrategy;\n  preventDefault: boolean;\n}\n\nexport interface ICallBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.callBinding,\n  src: string;\n  dest: string;\n}\n\nexport interface IRefBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.refBinding;\n  src: string;\n}\n\nexport interface IStylePropertyBindingInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.stylePropertyBinding;\n  src: string;\n  dest: string;\n}\n\nexport interface ISetPropertyInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.setProperty;\n  dest: string;\n  value: any;\n}\n\nexport interface ISetAttributeInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.setAttribute;\n  dest: string;\n  value: any;\n}\n\nexport interface IHydrateSlotInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.hydrateSlot;\n  name?: string;\n  dest?: string;\n  fallback?: ICompiledViewSource;\n}\n\nexport interface IHydrateElementInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.hydrateElement;\n  res: any;\n  instructions: TargetedInstruction[];\n  replacements?: Record<string, ICompiledViewSource>;\n  contentElement?: INode; // Usage: Compose\n}\n\nexport interface IHydrateAttributeInstruction extends ITargetedInstruction {\n  type: TargetedInstructionType.hydrateAttribute;\n  res: any;\n  instructions: TargetedInstruction[];\n}\n\nexport interface IHydrateTemplateController extends ITargetedInstruction {\n  type: TargetedInstructionType.hydrateTemplateController;\n  res: any;\n  instructions: TargetedInstruction[];\n  src: ICompiledViewSource;\n  link?: boolean;\n}\n","import { IViewOwner } from \"./view\";\n\nexport class AttachContext {\n  private tail = null;\n  private head = null;\n  private $nextAttached = null;\n  \n  private constructor(private opener) {\n    this.tail = this.head = this;\n  }\n\n  private attached() {}\n\n  wasOpenedBy(requestor) {\n    return this.opener === requestor;\n  }\n\n  queueForAttachedCallback(requestor: IAttach) {\n    this.tail.$nextAttached = requestor;\n    this.tail = requestor;\n  }\n\n  close() {\n    let current = this.head;\n    let next;\n\n    while (current) {\n      current.attached();\n      next = current.$nextAttached;\n      current.$nextAttached = null;\n      current = next;\n    }\n  }\n\n  static open(manager) {\n    return new AttachContext(manager);\n  }\n}\n\nconst dummyView = { remove() {} };\n\nexport class DetachContext {\n  private detachedHead = null; //LOL\n  private detachedTail = null;\n  private viewRemoveHead = null;\n  private viewRemoveTail = null;\n  private $nextDetached = null;\n  private $nextRemoveView = null;\n  private $view = dummyView;\n  \n  private constructor(private opener) {\n    this.detachedTail = this.detachedHead = this;\n    this.viewRemoveTail = this.viewRemoveHead = this;\n  }\n\n  wasOpenedBy(requestor) {\n    return this.opener === requestor;\n  }\n\n  private detached() {}\n\n  queueForViewRemoval(requestor: IViewOwner) {\n    this.viewRemoveTail.$nextRemoveView = requestor;\n    this.viewRemoveTail = requestor;\n  }\n\n  queueForDetachedCallback(requestor: IAttach) {\n    this.detachedTail.$nextDetached = requestor;\n    this.detachedTail = requestor;\n  }\n\n  close() {\n    let current = this.detachedHead;\n    let next;\n\n    while (current) {\n      current.detached();\n      next = current.$nextDetached;\n      current.$nextDetached = null;\n      current = next;\n    }\n\n    let current2 = this.viewRemoveHead;\n    let next2;\n\n    while (current2) {\n      current2.$view.remove();\n      next2 = current2.$nextRemoveView;\n      current2.$nextRemoveView = null;\n      current2 = next2;\n    }\n  }\n\n  static open(manager) {\n    return new DetachContext(manager);\n  }\n}\n\nexport interface IAttach {\n  $attach(context?: AttachContext): void;\n  $detach(context?: DetachContext): void;\n}\n\nexport interface IBindSelf {\n  $bind(): void;\n  $unbind(): void;\n}\n","import { Animator } from './animator';\nimport { ShadowDOMEmulation, IEmulatedShadowSlot } from './shadow-dom';\nimport { IVisual } from './view-engine';\nimport { IScope } from '../binding/binding-context';\nimport { IBindScope } from '../binding/observation';\nimport { Reporter } from '../reporter';\nimport { IAttach, AttachContext, DetachContext } from './lifecycle';\nimport { DI } from '../di';\nimport { INode, IView } from '../dom';\nimport { IContentView } from './view';\n\nfunction appendVisualToContainer(visual: IVisual, owner: RenderSlotImplementation) {\n  visual.$view.appendTo(owner.anchor);\n}\n\nfunction addVisual(visual: IVisual, owner: RenderSlotImplementation) {\n  visual.$view.insertBefore(owner.anchor);\n}\n\nfunction project_addVisual(visual: IVisual, owner: RenderSlotImplementation) {\n  ShadowDOMEmulation.distributeView(visual.$view, owner.slots, owner);\n  owner.logicalView.insertVisualChildBefore(visual, owner.anchor);\n\n  visual.$view.remove = () => {\n    ShadowDOMEmulation.undistributeView(visual.$view, owner.slots, owner);\n    owner.logicalView.removeVisualChild(visual);\n  };\n}\n\nfunction insertVisual(visual: IVisual, owner: RenderSlotImplementation, index: number) {\n  visual.$view.insertBefore(owner.children[index].$view.firstChild);\n}\n\nfunction project_insertVisual(visual: IVisual, owner: RenderSlotImplementation, index: number) {\n  ShadowDOMEmulation.distributeView(visual.$view, owner.slots, owner, index);\n  owner.logicalView.insertVisualChildBefore(visual, owner.children[index].$view.firstChild);\n\n  visual.$view.remove = () => {\n    ShadowDOMEmulation.undistributeView(visual.$view, owner.slots, owner);\n    owner.logicalView.removeVisualChild(visual);\n  };\n}\n\nexport enum SwapOrder {\n  before = 'before',\n  with = 'with',\n  after = 'after'\n}\n\nexport const IRenderSlot = DI.createInterface('IRenderSlot');\n\n/**\n* Represents a slot or location within the DOM to which views can be added and removed.\n* Manages the view lifecycle for its children.\n*/\nexport interface IRenderSlot extends IAttach {\n  children: ReadonlyArray<IVisual>;\n\n  /**\n  * Adds a view to the slot.\n  * @param visual The view to add.\n  * @return May return a promise if the view addition triggered an animation.\n  */\n  add(visual: IVisual): void | Promise<boolean>;\n\n  /**\n  * Inserts a view into the slot.\n  * @param index The index to insert the view at.\n  * @param visual The view to insert.\n  * @return May return a promise if the view insertion triggered an animation.\n  */\n insert(index: number, visual: IVisual): void | Promise<boolean>;\n\n  /**\n  * Moves a view across the slot.\n  * @param sourceIndex The index the view is currently at.\n  * @param targetIndex The index to insert the view at.\n  */\n  move(sourceIndex: number, targetIndex: number): void;\n\n  /**\n  * Replaces the existing view slot children with the new visual.\n  * @param newVisual The visual to swap in.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if an animation was triggered.\n  */\n  swap(newVisual: IVisual, strategy: SwapOrder, returnToCache?: boolean, skipAnimation?: boolean): void | IVisual[] | Promise<any>;\n\n  /**\n  * Removes a view from the slot.\n  * @param visual The view to remove.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  remove(visual: IVisual, returnToCache?: boolean, skipAnimation?: boolean): IVisual | Promise<IVisual>;\n\n  /**\n  * Removes a view an a specified index from the slot.\n  * @param index The index to remove the view at.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  removeAt(index: number, returnToCache?: boolean, skipAnimation?: boolean): IVisual | Promise<IVisual>;\n\n  /**\n  * Removes all views from the slot.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removals triggered an animation.\n  */\n  removeAll(returnToCache?: boolean, skipAnimation?: boolean): void | IVisual[] | Promise<IVisual[]>;\n\n  /**\n  * Removes many views from the slot.\n  * @param visualsToRemove The array of views to remove.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  removeMany(visualsToRemove: IVisual[], returnToCache?: boolean, skipAnimation?: boolean): void | IVisual[] | Promise<IVisual[]>;\n\n  /** @internal */ projectTo(slots: Record<string, IEmulatedShadowSlot>): void;\n}\n\nexport const RenderSlot = {\n  create(anchor: INode, anchorIsContainer: boolean): IRenderSlot {\n    return new RenderSlotImplementation(anchor, anchorIsContainer);\n  }\n};\n\nclass RenderSlotImplementation implements IRenderSlot {\n  private $isAttached = false;\n  private addVisualCore: (visual: IVisual, owner: RenderSlotImplementation) => void;\n  private insertVisualCore: (visual: IVisual, owner: RenderSlotImplementation, index: number) => void;\n\n  public children: IVisual[] = [];\n  /** @internal */ public slots: Record<string, IEmulatedShadowSlot> = null;\n  /** @internal */ public logicalView: IContentView = null;\n\n  constructor(public anchor: INode, anchorIsContainer: boolean) {\n    (<any>anchor).$slot = this; // Usage: Shadow DOM Emulation\n    (<any>anchor).$isContentProjectionSource = false; // Usage: Shadow DOM Emulation\n\n    this.addVisualCore = anchorIsContainer ? appendVisualToContainer : addVisual;\n    this.insertVisualCore = insertVisual;\n  }\n\n  add(visual: IVisual) {\n    this.children.push(visual);\n\n    if (this.$isAttached) {\n      visual.$attach(null, this.addVisualCore, this);\n      return visual.animate('enter');\n    }\n  }\n\n  insert(index: number, visual: IVisual) {\n    const children = this.children;\n    const length = children.length;\n\n    if ((index === 0 && length === 0) || index >= length) {\n      return this.add(visual);\n    }\n\n    children.splice(index, 0, visual);\n\n    if (this.$isAttached) {\n      visual.$attach(null, this.insertVisualCore, this, index);\n      return visual.animate('enter');\n    }\n  }\n\n  move(sourceIndex: number, targetIndex: number) {\n    if (sourceIndex === targetIndex) {\n      return;\n    }\n\n    const children = this.children;\n    const visual = children[sourceIndex];\n\n    children.splice(sourceIndex, 1);\n    children.splice(targetIndex, 0, visual);\n\n    if (this.$isAttached) {\n      visual.$view.remove();\n      this.insertVisualCore(visual, this, targetIndex);\n    }\n  }\n\n  swap(newVisual: IVisual, strategy: SwapOrder = SwapOrder.after, returnToCache?: boolean, skipAnimation?: boolean) {\n    const remove = () => this.removeAll(returnToCache, skipAnimation);\n    const add = () => this.add(newVisual);\n\n    switch(strategy) {\n      case SwapOrder.before:\n        const beforeAddResult = add();\n        return (beforeAddResult instanceof Promise ? beforeAddResult.then(() => <any>remove()) : remove()); \n      case SwapOrder.with:\n        const withAddResult = add();\n        const withRemoveResult = remove();\n        return (withAddResult instanceof Promise || withRemoveResult instanceof Promise)\n          ? Promise.all(<any>[withAddResult, withRemoveResult]).then(x => x[1])\n          : withRemoveResult;\n      case SwapOrder.after:\n        const afterRemoveResult = remove();\n        return (afterRemoveResult instanceof Promise ? afterRemoveResult.then(() => <any>add()) : add());\n    }\n  }\n\n  remove(visual: IVisual, returnToCache?: boolean, skipAnimation?: boolean): IVisual | Promise<IVisual> {\n    return this.removeAt(this.children.indexOf(visual), returnToCache, skipAnimation);\n  }\n\n  removeAt(index: number, returnToCache?: boolean, skipAnimation?: boolean): IVisual | Promise<IVisual> {\n    const visual = this.children[index];\n    this.children.splice(index, 1);\n\n    const detachAndReturn = () => {\n      if (this.$isAttached) {\n        visual.$detach();\n      }\n\n      if (returnToCache) {\n        visual.tryReturnToCache();\n      }\n\n      return visual;\n    };\n\n    if (!skipAnimation && this.$isAttached) {\n      const animation = visual.animate('leave');\n      if (animation) {\n        return animation.then(() => detachAndReturn());\n      }\n    }\n\n    return detachAndReturn();\n  }\n\n  removeAll(returnToCache?: boolean, skipAnimation?: boolean): void | IVisual[] | Promise<IVisual[]> {\n    return this.removeMany(this.children, returnToCache, skipAnimation);\n  }\n\n  removeMany(visualsToRemove: IVisual[], returnToCache?: boolean, skipAnimation?: boolean): void | IVisual[] | Promise<IVisual[]> {\n    const children = this.children;\n    const ii = visualsToRemove.length;\n    const rmPromises = [];\n    const context = DetachContext.open(this);\n\n    if (visualsToRemove === children) {\n      this.children = [];\n    } else {\n      for (let i = 0; i < ii; ++i) {\n        const index = children.indexOf(visualsToRemove[i]);\n        if (index >= 0) {\n          children.splice(index, 1);\n        }\n      }\n    }\n\n    if (this.$isAttached) {\n      visualsToRemove.forEach(child => {\n        if (skipAnimation) {\n          child.$detach(context);\n          return;\n        }\n  \n        const animation = child.animate('leave');\n  \n        if (animation) {\n          rmPromises.push(animation.then(() => child.$detach(context)));\n        } else {\n          child.$detach(context);\n        }\n      });\n    }\n\n    const finalizeRemoval = () => {\n      context.close();\n\n      if (returnToCache) {\n        for (let i = 0; i < ii; ++i) {\n          visualsToRemove[i].tryReturnToCache();\n        }\n      }\n\n      return visualsToRemove;\n    };\n\n    if (rmPromises.length > 0) {\n      return Promise.all(rmPromises).then(() => finalizeRemoval());\n    }\n\n    return finalizeRemoval();\n  }\n\n  $attach(context: AttachContext): void {\n    if (this.$isAttached) {\n      return;\n    }\n\n    const children = this.children;\n\n    for (let i = 0, ii = children.length; i < ii; ++i) {\n      const child = children[i];\n      child.$attach(context, this.addVisualCore, this);\n      child.animate('enter');\n    }\n\n    this.$isAttached = true;\n  }\n\n  $detach(context: DetachContext): void {\n    if (this.$isAttached) {\n      const children = this.children;\n      \n      for (let i = 0, ii = children.length; i < ii; ++i) {\n        children[i].$detach(context);\n      }\n\n      this.$isAttached = false;\n    }\n  }\n\n  projectTo(slots: Record<string, IEmulatedShadowSlot>): void {\n    this.slots = slots;\n    this.addVisualCore = project_addVisual;\n    this.insertVisualCore = project_insertVisual;\n\n    if (this.$isAttached) {\n      const children = this.children;\n      \n      for (let i = 0, ii = children.length; i < ii; ++i) {\n        project_addVisual(children[i], this);\n      }\n    }\n  }\n}\n","import { PLATFORM } from '../platform';;\nimport { IViewOwner, IContentView } from './view';\nimport { IRenderSlot } from './render-slot';\nimport { IVisual, IVisualFactory } from './view-engine';\nimport { IBindScope } from '../binding/observation';\nimport { IScope } from '../binding/binding-context';\nimport { IAttach, AttachContext, DetachContext } from './lifecycle';\nimport { DOM, INode, IView } from '../dom';\n\ntype ProjectionSource = IRenderSlot | IEmulatedShadowSlot;\n\ntype ShadowEmulationTracking = { \n  $slot: ProjectionSource;\n  $slotName?: string;\n  $isContentProjectionSource?: boolean;\n  $ownerView?: IView;\n  $projectionSource?: ProjectionSource;\n  $slotProjectFrom?: ProjectionSource;\n  $assignedSlot?: IEmulatedShadowSlot;\n  $projectionChildren: SlotNode[];\n};\n\ntype SlotNode = INode & ShadowEmulationTracking;\n\nexport interface IEmulatedShadowSlot extends IBindScope, IAttach {\n  readonly name: string;\n  readonly anchor: INode;\n  /** @internal */ readonly needsFallback: boolean;\n  /** @internal */ removeView(view: IView, projectionSource: ProjectionSource);\n  /** @internal */ removeAll(projectionSource: ProjectionSource);\n  /** @internal */ projectFrom(view: IView, projectionSource: ProjectionSource);\n  /** @internal */ addNode(view: IView, node: SlotNode, projectionSource: ProjectionSource, index: number, destination?: string);\n  /** @internal */ renderFallback(view: IView, nodes: SlotNode[], projectionSource: ProjectionSource, index: number);\n  /** @internal */ projectTo?(slots: Record<string, IEmulatedShadowSlot>);\n}\n\nconst noNodes = <SlotNode[]>PLATFORM.emptyArray;\n\nfunction shadowSlotAddFallbackVisual(visual: IVisual, owner: ShadowSlot) {\n  owner.fallbackVisual.$view.insertBefore(owner.anchor);\n}\n\nfunction passThroughSlotAddFallbackVisual(visual: IVisual, owner: PassThroughSlot, index: number) {\n  const projectionSource = owner.currentProjectionSource;\n  const slots = <Record<string, IEmulatedShadowSlot>>Object.create(null);\n\n  owner.currentProjectionSource = null;\n  slots[owner.destinationSlot.name] = owner.destinationSlot;\n  \n  ShadowDOMEmulation.distributeView(\n    owner.fallbackVisual.$view, \n    slots, \n    projectionSource, \n    index, \n    owner.destinationSlot.name\n  );\n}\n\nabstract class ShadowSlotBase {\n  fallbackVisual: IVisual = null;\n  $isAttached = false;\n  $isBound = false;\n  projections = 0;\n\n  constructor(public owner: IViewOwner, public anchor: SlotNode, public name: string, public fallbackFactory?: IVisualFactory) {\n    this.anchor.$slot = <any>this;\n  }\n\n  get needsFallback() {\n    return this.fallbackFactory !== null && this.projections === 0;\n  }\n\n  removeFallbackVisual(context?: DetachContext) {\n    if (this.fallbackVisual !== null) {\n      this.fallbackVisual.$detach(context);\n      this.fallbackVisual.$unbind();\n      this.fallbackVisual = null;\n    }\n  }\n\n  $bind(scope: IScope) {\n    // fallbackContentView will never be created when the slot isn't already bound\n    // so no need to worry about binding it here\n    this.$isBound = true;\n  }\n\n  $attach(context: AttachContext) {\n    // fallbackContentView will never be created when the slot isn't already attached\n    // so no need to worry about attaching it here\n    this.$isAttached = true;\n  }\n\n  $detach(context: DetachContext) {\n    if (this.$isAttached) {\n      this.removeFallbackVisual(context);\n      this.$isAttached = false;\n    }\n  }\n\n  $unbind() {\n    this.$isBound = false;\n  }\n}\n\nclass PassThroughSlot extends ShadowSlotBase implements IEmulatedShadowSlot {\n  destinationSlot: IEmulatedShadowSlot = null;\n  currentProjectionSource: ProjectionSource = null;\n\n  constructor(owner: IViewOwner, anchor: SlotNode, name: string, private destinationName: string, fallbackFactory?: IVisualFactory) {\n    super(owner, anchor, name, fallbackFactory);\n    this.anchor.$slotName = this.destinationName;\n  }\n\n  passThroughTo(destinationSlot: IEmulatedShadowSlot) {\n    this.destinationSlot = destinationSlot;\n  }\n\n  renderFallback(view: IView, nodes: SlotNode[], projectionSource: ProjectionSource, index = 0) {\n    if (this.fallbackVisual === null) {\n      this.fallbackVisual = this.fallbackFactory.create();\n      this.fallbackVisual.$bind(this.owner.$scope);\n      this.currentProjectionSource = projectionSource;\n      this.fallbackVisual.$attach(null, passThroughSlotAddFallbackVisual, this, index);\n    }\n  }\n\n  addNode(view: IView, node: SlotNode, projectionSource: ProjectionSource, index: number) {\n    this.removeFallbackVisual();\n\n    if (node.$slot instanceof PassThroughSlot) {\n      node.$slot.passThroughTo(this);\n      return;\n    }\n\n    this.projections++;\n    this.destinationSlot.addNode(view, node, projectionSource, index);\n  }\n\n  removeView(view: IView, projectionSource: ProjectionSource) {\n    this.projections--;\n    this.destinationSlot.removeView(view, projectionSource);\n\n    if (this.needsFallback) {\n      this.renderFallback(null, noNodes, projectionSource);\n    }\n  }\n\n  removeAll(projectionSource: ProjectionSource) {\n    this.projections = 0;\n    this.destinationSlot.removeAll(projectionSource);\n\n    if (this.needsFallback) {\n      this.renderFallback(null, noNodes, projectionSource);\n    }\n  }\n\n  projectFrom(view: IView, projectionSource: ProjectionSource) {\n    this.destinationSlot.projectFrom(view, projectionSource);\n  }\n}\n\nclass ShadowSlot extends ShadowSlotBase implements IEmulatedShadowSlot {\n  children: SlotNode[] = [];\n  projectFromAnchors: SlotNode[] = null;\n  destinationSlots = null;\n  fallbackSlots;\n\n  constructor(owner: IViewOwner, anchor: SlotNode, name: string, fallbackFactory?: IVisualFactory) {\n    super(owner, anchor, name, fallbackFactory);\n    this.anchor.$isContentProjectionSource = true;\n  }\n\n  renderFallback(view: IView, nodes: SlotNode[], projectionSource: ProjectionSource, index = 0) {\n    if (this.fallbackVisual === null) {\n      this.fallbackVisual = this.fallbackFactory.create();\n      this.fallbackVisual.$bind(this.owner.$scope);\n      this.fallbackVisual.$attach(null, shadowSlotAddFallbackVisual, this);\n    }\n\n    if (this.fallbackVisual.$slots) {\n      const slots = this.fallbackVisual.$slots;\n      const projectFromAnchors = this.projectFromAnchors;\n\n      if (projectFromAnchors !== null) {\n        for (const slotName in slots) {\n          const slot = slots[slotName];\n\n          for (let i = 0, ii = projectFromAnchors.length; i < ii; ++i) {\n            const anchor = projectFromAnchors[i];\n            slot.projectFrom(anchor.$ownerView, anchor.$slotProjectFrom);\n          }\n        }\n      }\n\n      this.fallbackSlots = slots;\n      distributeNodes(view, nodes, slots, projectionSource, index);\n    }\n  }\n  \n  addNode(view: IView, node: SlotNode, projectionSource: ProjectionSource, index: number, destination: string) {\n    this.removeFallbackVisual();\n\n    if (node.$slot instanceof PassThroughSlot) {\n      node.$slot.passThroughTo(this);\n      return;\n    }\n\n    if (this.destinationSlots !== null) {\n      distributeNodes(view, [node], this.destinationSlots, this, index);\n    } else {\n      node.$ownerView = view;\n      node.$projectionSource = projectionSource;\n      node.$assignedSlot = this;\n\n      const anchor = this.findAnchor(view, node, projectionSource, index);\n      const parent = anchor.parentNode;\n\n      DOM.insertBefore(node, anchor);\n\n      this.children.push(node);\n      this.projections++;\n    }\n  }\n\n  removeView(view: IView, projectionSource: ProjectionSource) {\n    if (this.destinationSlots !== null) {\n      ShadowDOMEmulation.undistributeView(view, this.destinationSlots, this);\n    } else if (this.fallbackVisual && this.fallbackVisual.$slots) {\n      ShadowDOMEmulation.undistributeView(view, this.fallbackVisual.$slots, projectionSource);\n    } else {\n      const found = this.children.find(x => x.$slotProjectFrom === projectionSource);\n\n      if (found) {\n        const children = found.$projectionChildren;\n\n        for (let i = 0, ii = children.length; i < ii; ++i) {\n          const child = children[i];\n\n          if (child.$ownerView === view) {\n            children.splice(i, 1);\n            view.appendChild(child);\n            i--; ii--;\n            this.projections--;\n          }\n        }\n\n        if (this.needsFallback) {\n          this.renderFallback(view, noNodes, projectionSource);\n        }\n      }\n    }\n  }\n\n  removeAll(projectionSource: ProjectionSource) {\n    if (this.destinationSlots !== null) {\n      undistributeAll(this.destinationSlots, this);\n    } else if (this.fallbackVisual && this.fallbackVisual.$slots) {\n      undistributeAll(this.fallbackVisual.$slots, projectionSource);\n    } else {\n      const found = this.children.find(x => x.$slotProjectFrom === projectionSource);\n\n      if (found) {\n        const children = found.$projectionChildren;\n\n        for (let i = 0, ii = children.length; i < ii; ++i) {\n          const child = children[i];\n          child.$ownerView.appendChild(child);\n          this.projections--;\n        }\n\n        found.$projectionChildren = [];\n\n        if (this.needsFallback) {\n          this.renderFallback(null, noNodes, projectionSource);\n        }\n      }\n    }\n  }\n\n  private findAnchor(view: IView, node: SlotNode, projectionSource: ProjectionSource, index: number) {\n    if (projectionSource) {\n      //find the anchor associated with the projected view slot\n      const found = this.children.find(x => x.$slotProjectFrom === projectionSource);\n      if (found) {\n        if (index !== undefined) {\n          const children = found.$projectionChildren;\n          let viewIndex = -1;\n          let lastView: IView;\n\n          for (let i = 0, ii = children.length; i < ii; ++i) {\n            const current = children[i];\n\n            if (current.$ownerView !== lastView) {\n              viewIndex++;\n              lastView = current.$ownerView;\n\n              if (viewIndex >= index && lastView !== view) {\n                children.splice(i, 0, node);\n                return current;\n              }\n            }\n          }\n        }\n\n        found.$projectionChildren.push(node);\n        return found;\n      }\n    }\n\n    return this.anchor;\n  }\n\n  projectTo(slots: Record<string, IEmulatedShadowSlot>) {\n    this.destinationSlots = slots;\n  }\n\n  projectFrom(view: IView, projectionSource: ProjectionSource) {\n    const anchor: SlotNode = <any>DOM.createAnchor();\n    const parent = this.anchor.parentNode;\n\n    anchor.$slotProjectFrom = projectionSource;\n    anchor.$ownerView = view;\n    anchor.$projectionChildren = [];\n    DOM.insertBefore(anchor, this.anchor);\n    this.children.push(anchor);\n\n    if (this.projectFromAnchors === null) {\n      this.projectFromAnchors = [];\n    }\n\n    this.projectFromAnchors.push(anchor);\n  }\n}\n\nfunction distributeNodes(view: IView, nodes: SlotNode[], slots: Record<string, IEmulatedShadowSlot>, projectionSource: ProjectionSource, index: number, destinationOverride: string = null) {\n  for (let i = 0, ii = nodes.length; i < ii; ++i) {\n    const currentNode = nodes[i];\n\n    if (currentNode.$isContentProjectionSource) {\n      currentNode.$slot.projectTo(slots);\n\n      for (const slotName in slots) {\n        slots[slotName].projectFrom(view, currentNode.$slot);\n      }\n\n      nodes.splice(i, 1);\n      ii--; i--;\n    } else if (DOM.isElementNodeType(currentNode) || DOM.isTextNodeType(currentNode) || currentNode.$slot instanceof PassThroughSlot) { //project only elements and text\n      if (DOM.isTextNodeType(currentNode) && DOM.isAllWhitespace(currentNode)) {\n        nodes.splice(i, 1);\n        ii--; i--;\n      } else {\n        const found = slots[destinationOverride || getSlotName(currentNode)];\n\n        if (found) {\n          found.addNode(view, currentNode, projectionSource, index);\n          nodes.splice(i, 1);\n          ii--; i--;\n        }\n      }\n    } else {\n      nodes.splice(i, 1);\n      ii--; i--;\n    }\n  }\n\n  for (const slotName in slots) {\n    const slot = slots[slotName];\n\n    if (slot.needsFallback) {\n      slot.renderFallback(view, nodes, projectionSource, index);\n    }\n  }\n}\n\nfunction undistributeAll(slots: Record<string, IEmulatedShadowSlot>, projectionSource: ProjectionSource) {\n  for (const slotName in slots) {\n    slots[slotName].removeAll(projectionSource);\n  }\n}\n\nconst defaultSlotName = 'auDefaultSlot';\n\nfunction getSlotName(node: INode): string {\n  const name = (<any>node).$slotName;\n\n  if (name === undefined) {\n    return defaultSlotName;\n  }\n\n  return name;\n}\n\nfunction viewToNodes(view: IView) {\n  let nodes: SlotNode[];\n\n  if (view === null) {\n    nodes = noNodes;\n  } else {\n    const childNodes = view.childNodes;\n    const ii = childNodes.length;\n\n    nodes = new Array(ii);\n\n    for (let i = 0; i < ii; ++i) {\n      nodes[i] = <SlotNode>childNodes[i];\n    }\n  }\n\n  return nodes;\n}\n\nexport const ShadowDOMEmulation = {\n  createSlot(target: INode, owner: IViewOwner, name?: string, destination?: string, fallbackFactory?: IVisualFactory): IEmulatedShadowSlot {\n    const anchor = <SlotNode>DOM.createAnchor();\n    \n    DOM.replaceNode(anchor, target);\n\n    if (destination) {\n      return new PassThroughSlot(owner, anchor, name || defaultSlotName, destination, fallbackFactory);\n    } else {\n      return new ShadowSlot(owner, anchor, name || defaultSlotName, fallbackFactory);\n    }\n  },\n\n  distributeContent(content: IContentView, slots: Record<string, IEmulatedShadowSlot>): void {\n    let nodes = viewToNodes(content);\n\n    nodes.forEach(node => {\n      if (node.$isContentProjectionSource) {\n        (<any>node.$slot).logicalView = content;\n      }\n    });\n\n    distributeNodes(content, nodes, slots, null, 0, null);\n  },\n\n  /** @internal */ distributeView(view: IView, slots: Record<string, IEmulatedShadowSlot>, projectionSource: ProjectionSource = null, index = 0, destinationOverride: string = null) {\n    distributeNodes(view, viewToNodes(view), slots, projectionSource, index, destinationOverride);\n  },\n\n  /** @internal */ undistributeView(view: IView, slots: Record<string, IEmulatedShadowSlot>, projectionSource: ProjectionSource) {\n    for (const slotName in slots) {\n      slots[slotName].removeView(view, projectionSource);\n    }\n  }\n}\n","import { PLATFORM } from \"../platform\";\nimport { View, IViewOwner } from \"./view\";\nimport { IElementComponent, IAttributeComponent, IElementType } from \"./component\";\nimport { IBinding, Binding } from \"../binding/binding\";\nimport { IRenderSlot, RenderSlot } from \"./render-slot\";\nimport { IEmulatedShadowSlot, ShadowDOMEmulation } from \"./shadow-dom\";\nimport { Listener } from \"../binding/listener\";\nimport { Call } from \"../binding/call\";\nimport { Ref } from \"../binding/ref\";\nimport { Expression } from \"../binding/expression\";\nimport { DI, IContainer, IResolver, IRegistration} from \"../di\";\nimport { BindingMode } from \"../binding/binding-mode\";\nimport { IBindScope } from \"../binding/observation\";\nimport { IScope } from \"../binding/binding-context\";\nimport { Constructable } from \"../interfaces\";\nimport { IAttach, AttachContext, DetachContext } from \"./lifecycle\";\nimport { Animator } from \"./animator\";\nimport { Reporter } from \"../reporter\";\nimport { ITargetedInstruction, IHydrateElementInstruction, ICompiledViewSource, TargetedInstructionType, ITextBindingInstruction, IOneWayBindingInstruction, IFromViewBindingInstruction, ITwoWayBindingInstruction, IListenerBindingInstruction, ICallBindingInstruction, IRefBindingInstruction, IStylePropertyBindingInstruction, ISetPropertyInstruction, ISetAttributeInstruction, IHydrateSlotInstruction, IHydrateAttributeInstruction, IHydrateTemplateController } from \"./instructions\";\nimport { INode, DOM, IView, } from \"../dom\";\n\nexport interface ITemplate {\n  readonly container: ITemplateContainer;\n  createFor(owner: IViewOwner, host?: INode, replacements?: Record<string, ICompiledViewSource>): IView;\n}\n\nconst noViewTemplate: ITemplate = {\n  container: null,\n  createFor(owner: IViewOwner) {\n    return View.none;\n  }\n};\n\ntype RenderCallback = (visual: IVisual, owner: any, index?: number) => void;\n\nexport interface IVisual extends IBindScope, IViewOwner { \n  /**\n  * The IViewFactory that built this instance.\n  */\n  readonly factory: IVisualFactory;\n\n  /**\n   *   Runs the animator against the first animatable element found within the view's fragment\n   *   @param  visual The view to use when searching for the element.\n   *   @param  direction The animation direction enter|leave.\n   *   @returns An animation complete Promise or undefined if no animation was run.\n   */\n  animate(direction: 'enter' | 'leave'): void | Promise<boolean>;\n\n  /**\n  * Attempts to return this view to the appropriate view cache.\n  */\n  tryReturnToCache(): boolean;\n\n  $attach(context: AttachContext | null, render: RenderCallback, owner: any, index?: number);\n\n  $detach(context?: DetachContext);\n}\n\nexport type VisualWithCentralComponent = IVisual & { component: IElementComponent };\n\nexport const IVisualFactory = DI.createInterface('IVisualFactory');\n\nexport interface IVisualFactory {\n  readonly name: string;\n\n  /**\n  * Indicates whether this factory is currently using caching.\n  */\n  readonly isCaching: boolean;\n\n  /**\n  * Sets the cache size for this factory.\n  * @param size The number of visuals to cache or \"*\" to cache all.\n  * @param doNotOverrideIfAlreadySet Indicates that setting the cache should not override the setting if previously set.\n  */\n  setCacheSize(size: number | '*', doNotOverrideIfAlreadySet: boolean): void;\n\n  /**\n  * Creates a visual or returns one from the internal cache, if available.\n  * @return The created visual.\n  */\n  create(): IVisual;\n}\n\nexport const ViewEngine = {\n  templateFromCompiledSource(source: ICompiledViewSource) {\n    if (source && source.template) {\n      return new CompiledTemplate(source);\n    }\n\n    return noViewTemplate;\n  },\n\n  factoryFromCompiledSource(source: ICompiledViewSource): IVisualFactory {\n    const template = ViewEngine.templateFromCompiledSource(source);\n\n    const CompiledVisual = class extends Visual {\n      static template: ITemplate = template;\n      static source: ICompiledViewSource = source;\n\n      $slots: Record<string, IEmulatedShadowSlot> = source.hasSlots ? {} : null;\n\n      createView() {\n        return template.createFor(this);\n      }\n    }\n\n    return new DefaultVisualFactory(source.name, CompiledVisual);\n  },\n\n  visualFromComponent(container: ITemplateContainer, componentOrType: any, instruction: IHydrateElementInstruction): VisualWithCentralComponent {\n    class ComponentVisual extends Visual {\n      static template: ITemplate = Object.assign({}, noViewTemplate, { container });\n      static source: ICompiledViewSource = null;\n\n      public component: IElementComponent;\n\n      constructor() {\n        super(null);\n      }\n\n      createView() {\n        let target: INode;\n\n        if (typeof componentOrType === 'function') {\n          target = DOM.createElement(componentOrType.source.name);\n          interpreter[TargetedInstructionType.hydrateElement](this, instruction, target, null, container);\n          this.component = <IElementComponent>this.$attachable[this.$attachable.length - 1];\n        } else {\n          const componentType = <IElementType>componentOrType.constructor;\n          target = componentOrType.element || DOM.createElement(componentType.source.name);\n          applyElementInstructionToComponentInstance(componentOrType, instruction, container, target, this);\n          this.component = componentOrType;\n        }\n\n        return View.fromNode(target);\n      }\n\n      tryReturnToCache() {\n        return false;\n      }\n    }\n\n    return new ComponentVisual();\n  }\n};\n\ntype InstructionApplicator = (owner: IViewOwner, instruction: ITargetedInstruction, target: any, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) => void;\n\nconst interpreter: Record<string, InstructionApplicator> = <any>{\n  [TargetedInstructionType.textBinding](owner: IViewOwner, instruction: ITextBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    let next = target.nextSibling;\n    DOM.treatAsNonWhitespace(next);\n    DOM.remove(target);\n    owner.$bindable.push(new Binding(Expression.from(instruction.src), next, 'textContent', BindingMode.oneWay, container));\n  },\n  [TargetedInstructionType.oneWayBinding](owner: IViewOwner, instruction: IOneWayBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Binding(Expression.from(instruction.src), target, instruction.dest, BindingMode.oneWay, container));\n  },\n  [TargetedInstructionType.fromViewBinding](owner: IViewOwner, instruction: IFromViewBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Binding(Expression.from(instruction.src), target, instruction.dest, BindingMode.fromView, container));\n  },\n  [TargetedInstructionType.twoWayBinding](owner: IViewOwner, instruction: ITwoWayBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Binding(Expression.from(instruction.src), target, instruction.dest, BindingMode.twoWay, container));\n  },\n  [TargetedInstructionType.listenerBinding](owner: IViewOwner, instruction: IListenerBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Listener(instruction.src, instruction.strategy, Expression.from(instruction.dest), target, instruction.preventDefault, container));\n  },\n  [TargetedInstructionType.callBinding](owner: IViewOwner, instruction: ICallBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Call(Expression.from(instruction.src), target, instruction.dest, container));\n  },\n  [TargetedInstructionType.refBinding](owner: IViewOwner, instruction: IRefBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Ref(Expression.from(instruction.src), target, container));\n  },\n  [TargetedInstructionType.stylePropertyBinding](owner: IViewOwner, instruction: IStylePropertyBindingInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    owner.$bindable.push(new Binding(Expression.from(instruction.src), (<any>target).style, instruction.dest, BindingMode.oneWay, container));\n  },\n  [TargetedInstructionType.setProperty](owner: IViewOwner, instruction: ISetPropertyInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    target[instruction.dest] = instruction.value;\n  },\n  [TargetedInstructionType.setAttribute](owner: IViewOwner, instruction: ISetAttributeInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    DOM.setAttribute(target, instruction.dest, instruction.value);\n  },\n  [TargetedInstructionType.hydrateSlot](owner: IElementComponent, instruction: IHydrateSlotInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    if (!owner.$usingSlotEmulation) {\n      return;\n    }\n\n    let fallbackFactory = (<any>instruction).factory;\n\n    if (fallbackFactory === undefined && instruction.fallback) {\n      (<any>instruction).factory = fallbackFactory = ViewEngine.factoryFromCompiledSource(instruction.fallback);\n    }\n\n    let slot = ShadowDOMEmulation.createSlot(target, owner, instruction.name, instruction.dest, fallbackFactory);\n    owner.$slots[slot.name] = slot;\n    owner.$bindable.push(slot);\n    owner.$attachable.push(slot);\n  },\n  [TargetedInstructionType.hydrateElement](owner: IViewOwner, instruction: IHydrateElementInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    container.element.prepare(target);\n    container.owner.prepare(owner);\n    container.instruction.prepare(instruction);\n    container.slot.prepare(target, true);\n    \n    let component = container.get<IElementComponent>(instruction.res);\n    applyElementInstructionToComponentInstance(component, instruction, container, target, owner);\n    container.slot.connectCustomElement(component);\n    \n    container.element.dispose();\n    container.owner.dispose();\n    container.instruction.dispose();\n    container.slot.dispose();\n  },\n  [TargetedInstructionType.hydrateAttribute](owner: IViewOwner, instruction: IHydrateElementInstruction, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    let childInstructions = instruction.instructions;\n\n    container.element.prepare(target);\n    container.owner.prepare(owner);\n    container.instruction.prepare(instruction);\n\n    let component = container.get<IAttributeComponent>(instruction.res);\n\n    for (let i = 0, ii = childInstructions.length; i < ii; ++i) {\n      let current = childInstructions[i];\n      interpreter[current.type](owner, current, component, replacements, container);\n    }\n\n    container.element.dispose();\n    container.owner.dispose();\n    container.instruction.dispose();\n\n    owner.$bindable.push(component);\n    owner.$attachable.push(component);\n  },\n  [TargetedInstructionType.hydrateTemplateController](owner: IViewOwner, instruction: IHydrateTemplateController, target: INode, replacements: Record<string, ICompiledViewSource>, container: ITemplateContainer) {\n    let childInstructions = instruction.instructions;\n    let factory = (<any>instruction).factory;\n\n    if (factory === undefined) {\n      (<any>instruction).factory = factory = ViewEngine.factoryFromCompiledSource(instruction.src);\n    }\n\n    container.element.prepare(target);\n    container.owner.prepare(owner);\n    container.instruction.prepare(instruction);\n    container.factory.prepare(factory, replacements);\n    container.slot.prepare(DOM.convertToAnchor(target), false);\n\n    let component = container.get<IAttributeComponent>(instruction.res);\n    container.slot.connectTemplateController(component);\n\n    if (instruction.link) {\n      (<any>component).link(owner.$attachable[owner.$attachable.length - 1]);\n    }\n\n    for (let i = 0, ii = childInstructions.length; i < ii; ++i) {\n      let current = childInstructions[i];\n      interpreter[current.type](owner, current, component, replacements, container);\n    }\n\n    container.element.dispose();\n    container.owner.dispose();\n    container.instruction.dispose();\n    container.factory.dispose();\n    container.slot.dispose();\n\n    owner.$bindable.push(component);\n    owner.$attachable.push(component);\n  }\n};\n\nfunction applyElementInstructionToComponentInstance(component: IElementComponent, instruction: IHydrateElementInstruction, container: ITemplateContainer, target: INode, owner: IViewOwner) {\n  let childInstructions = instruction.instructions;\n\n  component.$hydrate(\n    target, \n    instruction.replacements,\n    instruction.contentElement\n  );\n  \n  for (let i = 0, ii = childInstructions.length; i < ii; ++i) {\n    let current = childInstructions[i];\n    let currentType = current.type;\n    let realTarget;\n    \n    if (currentType === TargetedInstructionType.stylePropertyBinding || currentType === TargetedInstructionType.listenerBinding) {\n      realTarget = target;\n    } else {\n      realTarget = component;\n    }\n\n    interpreter[current.type](owner, current, realTarget, null, container);\n  }\n\n  owner.$bindable.push(component);\n  owner.$attachable.push(component);\n}\n\nclass InstanceProvider<T> implements IResolver {\n  private instance: T = null;\n\n  prepare(instance: T) {\n    this.instance = instance;\n  }\n\n  get(handler: IContainer, requestor: IContainer) {\n    return this.instance;\n  }\n\n  dispose() {\n    this.instance = null;\n  }\n}\n\nclass ViewFactoryProvider implements IResolver {\n  private factory: IVisualFactory\n  private replacements: Record<string, ICompiledViewSource>;\n\n  prepare(factory: IVisualFactory, replacements: Record<string, ICompiledViewSource>) { \n    this.factory = factory;\n    this.replacements = replacements || PLATFORM.emptyObject;\n  }\n\n  get(handler: IContainer, requestor: IContainer) {\n    let found = this.replacements[this.factory.name];\n\n    if (found) {\n      if ((<any>found).factory) {\n        return (<any>found).factory;\n      }\n\n      return (<any>found).factory = ViewEngine.factoryFromCompiledSource(found);\n    }\n\n    return this.factory;\n  }\n\n  dispose() {\n    this.factory = null;\n    this.replacements = null;\n  }\n}\n\nclass RenderSlotProvider implements IResolver {\n  private node: INode = null;\n  private anchorIsContainer = false;\n  private slot: IRenderSlot = null;\n\n  prepare(element: INode, anchorIsContainer = false) {\n    this.node = element;\n    this.anchorIsContainer = anchorIsContainer;\n  }\n\n  get(handler: IContainer, requestor: IContainer) {\n    return this.slot || (this.slot = RenderSlot.create(this.node, this.anchorIsContainer));\n  }\n\n  connectTemplateController(owner) {\n    const slot = this.slot;\n\n    if (slot !== null) {\n      (<any>slot).$isContentProjectionSource = true; // Usage: Shadow DOM Emulation\n      owner.$slot = slot; // Usage: Custom Attributes\n    }\n  }\n\n  connectCustomElement(owner) {\n    const slot = this.slot;\n\n    if (slot !== null) {\n      owner.$slot = slot; // Usage: Custom Elements\n    }\n  }\n\n  dispose() {\n    this.node = null;\n    this.slot = null;\n  }\n}\n\nexport interface ITemplateContainer extends IContainer {\n  element: InstanceProvider<INode>;\n  factory: ViewFactoryProvider;\n  slot: RenderSlotProvider;\n  owner: InstanceProvider<IViewOwner>;\n  instruction: InstanceProvider<ITargetedInstruction>\n};\n\nfunction createTemplateContainer(dependencies) {\n  let container = <ITemplateContainer>DI.createChild();\n\n  container.element = new InstanceProvider();\n  DOM.registerElementResolver(container, container.element);\n\n  container.registerResolver(IVisualFactory, container.factory = new ViewFactoryProvider());\n  container.registerResolver(IRenderSlot, container.slot = new RenderSlotProvider());\n  container.registerResolver(IViewOwner, container.owner =  new InstanceProvider());\n  container.registerResolver(ITargetedInstruction, container.instruction = new InstanceProvider());\n\n  if (dependencies) {\n    container.register(...dependencies);\n  }\n\n  return container;\n}\n\nclass CompiledTemplate implements ITemplate {\n  private createView: () => IView;\n  container: ITemplateContainer;\n\n  constructor(private source: ICompiledViewSource) {\n    this.container = createTemplateContainer(source.dependencies);\n    this.createView = DOM.createFactoryFromMarkup(source.template);\n  }\n\n  createFor(owner: IViewOwner, host?: INode, replacements?: Record<string, ICompiledViewSource>): IView {\n    const source = this.source;\n    const view = this.createView();\n    const targets = view.findTargets();\n    const container = this.container;\n\n    const targetInstructions = source.targetInstructions;\n\n    for (let i = 0, ii = targets.length; i < ii; ++i) {\n      let instructions = targetInstructions[i];\n      let target = targets[i];\n\n      for (let j = 0, jj = instructions.length; j < jj; ++j) {\n        let current = instructions[j];\n        interpreter[current.type](owner, current, target, replacements, container);\n      }\n    }\n\n    if (host) {\n      const surrogateInstructions = source.surrogateInstructions;\n      \n      for (let i = 0, ii = surrogateInstructions.length; i < ii; ++i) {\n        let current = surrogateInstructions[i];\n        interpreter[current.type](owner, current, host, replacements, container);\n      }\n    }\n\n    return view;\n  }\n}\n\nabstract class Visual implements IVisual {\n  $bindable: IBindScope[] = [];\n  $attachable: IAttach[] = [];\n  $scope: IScope = null;\n  $view: IView = null;\n  $isBound = false;\n  $isAttached = false;\n  $inCache = false;\n  $animationRoot: INode = undefined;\n\n  constructor(public factory: DefaultVisualFactory) {\n    this.$view = this.createView();\n  }\n\n  abstract createView(): IView;\n\n  getAnimationRoot(): INode {\n    if (this.$animationRoot !== undefined) {\n      return this.$animationRoot;\n    }\n  \n    let currentChild = this.$view.firstChild;\n    const lastChild = this.$view.lastChild;\n    const isElementNodeType = DOM.isElementNodeType;\n  \n    while (currentChild !== lastChild && !isElementNodeType(currentChild)) {\n      currentChild = currentChild.nextSibling;\n    }\n  \n    if (currentChild && isElementNodeType(currentChild)) {\n      return this.$animationRoot = DOM.hasClass(currentChild, 'au-animate') \n        ? currentChild \n        : null;\n    }\n  \n    return this.$animationRoot = null;\n  }\n\n  animate(direction: 'enter' | 'leave' = 'enter'): void | Promise<boolean> {\n    const element = this.getAnimationRoot();\n\n    if (element === null) {\n      return;\n    }\n\n    switch (direction) {\n      case 'enter':\n        return Animator.enter(element);\n      case 'leave':\n        return Animator.leave(element);\n      default:\n        throw Reporter.error(4, direction);\n    }\n  }\n\n  $bind(scope: IScope) {\n    if (this.$isBound) {\n      if (this.$scope === scope) {\n        return;\n      }\n\n      this.$unbind();\n    }\n\n    this.$scope = scope;\n\n    const bindable = this.$bindable;\n\n    for (let i = 0, ii = bindable.length; i < ii; ++i) {\n      bindable[i].$bind(scope);\n    }\n\n    this.$isBound = true;\n  }\n\n  $attach(context: AttachContext | null, render: RenderCallback, owner: IRenderSlot, index?: number) {\n    if (this.$isAttached) {\n      return;\n    }\n\n    if (!context) {\n      context = AttachContext.open(this);\n    }\n\n    let attachable = this.$attachable;\n\n    for (let i = 0, ii = attachable.length; i < ii; ++i) {\n      attachable[i].$attach(context);\n    }\n\n    render(this, owner, index);\n\n    this.$isAttached = true;\n\n    if (context.wasOpenedBy(this)) {\n      context.close();\n    }\n  }\n\n  $detach(context?: DetachContext) { \n    if (this.$isAttached) {\n      if (!context) {\n        context = DetachContext.open(this);\n      }\n\n      context.queueForViewRemoval(this);\n\n      const attachable = this.$attachable;\n      let i = attachable.length;\n\n      while (i--) {\n        attachable[i].$detach(context);\n      }\n\n      this.$isAttached = false;\n\n      if (context.wasOpenedBy(this)) {\n        context.close();\n      }\n    }\n  }\n\n  $unbind() {\n    if (this.$isBound) {\n      const bindable = this.$bindable;\n      let i = bindable.length;\n\n      while (i--) {\n        bindable[i].$unbind();\n      }\n\n      this.$isBound = false;\n      this.$scope = null;\n    }\n  }\n\n  tryReturnToCache() {\n    return this.factory.tryReturnToCache(this);\n  }\n}\n\nclass DefaultVisualFactory implements IVisualFactory {\n  private cacheSize = -1;\n  private cache: Visual[] = null;\n\n  public isCaching = false;\n\n  constructor(public name: string, private type: Constructable<Visual>) {}\n\n  setCacheSize(size: number | '*', doNotOverrideIfAlreadySet: boolean): void {\n    if (size) {\n      if (size === '*') {\n        size = Number.MAX_VALUE;\n      } else if (typeof size === 'string') {\n        size = parseInt(size, 10);\n      }\n\n      if (this.cacheSize === -1 || !doNotOverrideIfAlreadySet) {\n        this.cacheSize = size;\n      }\n    }\n\n    if (this.cacheSize > 0) {\n      this.cache = [];\n    } else {\n      this.cache = null;\n    }\n\n    this.isCaching = this.cacheSize > 0;\n  }\n\n  tryReturnToCache(visual: Visual): boolean {\n    if (this.cache !== null && this.cache.length < this.cacheSize) {\n      visual.$inCache = true;\n      this.cache.push(visual);\n      return true;\n    }\n\n    return false;\n  }\n\n  create(): Visual {\n    const cache = this.cache;\n\n    if (cache !== null && cache.length > 0) {\n      let visual = cache.pop();\n      visual.$inCache = false;\n      return visual;\n    }\n\n    return new this.type(this);\n  }\n}\n","import { PLATFORM } from \"../platform\";\nimport { IEmulatedShadowSlot } from \"./shadow-dom\";\nimport { IScope } from \"../binding/binding-context\";\nimport { IBindScope } from \"../binding/observation\";\nimport { IAttach } from \"./lifecycle\";\nimport { DI, IContainer } from \"../di\";\nimport { ITemplate, IVisual } from \"./view-engine\";\nimport { Constructable } from \"../interfaces\";\nimport { ICompiledViewSource } from \"./instructions\";\nimport { INode, DOM, IChildObserver, IView } from \"../dom\";\nimport { IElementComponent } from \"./component\";\nimport { IRenderSlot } from \"./render-slot\";\nimport { Reporter } from \"../reporter\";\n\nexport interface IViewOwnerType extends Constructable<IViewOwner> {\n  template: ITemplate;\n  source: ICompiledViewSource;\n}\n\nexport const IViewOwner = DI.createInterface('IViewOwner');\n\nexport interface IViewOwner {\n  $view: IView;\n  $scope: IScope;\n  $isBound: boolean;\n\n  $bindable: IBindScope[];\n  $attachable: IAttach[];\n\n  $slots?: Record<string, IEmulatedShadowSlot>;\n}\n\nconst noopView: IView = {\n  firstChild: null,\n  lastChild: null,\n  childNodes: PLATFORM.emptyArray,\n  findTargets() { return PLATFORM.emptyArray; },\n  insertBefore(refNode: INode): void {},\n  appendTo(parent: INode): void {},\n  remove(): void {},\n  appendChild(child: INode) {}\n};\n\nexport const View = {\n  none: noopView,\n  fromCompiledContent(contentHost: INode, contentOverride?: INode): IContentView | null {\n    if (DOM.isUsingSlotEmulation(contentHost)) {\n      return new ContentView(contentOverride || contentHost);\n    } else {\n      return null;\n    }\n  },\n  fromNode(node: INode): IView {\n    return {\n      firstChild: node,\n      lastChild: node,\n      childNodes: [node],\n      findTargets(): INode[] {\n        return PLATFORM.emptyArray;\n      },\n      appendChild(node: INode) {\n        DOM.appendChild(node, node);\n      },\n      insertBefore(refNode: INode): void {\n        DOM.insertBefore(node, refNode);\n      },\n      appendTo(parent: INode): void {\n        DOM.appendChild(parent, node);\n      },\n      remove(): void {\n        DOM.remove(node);\n      }\n    };\n  }\n};\n\nexport interface IContentView extends IView {\n  childObserver?: IChildObserver;\n  insertVisualChildBefore(visual: IVisual, refNode: INode);\n  removeVisualChild(visual: IVisual);\n  attachChildObserver(onChildrenChanged: () => void): IChildObserver;\n}\n\ninterface IContentViewChildObserver extends IChildObserver {\n  notifyChildrenChanged(): void;\n}\n\nclass ContentView implements IContentView {\n  firstChild: INode;\n  lastChild: INode;\n  childNodes: INode[];\n  childObserver: IContentViewChildObserver = null;\n\n  constructor(private contentHost: INode) {\n    let childNodes = this.childNodes = Array.from(contentHost.childNodes)\n    this.firstChild = childNodes[0];\n    this.lastChild = childNodes[childNodes.length - 1];\n  }\n\n  attachChildObserver(onChildrenChanged: () => void): IChildObserver {\n    let contentViewNodes = this.childNodes;\n    let observer = this.childObserver;\n\n    if (!observer) {\n      this.childObserver = observer = {\n        get childNodes() {\n          return contentViewNodes;\n        },\n        disconnect() {\n          onChildrenChanged = null;\n        },\n        notifyChildrenChanged() {\n          if (onChildrenChanged !== null) {\n            onChildrenChanged();\n          }\n        }\n      };\n\n      let workQueue = Array.from(contentViewNodes);\n\n      while(workQueue.length) {\n        let current = workQueue.shift();\n  \n        if ((<any>current).$isContentProjectionSource) {\n          let contentIndex = contentViewNodes.indexOf(current);\n  \n          (<IRenderSlot>(<any>current).$slot).children.forEach(x => {\n            let childNodes = x.$view.childNodes;\n            childNodes.forEach(x => workQueue.push(x));\n            contentViewNodes.splice(contentIndex, 0, ...childNodes);\n          });\n  \n          (<any>current).$slot.logicalView = this;\n        }\n      }\n    } else {\n      Reporter.error(16);\n    }\n    \n    return observer;\n  }\n\n  insertVisualChildBefore(visual: IVisual, refNode: INode) {\n    let childObserver = this.childObserver;\n\n    if (childObserver) {\n      let contentNodes = this.childNodes;\n      let contentIndex = contentNodes.indexOf(refNode);\n      let projectedNodes = Array.from(visual.$view.childNodes);\n\n      projectedNodes.forEach((node: any) => {\n        if (node.$isContentProjectionSource) {\n          node.$slot.logicalView = this;\n        }\n      });\n\n      contentNodes.splice(contentIndex, 0, ...projectedNodes);\n      childObserver.notifyChildrenChanged();\n    }\n  }\n\n  removeVisualChild(visual: IVisual) {\n    let childObserver = this.childObserver;\n\n    if (childObserver) {\n      let contentNodes = this.childNodes;\n      let startIndex = contentNodes.indexOf(visual.$view.firstChild);\n      let endIndex = contentNodes.indexOf(visual.$view.lastChild);\n    \n      contentNodes.splice(startIndex, (endIndex - startIndex) + 1);\n      childObserver.notifyChildrenChanged();\n    }\n  }\n\n  findTargets() { return PLATFORM.emptyArray; }\n  appendChild(child: INode) {}\n  insertBefore(refNode: INode): void {}\n  appendTo(parent: INode): void {}\n  remove(): void {}\n}\n","import { SVGAnalyzer as RuntimeSVGAnalyzer, ISVGAnalyzer } from '../../runtime/binding/svg-analyzer';\nimport { DOM, INode } from '../../runtime/dom';\n\nconst svgElements = {\n  a: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','target','transform','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  altGlyph: ['class','dx','dy','externalResourcesRequired','format','glyphRef','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rotate','style','systemLanguage','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  altGlyphDef: ['id','xml:base','xml:lang','xml:space'],\n  altGlyphItem: ['id','xml:base','xml:lang','xml:space'],\n  animate: ['accumulate','additive','attributeName','attributeType','begin','by','calcMode','dur','end','externalResourcesRequired','fill','from','id','keySplines','keyTimes','max','min','onbegin','onend','onload','onrepeat','repeatCount','repeatDur','requiredExtensions','requiredFeatures','restart','systemLanguage','to','values','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  animateColor: ['accumulate','additive','attributeName','attributeType','begin','by','calcMode','dur','end','externalResourcesRequired','fill','from','id','keySplines','keyTimes','max','min','onbegin','onend','onload','onrepeat','repeatCount','repeatDur','requiredExtensions','requiredFeatures','restart','systemLanguage','to','values','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  animateMotion: ['accumulate','additive','begin','by','calcMode','dur','end','externalResourcesRequired','fill','from','id','keyPoints','keySplines','keyTimes','max','min','onbegin','onend','onload','onrepeat','origin','path','repeatCount','repeatDur','requiredExtensions','requiredFeatures','restart','rotate','systemLanguage','to','values','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  animateTransform: ['accumulate','additive','attributeName','attributeType','begin','by','calcMode','dur','end','externalResourcesRequired','fill','from','id','keySplines','keyTimes','max','min','onbegin','onend','onload','onrepeat','repeatCount','repeatDur','requiredExtensions','requiredFeatures','restart','systemLanguage','to','type','values','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  circle: ['class','cx','cy','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','r','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  clipPath: ['class','clipPathUnits','externalResourcesRequired','id','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  'color-profile': ['id','local','name','rendering-intent','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  cursor: ['externalResourcesRequired','id','requiredExtensions','requiredFeatures','systemLanguage','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  defs: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  desc: ['class','id','style','xml:base','xml:lang','xml:space'],\n  ellipse: ['class','cx','cy','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rx','ry','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  feBlend: ['class','height','id','in','in2','mode','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feColorMatrix: ['class','height','id','in','result','style','type','values','width','x','xml:base','xml:lang','xml:space','y'],\n  feComponentTransfer: ['class','height','id','in','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feComposite: ['class','height','id','in','in2','k1','k2','k3','k4','operator','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feConvolveMatrix: ['bias','class','divisor','edgeMode','height','id','in','kernelMatrix','kernelUnitLength','order','preserveAlpha','result','style','targetX','targetY','width','x','xml:base','xml:lang','xml:space','y'],\n  feDiffuseLighting: ['class','diffuseConstant','height','id','in','kernelUnitLength','result','style','surfaceScale','width','x','xml:base','xml:lang','xml:space','y'],\n  feDisplacementMap: ['class','height','id','in','in2','result','scale','style','width','x','xChannelSelector','xml:base','xml:lang','xml:space','y','yChannelSelector'],\n  feDistantLight: ['azimuth','elevation','id','xml:base','xml:lang','xml:space'],\n  feFlood: ['class','height','id','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feFuncA: ['amplitude','exponent','id','intercept','offset','slope','tableValues','type','xml:base','xml:lang','xml:space'],\n  feFuncB: ['amplitude','exponent','id','intercept','offset','slope','tableValues','type','xml:base','xml:lang','xml:space'],\n  feFuncG: ['amplitude','exponent','id','intercept','offset','slope','tableValues','type','xml:base','xml:lang','xml:space'],\n  feFuncR: ['amplitude','exponent','id','intercept','offset','slope','tableValues','type','xml:base','xml:lang','xml:space'],\n  feGaussianBlur: ['class','height','id','in','result','stdDeviation','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feImage: ['class','externalResourcesRequired','height','id','preserveAspectRatio','result','style','width','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  feMerge: ['class','height','id','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feMergeNode: ['id','xml:base','xml:lang','xml:space'],\n  feMorphology: ['class','height','id','in','operator','radius','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feOffset: ['class','dx','dy','height','id','in','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  fePointLight: ['id','x','xml:base','xml:lang','xml:space','y','z'],\n  feSpecularLighting: ['class','height','id','in','kernelUnitLength','result','specularConstant','specularExponent','style','surfaceScale','width','x','xml:base','xml:lang','xml:space','y'],\n  feSpotLight: ['id','limitingConeAngle','pointsAtX','pointsAtY','pointsAtZ','specularExponent','x','xml:base','xml:lang','xml:space','y','z'],\n  feTile: ['class','height','id','in','result','style','width','x','xml:base','xml:lang','xml:space','y'],\n  feTurbulence: ['baseFrequency','class','height','id','numOctaves','result','seed','stitchTiles','style','type','width','x','xml:base','xml:lang','xml:space','y'],\n  filter: ['class','externalResourcesRequired','filterRes','filterUnits','height','id','primitiveUnits','style','width','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  font: ['class','externalResourcesRequired','horiz-adv-x','horiz-origin-x','horiz-origin-y','id','style','vert-adv-y','vert-origin-x','vert-origin-y','xml:base','xml:lang','xml:space'],\n  'font-face': ['accent-height','alphabetic','ascent','bbox','cap-height','descent','font-family','font-size','font-stretch','font-style','font-variant','font-weight','hanging','id','ideographic','mathematical','overline-position','overline-thickness','panose-1','slope','stemh','stemv','strikethrough-position','strikethrough-thickness','underline-position','underline-thickness','unicode-range','units-per-em','v-alphabetic','v-hanging','v-ideographic','v-mathematical','widths','x-height','xml:base','xml:lang','xml:space'],\n  'font-face-format': ['id','string','xml:base','xml:lang','xml:space'],\n  'font-face-name': ['id','name','xml:base','xml:lang','xml:space'],\n  'font-face-src': ['id','xml:base','xml:lang','xml:space'],\n  'font-face-uri': ['id','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  foreignObject: ['class','externalResourcesRequired','height','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','width','x','xml:base','xml:lang','xml:space','y'],\n  g: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  glyph: ['arabic-form','class','d','glyph-name','horiz-adv-x','id','lang','orientation','style','unicode','vert-adv-y','vert-origin-x','vert-origin-y','xml:base','xml:lang','xml:space'],\n  glyphRef: ['class','dx','dy','format','glyphRef','id','style','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  hkern: ['g1','g2','id','k','u1','u2','xml:base','xml:lang','xml:space'],\n  image: ['class','externalResourcesRequired','height','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','preserveAspectRatio','requiredExtensions','requiredFeatures','style','systemLanguage','transform','width','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  line: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','x1','x2','xml:base','xml:lang','xml:space','y1','y2'],\n  linearGradient: ['class','externalResourcesRequired','gradientTransform','gradientUnits','id','spreadMethod','style','x1','x2','xlink:arcrole','xlink:href','xlink:role','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y1','y2'],\n  marker: ['class','externalResourcesRequired','id','markerHeight','markerUnits','markerWidth','orient','preserveAspectRatio','refX','refY','style','viewBox','xml:base','xml:lang','xml:space'],\n  mask: ['class','externalResourcesRequired','height','id','maskContentUnits','maskUnits','requiredExtensions','requiredFeatures','style','systemLanguage','width','x','xml:base','xml:lang','xml:space','y'],\n  metadata: ['id','xml:base','xml:lang','xml:space'],\n  'missing-glyph': ['class','d','horiz-adv-x','id','style','vert-adv-y','vert-origin-x','vert-origin-y','xml:base','xml:lang','xml:space'],\n  mpath: ['externalResourcesRequired','id','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  path: ['class','d','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','pathLength','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  pattern: ['class','externalResourcesRequired','height','id','patternContentUnits','patternTransform','patternUnits','preserveAspectRatio','requiredExtensions','requiredFeatures','style','systemLanguage','viewBox','width','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  polygon: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','points','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  polyline: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','points','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  radialGradient: ['class','cx','cy','externalResourcesRequired','fx','fy','gradientTransform','gradientUnits','id','r','spreadMethod','style','xlink:arcrole','xlink:href','xlink:role','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  rect: ['class','externalResourcesRequired','height','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rx','ry','style','systemLanguage','transform','width','x','xml:base','xml:lang','xml:space','y'],\n  script: ['externalResourcesRequired','id','type','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  set: ['attributeName','attributeType','begin','dur','end','externalResourcesRequired','fill','id','max','min','onbegin','onend','onload','onrepeat','repeatCount','repeatDur','requiredExtensions','requiredFeatures','restart','systemLanguage','to','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  stop: ['class','id','offset','style','xml:base','xml:lang','xml:space'],\n  style: ['id','media','title','type','xml:base','xml:lang','xml:space'],\n  svg: ['baseProfile','class','contentScriptType','contentStyleType','externalResourcesRequired','height','id','onabort','onactivate','onclick','onerror','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','onresize','onscroll','onunload','onzoom','preserveAspectRatio','requiredExtensions','requiredFeatures','style','systemLanguage','version','viewBox','width','x','xml:base','xml:lang','xml:space','y','zoomAndPan'],\n  switch: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','xml:base','xml:lang','xml:space'],\n  symbol: ['class','externalResourcesRequired','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','preserveAspectRatio','style','viewBox','xml:base','xml:lang','xml:space'],\n  text: ['class','dx','dy','externalResourcesRequired','id','lengthAdjust','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rotate','style','systemLanguage','textLength','transform','x','xml:base','xml:lang','xml:space','y'],\n  textPath: ['class','externalResourcesRequired','id','lengthAdjust','method','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','spacing','startOffset','style','systemLanguage','textLength','xlink:arcrole','xlink:href','xlink:role','xlink:title','xlink:type','xml:base','xml:lang','xml:space'],\n  title: ['class','id','style','xml:base','xml:lang','xml:space'],\n  tref: ['class','dx','dy','externalResourcesRequired','id','lengthAdjust','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rotate','style','systemLanguage','textLength','x','xlink:arcrole','xlink:href','xlink:role','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  tspan: ['class','dx','dy','externalResourcesRequired','id','lengthAdjust','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','rotate','style','systemLanguage','textLength','x','xml:base','xml:lang','xml:space','y'],\n  use: ['class','externalResourcesRequired','height','id','onactivate','onclick','onfocusin','onfocusout','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','requiredExtensions','requiredFeatures','style','systemLanguage','transform','width','x','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xml:lang','xml:space','y'],\n  view: ['externalResourcesRequired','id','preserveAspectRatio','viewBox','viewTarget','xml:base','xml:lang','xml:space','zoomAndPan'],\n  vkern: ['g1','g2','id','k','u1','u2','xml:base','xml:lang','xml:space'],\n};\n\nconst svgPresentationElements = {\n  'a': true,\n  'altGlyph': true,\n  'animate': true,\n  'animateColor': true,\n  'circle': true,\n  'clipPath': true,\n  'defs': true,\n  'ellipse': true,\n  'feBlend': true,\n  'feColorMatrix': true,\n  'feComponentTransfer': true,\n  'feComposite': true,\n  'feConvolveMatrix': true,\n  'feDiffuseLighting': true,\n  'feDisplacementMap': true,\n  'feFlood': true,\n  'feGaussianBlur': true,\n  'feImage': true,\n  'feMerge': true,\n  'feMorphology': true,\n  'feOffset': true,\n  'feSpecularLighting': true,\n  'feTile': true,\n  'feTurbulence': true,\n  'filter': true,\n  'font': true,\n  'foreignObject': true,\n  'g': true,\n  'glyph': true,\n  'glyphRef': true,\n  'image': true,\n  'line': true,\n  'linearGradient': true,\n  'marker': true,\n  'mask': true,\n  'missing-glyph': true,\n  'path': true,\n  'pattern': true,\n  'polygon': true,\n  'polyline': true,\n  'radialGradient': true,\n  'rect': true,\n  'stop': true,\n  'svg': true,\n  'switch': true,\n  'symbol': true,\n  'text': true,\n  'textPath': true,\n  'tref': true,\n  'tspan': true,\n  'use': true\n};\n\nconst svgPresentationAttributes = {\n  'alignment-baseline': true,\n  'baseline-shift': true,\n  'clip-path': true,\n  'clip-rule': true,\n  'clip': true,\n  'color-interpolation-filters': true,\n  'color-interpolation': true,\n  'color-profile': true,\n  'color-rendering': true,\n  'color': true,\n  'cursor': true,\n  'direction': true,\n  'display': true,\n  'dominant-baseline': true,\n  'enable-background': true,\n  'fill-opacity': true,\n  'fill-rule': true,\n  'fill': true,\n  'filter': true,\n  'flood-color': true,\n  'flood-opacity': true,\n  'font-family': true,\n  'font-size-adjust': true,\n  'font-size': true,\n  'font-stretch': true,\n  'font-style': true,\n  'font-variant': true,\n  'font-weight': true,\n  'glyph-orientation-horizontal': true,\n  'glyph-orientation-vertical': true,\n  'image-rendering': true,\n  'kerning': true,\n  'letter-spacing': true,\n  'lighting-color': true,\n  'marker-end': true,\n  'marker-mid': true,\n  'marker-start': true,\n  'mask': true,\n  'opacity': true,\n  'overflow': true,\n  'pointer-events': true,\n  'shape-rendering': true,\n  'stop-color': true,\n  'stop-opacity': true,\n  'stroke-dasharray': true,\n  'stroke-dashoffset': true,\n  'stroke-linecap': true,\n  'stroke-linejoin': true,\n  'stroke-miterlimit': true,\n  'stroke-opacity': true,\n  'stroke-width': true,\n  'stroke': true,\n  'text-anchor': true,\n  'text-decoration': true,\n  'text-rendering': true,\n  'unicode-bidi': true,\n  'visibility': true,\n  'word-spacing': true,\n  'writing-mode': true\n};\n\n// SVG elements/attributes are case-sensitive.  Not all browsers use the same casing for all attributes.\nfunction createElement(html) {\n  // Using very HTML-specific code here since you won't install this module\n  // unless you are actually running in a browser, using HTML, \n  // and dealing with browser inconsistencies.\n  let div = <HTMLElement>DOM.createElement('div');\n  div.innerHTML = html;\n  return div.firstElementChild;\n};\n\nif (createElement('<svg><altGlyph /></svg>').firstElementChild.nodeName === 'altglyph' && svgElements.altGlyph) {\n  // handle chrome casing inconsistencies.\n  (<any>svgElements).altglyph = svgElements.altGlyph;\n  delete svgElements.altGlyph;\n  (<any>svgElements).altglyphdef = svgElements.altGlyphDef;\n  delete svgElements.altGlyphDef;\n  (<any>svgElements).altglyphitem = svgElements.altGlyphItem;\n  delete svgElements.altGlyphItem;\n  (<any>svgElements).glyphref = svgElements.glyphRef;\n  delete svgElements.glyphRef;\n}\n\nexport const SVGAnalyzer: ISVGAnalyzer = Object.assign(RuntimeSVGAnalyzer, {\n  isStandardSvgAttribute(node: INode, attributeName: string) {\n    // Using very HTML-specific code here since you won't install this module\n    // unless you are actually running in a browser, using HTML, \n    // and dealing with browser inconsistencies.\n\n    if (!(node instanceof SVGElement)) {\n      return false;\n    }\n\n    const nodeName = (<SVGElement>node).nodeName;\n\n    return svgPresentationElements[nodeName] && svgPresentationElements[attributeName]\n      || svgElements[nodeName] && svgElements[nodeName].indexOf(attributeName) !== -1;\n  }\n});\n","import { IVisual } from \"../../templating/view-engine\";\nimport { IOverrideContext, BindingContext } from \"../../binding/binding-context\";\nimport { IRepeater } from \"./repeater\";\n\n/**\n* Update the override context.\n* @param startIndex index in collection where to start updating.\n*/\nexport function updateOverrideContexts(visuals: ArrayLike<IVisual>, startIndex: number) {\n  let length = visuals.length;\n\n  if (startIndex > 0) {\n    startIndex = startIndex - 1;\n  }\n\n  for (; startIndex < length; ++startIndex) {\n    updateOverrideContext(visuals[startIndex].$scope.overrideContext, startIndex, length);\n  }\n}\n\n/**\n  * Creates a complete override context.\n  * @param data The item's value.\n  * @param index The item's index.\n  * @param length The collections total length.\n  * @param key The key in a key/value pair.\n  */\nexport function createFullOverrideContext(repeat: IRepeater, data: any, index: number, length: number, key?: any) {\n  let bindingContext = {};\n  let overrideContext = BindingContext.createOverride(bindingContext, repeat.scope.overrideContext);\n  \n  // is key/value pair (Map)\n  if (typeof key !== 'undefined') {\n    bindingContext[repeat.key] = key;\n    bindingContext[repeat.value] = data;\n  } else {\n    bindingContext[repeat.local] = data;\n  }\n\n  updateOverrideContext(overrideContext, index, length);\n\n  return overrideContext;\n}\n\n/**\n* Updates the override context.\n* @param context The context to be updated.\n* @param index The context's index.\n* @param length The collection's length.\n*/\nexport function updateOverrideContext(overrideContext: IOverrideContext, index: number, length: number) {\n  let first = (index === 0);\n  let last = (index === length - 1);\n  let even = index % 2 === 0;\n\n  (<any>overrideContext).$index = index;\n  (<any>overrideContext).$first = first;\n  (<any>overrideContext).$last = last;\n  (<any>overrideContext).$middle = !(first || last);\n  (<any>overrideContext).$odd = !even;\n  (<any>overrideContext).$even = even;\n}\n\n\n","import { createFullOverrideContext, updateOverrideContexts, updateOverrideContext } from './override-contexts';\nimport { mergeSplice } from '../../binding/array-change-records';\nimport { IRepeatStrategy } from './repeat-strategy';\nimport { IObserverLocator, ObserverLocator } from '../../binding/observer-locator';\nimport { IRepeater } from './repeater';\nimport { BindingContext } from '../../binding/binding-context';\n\ninterface IArrayStorageOnRepeater {\n  __array: any[];\n  __queuedSplices: any[];\n}\n\nfunction indexOf(array: any[], item: any, matcher: (a: any, b: any) => boolean, startIndex: number = 0) {\n  if (matcher) {\n    const length = array.length;\n  \n    for (let index = startIndex; index < length; index++) {\n      if (matcher(array[index], item)) {\n        return index;\n      }\n    }\n  \n    return -1;\n  }\n\n  // native indexOf is more performant than a for loop\n  return array.indexOf(item);\n}\n\n/* @internal */\nexport class ArrayRepeatStrategy<T = any> implements IRepeatStrategy<T[]> {\n  handles(items: any): boolean {\n    return items instanceof Array;\n  }\n\n  getCollectionObserver(items: T[]) {\n    return ObserverLocator.getArrayObserver(items);\n  }\n\n  instanceChanged(repeat: IRepeater, items: T[]): void {\n    const itemsLength = items.length;\n\n    // if the new instance does not contain any items,\n    // just remove all views and don't do any further processing\n    if (!items || itemsLength === 0) {\n      repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n      return;\n    }\n\n    const children = repeat.visuals();\n    const viewsLength = children.length;\n\n    // likewise, if we previously didn't have any views,\n    // simply make them and return\n    if (viewsLength === 0) {\n      this.standardProcessInstanceChanged(repeat, items);\n      return;\n    }\n\n    if (repeat.visualsRequireLifecycle) {\n      const childrenSnapshot = children.slice(0);\n      const itemNameInBindingContext = repeat.local;\n      const matcher = repeat.matcher;\n\n      // the cache of the current state (it will be transformed along with the views to keep track of indicies)\n      let itemsPreviouslyInViews = [];\n      const viewsToRemove = [];\n\n      for (let index = 0; index < viewsLength; index++) {\n        const view = childrenSnapshot[index];\n        const oldItem = view.$scope.bindingContext[itemNameInBindingContext];\n\n        if (indexOf(items, oldItem, matcher) === -1) {\n          // remove the item if no longer in the new instance of items\n          viewsToRemove.push(view);\n        } else {\n          // or add the item to the cache list\n          itemsPreviouslyInViews.push(oldItem);\n        }\n      }\n\n      let updateViews;\n      let removePromise;\n\n      if (itemsPreviouslyInViews.length > 0) {\n        removePromise = repeat.removeVisuals(viewsToRemove, true, !repeat.visualsRequireLifecycle);\n        updateViews = () => {\n          // update views (create new and move existing)\n          for (let index = 0; index < itemsLength; index++) {\n            const item = items[index];\n            const indexOfView = indexOf(itemsPreviouslyInViews, item, matcher, index);\n            let view;\n\n            if (indexOfView === -1) { // create views for new items\n              const overrideContext = createFullOverrideContext(repeat, items[index], index, itemsLength);\n              repeat.insertVisualWithScope(index, BindingContext.createScopeFromOverride(overrideContext));\n              // reflect the change in our cache list so indicies are valid\n              itemsPreviouslyInViews.splice(index, 0, undefined);\n            } else if (indexOfView === index) { // leave unchanged items\n              view = children[indexOfView];\n              itemsPreviouslyInViews[indexOfView] = undefined;\n            } else { // move the element to the right place\n              view = children[indexOfView];\n              repeat.moveVisual(indexOfView, index);\n              itemsPreviouslyInViews.splice(indexOfView, 1);\n              itemsPreviouslyInViews.splice(index, 0, undefined);\n            }\n\n            if (view) {\n              updateOverrideContext(view.overrideContext, index, itemsLength);\n            }\n          }\n\n          // remove extraneous elements in case of duplicates,\n          // also update binding contexts if objects changed using the matcher function\n          this.inPlaceProcessItems(repeat, items);\n        };\n      } else {\n        // if all of the items are different, remove all and add all from scratch\n        removePromise = repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n        updateViews = () => this.standardProcessInstanceChanged(repeat, items);\n      }\n\n      if (removePromise instanceof Promise) {\n        removePromise.then(updateViews);\n      } else {\n        updateViews();\n      }\n    } else {\n      // no lifecycle needed, use the fast in-place processing\n      this.inPlaceProcessItems(repeat, items);\n    }\n  }\n\n  private standardProcessInstanceChanged(repeat: IRepeater, items: T[]) {\n    for (let i = 0, ii = items.length; i < ii; i++) {\n      const overrideContext = createFullOverrideContext(repeat, items[i], i, ii);\n      repeat.addVisualWithScope(BindingContext.createScopeFromOverride(overrideContext));\n    }\n  }\n\n  private inPlaceProcessItems(repeat: IRepeater, items: T[]) {\n    const itemsLength = items.length;\n    let viewsLength = repeat.visualCount();\n\n    // remove unneeded views.\n    while (viewsLength > itemsLength) {\n      viewsLength--;\n      repeat.removeVisual(viewsLength, true, !repeat.visualsRequireLifecycle);\n    }\n\n    // avoid repeated evaluating the property-getter for the \"local\" property.\n    const local = repeat.local;\n\n    // re-evaluate bindings on existing views.\n    for (let i = 0; i < viewsLength; i++) {\n      const view = repeat.visualAt(i);\n      const last = i === itemsLength - 1;\n      const middle = i !== 0 && !last;\n      const scope = view.$scope;\n      const bindingContext = scope.bindingContext;\n      const overrideContext = scope.overrideContext;\n\n      // any changes to the binding context?\n      if (bindingContext[local] === items[i]\n        && (<any>overrideContext).$middle === middle\n        && (<any>overrideContext).$last === last) {\n        // no changes. continue...\n        continue;\n      }\n\n      // update the binding context and refresh the bindings.\n      bindingContext[local] = items[i];\n      (<any>overrideContext).$middle = middle;\n      (<any>overrideContext).$last = last;\n\n      repeat.updateBindings(view);\n    }\n\n    // add new views\n    for (let i = viewsLength; i < itemsLength; i++) {\n      const overrideContext = createFullOverrideContext(repeat, items[i], i, itemsLength);\n      repeat.addVisualWithScope(BindingContext.createScopeFromOverride(overrideContext));\n    }\n  }\n\n  instanceMutated(repeat: IRepeater & IArrayStorageOnRepeater, array: T[], splices: any[]): void {\n    if (repeat.__queuedSplices) {\n      for (let i = 0, ii = splices.length; i < ii; ++i) {\n        const {index, removed, addedCount} = splices[i];\n        mergeSplice(repeat.__queuedSplices, index, removed, addedCount);\n      }\n\n      // Array.prototype.slice is used here to clone the array\n      repeat.__array = array.slice(0);\n      return;\n    }\n\n    // Array.prototype.slice is used here to clone the array\n    const maybePromise = this.runSplices(repeat, array.slice(0), splices);\n\n    if (maybePromise instanceof Promise) {\n      let queuedSplices = repeat.__queuedSplices = [];\n\n      const runQueuedSplices = () => {\n        if (!queuedSplices.length) {\n          repeat.__queuedSplices = undefined;\n          repeat.__array = undefined;\n          return;\n        }\n\n        const nextPromise = this.runSplices(repeat, repeat.__array, queuedSplices) || Promise.resolve();\n        queuedSplices = repeat.__queuedSplices = [];\n        nextPromise.then(runQueuedSplices);\n      };\n\n      maybePromise.then(runQueuedSplices);\n    }\n  }\n\n  /**\n  * Run a normalised set of splices against the viewSlot children.\n  * @param repeat The repeat instance.\n  * @param array The modified array.\n  * @param splices Records of array changes.\n  * @return {Promise|undefined} A promise if animations have to be run.\n  * @pre The splices must be normalised so as:\n  *  * Any item added may not be later removed.\n  *  * Removals are ordered by asending index\n  */\n  private runSplices(repeat: IRepeater, array: T[], splices: any[]) {\n    const rmPromises = [];\n    let removeDelta = 0;\n\n    for (let i = 0, ii = splices.length; i < ii; ++i) {\n      const splice = splices[i];\n      const removed = splice.removed;\n\n      for (let j = 0, jj = removed.length; j < jj; ++j) {\n        // the rmPromises.length correction works due to the ordered removal precondition\n        const viewOrPromise = repeat.removeVisual(splice.index + removeDelta + rmPromises.length, true);\n        \n        if (viewOrPromise instanceof Promise) {\n          rmPromises.push(viewOrPromise);\n        }\n      }\n\n      removeDelta -= splice.addedCount;\n    }\n\n    if (rmPromises.length > 0) {\n      return Promise.all(rmPromises).then(() => {\n        const spliceIndexLow = this.handleAddedSplices(repeat, array, splices);\n        updateOverrideContexts(repeat.visuals(), spliceIndexLow);\n      });\n    }\n\n    const spliceIndexLow = this.handleAddedSplices(repeat, array, splices);\n    updateOverrideContexts(repeat.visuals(), spliceIndexLow);\n\n    return undefined;\n  }\n\n  private handleAddedSplices(repeat: IRepeater, array: T[], splices: any[]) {\n    const arrayLength = array.length;\n    let spliceIndex: number;\n    let spliceIndexLow: number;\n    \n    for (let i = 0, ii = splices.length; i < ii; ++i) {\n      const splice = splices[i];\n      const end = splice.index + splice.addedCount;\n      let addIndex = spliceIndex = splice.index;\n\n      if (typeof spliceIndexLow === 'undefined' || spliceIndexLow === null || spliceIndexLow > splice.index) {\n        spliceIndexLow = spliceIndex;\n      }\n\n      for (; addIndex < end; ++addIndex) {\n        const overrideContext = createFullOverrideContext(repeat, array[addIndex], addIndex, arrayLength);\n        repeat.insertVisualWithScope(addIndex, BindingContext.createScopeFromOverride(overrideContext));\n      }\n    }\n\n    return spliceIndexLow;\n  }\n}\n","import {createFullOverrideContext, updateOverrideContexts} from './override-contexts';\nimport { IRepeatStrategy } from './repeat-strategy';\nimport { IRepeater } from './repeater';\nimport { ObserverLocator } from '../../binding/observer-locator';\nimport { IOverrideContext, BindingContext } from '../../binding/binding-context';\nimport { IVisual } from '../../templating/view-engine';\n\n/* @internal */\nexport class MapRepeatStrategy<T = any, K = any> implements IRepeatStrategy<Map<T, K>> {\n  handles(items: any): boolean {\n    return items instanceof Map\n  }\n\n  getCollectionObserver(items: Map<T, K>) {\n    return ObserverLocator.getMapObserver(items);\n  }\n\n  instanceChanged(repeat: IRepeater, items: Map<T, K>): void {\n    const removePromise = repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n    \n    if (removePromise instanceof Promise) {\n      removePromise.then(() => this.standardProcessItems(repeat, items));\n      return;\n    }\n\n    this.standardProcessItems(repeat, items);\n  }\n\n  private standardProcessItems(repeat: IRepeater, items: Map<T, K>) {\n    let index = 0;\n\n    items.forEach((value, key) => {\n      const overrideContext = createFullOverrideContext(repeat, value, index, items.size, key);\n      repeat.addVisualWithScope(BindingContext.createScopeFromOverride(overrideContext));\n      ++index;\n    });\n  }\n\n  instanceMutated(repeat: IRepeater, map: Map<T, K>, records: any): void {\n    const rmPromises: Promise<any>[] = [];\n    let overrideContext: IOverrideContext;\n    let removeIndex: number;\n    let viewOrPromise: IVisual | Promise<any>;\n\n    for (let i = 0, ii = records.length; i < ii; ++i) {\n      const record = records[i];\n      const key = record.key;\n\n      switch (record.type) {\n        case 'update':\n          removeIndex = this.getViewIndexByKey(repeat, key);\n          viewOrPromise = repeat.removeVisual(removeIndex, true, !repeat.visualsRequireLifecycle);\n\n          if (viewOrPromise instanceof Promise) {\n            rmPromises.push(viewOrPromise);\n          }\n\n          overrideContext = createFullOverrideContext(repeat, map.get(key), removeIndex, map.size, key);\n          repeat.insertVisualWithScope(removeIndex, BindingContext.createScopeFromOverride(overrideContext));\n          break;\n        case 'add':\n          const addIndex = repeat.visualCount() <= map.size - 1 ? repeat.visualCount() : map.size - 1;\n          overrideContext = createFullOverrideContext(repeat, map.get(key), addIndex, map.size, key);\n          repeat.insertVisualWithScope(map.size - 1, BindingContext.createScopeFromOverride(overrideContext));\n          break;\n        case 'delete':\n          if (record.oldValue === undefined) { \n            return; \n          }\n\n          removeIndex = this.getViewIndexByKey(repeat, key);\n          viewOrPromise = repeat.removeVisual(removeIndex, true, !repeat.visualsRequireLifecycle);\n\n          if (viewOrPromise instanceof Promise) {\n            rmPromises.push(viewOrPromise);\n          }\n\n          break;\n        case 'clear':\n          repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n          break;\n        default:\n          continue;\n      }\n    }\n\n    if (rmPromises.length > 0) {\n      Promise.all(rmPromises).then(() => updateOverrideContexts(repeat.visuals(), 0));\n    } else {\n      updateOverrideContexts(repeat.visuals(), 0);\n    }\n  }\n\n  private getViewIndexByKey(repeat: IRepeater, key) {\n    for (let i = 0, ii = repeat.visualCount(); i < ii; ++i) {\n      const child = repeat.visualAt(i);\n\n      if (child.$scope.bindingContext[repeat.key] === key) {\n        return i;\n      }\n    }\n\n    return undefined;\n  }\n}\n","import { IRepeatStrategy } from \"./repeat-strategy\";\nimport { Repeat } from \"./repeat\";\nimport { IObserverLocator } from \"../../binding/observer-locator\";\nimport { IRepeater } from \"./repeater\";\n\n/* @internal */\nexport class NullRepeatStrategy implements IRepeatStrategy {\n  handles(items): boolean {\n    return items === null || items === undefined;\n  }\n\n  instanceMutated(repeat: IRepeater, items: any, changes: any): void { }\n  \n  instanceChanged(repeat: IRepeater, items: any): void {\n    repeat.removeAllVisuals(true);\n  }\n\n  getCollectionObserver(items: any) { return null; }\n}\n","import { createFullOverrideContext, updateOverrideContexts } from './override-contexts';\nimport { IRepeatStrategy } from './repeat-strategy';\nimport { Repeat } from './repeat';\nimport { IRepeater } from './repeater';\nimport { BindingContext } from '../../binding/binding-context';\n\n/* @internal */\nexport class NumberRepeatStrategy implements IRepeatStrategy<number> {\n  handles(items: any): boolean {\n    return typeof items === 'number';\n  }\n\n  instanceChanged(repeat: IRepeater, value: number): void {\n    let removePromise = repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n    \n    if (removePromise instanceof Promise) {\n      removePromise.then(() => this.standardProcessItems(repeat, value));\n      return;\n    }\n\n    this.standardProcessItems(repeat, value);\n  }\n\n  instanceMutated(repeat: IRepeater, items: number, changes: any): void { }\n\n  getCollectionObserver() { return null; }\n\n  private standardProcessItems(repeat: IRepeater, value: number) {\n    value = Math.floor(value);\n\n    const childrenLength = repeat.visualCount();\n    let viewsToRemove = childrenLength - value;\n\n    if (viewsToRemove > 0) {\n      if (viewsToRemove > childrenLength) {\n        viewsToRemove = childrenLength;\n      }\n\n      for (let i = 0, ii = viewsToRemove; i < ii; ++i) {\n        repeat.removeVisual(childrenLength - (i + 1), true, !repeat.visualsRequireLifecycle);\n      }\n\n      return;\n    }\n\n    for (let i = childrenLength, ii = value; i < ii; ++i) {\n      let overrideContext = createFullOverrideContext(repeat, i, i, ii);\n      repeat.addVisualWithScope(BindingContext.createScopeFromOverride(overrideContext));\n    }\n\n    updateOverrideContexts(repeat.visuals(), 0);\n  }\n}\n","import { DI } from \"../../di\";\nimport { IRepeatStrategy } from \"./repeat-strategy\";\nimport { NullRepeatStrategy } from \"./repeat-strategy-null\";\nimport { ArrayRepeatStrategy } from \"./repeat-strategy-array\";\nimport { MapRepeatStrategy } from \"./repeat-strategy-map\";\nimport { SetRepeatStrategy } from \"./repeat-strategy-set\";\nimport { NumberRepeatStrategy } from \"./repeat-strategy-number\";\n\n\nexport const IRepeatStrategyRegistry = DI.createInterface('IRepeatStrategyRegistry');\n\n/**\n* Locates the best strategy for repeating a template over different types of collections.\n*/\nexport interface IRepeatStrategyRegistry {\n   /**\n  * Adds a repeat strategy to be located when repeating a template over different collection types.\n  * @param strategy A repeat strategy that can iterate a specific collection type.\n  */\n  register(strategy: IRepeatStrategy): void;\n  \n  getStrategyForItems(items: any): IRepeatStrategy;\n}\n\nclass RepeatStrategyRegistryImplementation implements IRepeatStrategyRegistry {\n  private strategies: IRepeatStrategy[] = [];\n\n  constructor() {\n    this.register(new NullRepeatStrategy());\n    this.register(new ArrayRepeatStrategy());\n    this.register(new MapRepeatStrategy());\n    this.register(new SetRepeatStrategy());\n    this.register(new NumberRepeatStrategy());\n  }\n\n  register(strategy: IRepeatStrategy) {\n    this.strategies.push(strategy);\n  }\n\n  getStrategyForItems(items: any): IRepeatStrategy {\n    let strategies = this.strategies;\n\n    for (let i = 0, ii = strategies.length; i < ii; ++i) {\n      let current = strategies[i];\n\n      if (current.handles(items)) {\n        return current;\n      }\n    }\n\n    return null;\n  }\n}\n\nexport const RepeatStrategyRegistry: IRepeatStrategyRegistry = new RepeatStrategyRegistryImplementation();\n","import {createFullOverrideContext, updateOverrideContexts} from './override-contexts';\nimport { IRepeatStrategy } from './repeat-strategy';\nimport { IObserverLocator, ObserverLocator } from '../../binding/observer-locator';\nimport { IRepeater } from './repeater';\nimport { BindingContext } from '../../binding/binding-context';\n\n/* @internal */\nexport class SetRepeatStrategy<T = any> implements IRepeatStrategy<Set<T>> {\n  handles(items: any): boolean {\n    return items instanceof Set;\n  }\n\n  getCollectionObserver(items: Set<T>) {\n    return ObserverLocator.getSetObserver(items);\n  }\n\n  instanceChanged(repeat: IRepeater, items: Set<T>): void {\n    const removePromise = repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n    \n    if (removePromise instanceof Promise) {\n      removePromise.then(() => this.standardProcessItems(repeat, items));\n      return;\n    }\n\n    this.standardProcessItems(repeat, items);\n  }\n\n  private standardProcessItems(repeat: IRepeater, items: Set<T>) {\n    let index = 0;\n\n    items.forEach(value => {\n      const overrideContext = createFullOverrideContext(repeat, value, index, items.size);\n      repeat.addVisualWithScope(BindingContext.createScopeFromOverride(overrideContext));\n      ++index;\n    });\n  }\n\n  instanceMutated(repeat: IRepeater, set: Set<T>, records: any): void {\n    const rmPromises = [];\n\n    for (let i = 0, ii = records.length; i < ii; ++i) {\n      const record = records[i];\n      const value = record.value;\n\n      switch (record.type) {\n        case 'add':\n          const size = Math.max(set.size - 1, 0);\n          const overrideContext = createFullOverrideContext(repeat, value, size, set.size);\n          repeat.insertVisualWithScope(size, BindingContext.createScopeFromOverride(overrideContext));\n          break;\n        case 'delete':\n          const removeIndex = this.getViewIndexByValue(repeat, value);\n          const viewOrPromise = repeat.removeVisual(removeIndex, true, !repeat.visualsRequireLifecycle);\n\n          if (viewOrPromise instanceof Promise) {\n            rmPromises.push(viewOrPromise);\n          }\n\n          break;\n        case 'clear':\n          repeat.removeAllVisuals(true, !repeat.visualsRequireLifecycle);\n          break;\n        default:\n          continue;\n      }\n    }\n\n    if (rmPromises.length > 0) {\n      Promise.all(rmPromises).then(() => updateOverrideContexts(repeat.visuals(), 0));\n    } else {\n      updateOverrideContexts(repeat.visuals(), 0);\n    }\n  }\n\n  private getViewIndexByValue(repeat: IRepeater, value) {\n    for (let i = 0, ii = repeat.visualCount(); i < ii; ++i) {\n      const child = repeat.visualAt(i);\n\n      if (child.$scope.bindingContext[repeat.local] === value) {\n        return i;\n      }\n    }\n\n    return undefined;\n  }\n}\n",null,"import { customAttribute, templateController, inject, bindable } from \"../../decorators\";\nimport { IVisualFactory, IVisual } from \"../../templating/view-engine\";\nimport { IRenderSlot } from \"../../templating/render-slot\";\nimport { IContainer } from \"../../di\";\nimport { RepeatStrategyRegistry } from \"./repeat-strategy-registry\";\nimport { ITargetedInstruction, IHydrateTemplateController } from \"../../templating/instructions\";\nimport { IRepeater } from \"./repeater\";\nimport { IExpression, BindingBehavior, ValueConverter } from \"../../binding/ast\";\nimport { IScope, sourceContext } from \"../../binding/binding-context\";\nimport { IRepeatStrategy } from \"./repeat-strategy\";\nimport { TaskQueue } from \"../../../debug/task-queue\";\nimport { IBindingCollectionObserver } from \"../../binding/observation\";\nimport { Binding } from \"../../binding/binding\";\nimport { BindingMode } from \"../../binding/binding-mode\";\nimport { IViewOwner } from \"../../templating/view\";\n\nconst oneTime = BindingMode.oneTime;\n\nfunction updateOneTimeBinding(binding) {\n  if (isCallableOneTimeBinding(binding)) {\n    binding.call(sourceContext);\n  } else if (binding.updateOneTimeBindings) {\n    binding.updateOneTimeBindings();\n  }\n}\n\nfunction isOneTime(expression: IExpression) {\n  while (expression instanceof BindingBehavior) {\n    if (expression.name === 'oneTime') {\n      return true;\n    }\n    \n    expression = expression.expression;\n  }\n\n  return false;\n}\n\nfunction isCallableOneTimeBinding(binding): binding is Binding {\n  return binding.call && binding.mode === oneTime;\n}\n\nfunction unwrapExpression(expression: IExpression) {\n  let unwrapped = false;\n  \n  while (expression instanceof BindingBehavior) {\n    expression = expression.expression;\n  }\n\n  while (expression instanceof ValueConverter) {\n    expression = expression.expression;\n    unwrapped = true;\n  }\n\n  return unwrapped ? expression : null;\n}\n\nfunction getBinding(owner: IViewOwner, behavior: any, propertyName: string): Binding {\n  return (<any[]>owner.$bindable)\n    .find(x => x.target === behavior && x.targetProperty === propertyName);\n}\n\n@customAttribute('repeat')\n@templateController\n@inject(IViewOwner, IVisualFactory, IRenderSlot, IContainer)\nexport class Repeat implements IRepeater {\n  private ignoreMutation = false;\n  private sourceExpression: IExpression;\n  private isOneTime: boolean;\n  private strategy: IRepeatStrategy;\n  private collectionObserver: IBindingCollectionObserver;\n  private callContext: string;\n  \n  public visualsRequireLifecycle: boolean;\n  public scope: IScope;\n\n  /**\n  * List of items to bind the repeater to.\n  *\n  * @property items\n  */\n  @bindable public items: any;\n\n  /**\n   * Local variable which gets assigned on each iteration.\n   *\n   * @property local\n   */\n  @bindable public local: string;\n\n  /**\n   * Key when iterating over Maps.\n   *\n   * @property key\n   */\n  @bindable public key: any;\n\n  /**\n   * Value when iterating over Maps.\n   *\n   * @property value\n   */\n  @bindable public value: any;\n\n  // TODO: the template compiler should extract this binding for all template controllers\n  @bindable public matcher: ((a: any, b: any) => boolean) | null;\n\n  constructor(\n    private owner: IViewOwner,\n    private viewFactory: IVisualFactory, \n    private viewSlot: IRenderSlot, \n    private container: IContainer\n  ) {\n    this.local = 'item';\n    this.key = 'key';\n    this.value = 'value';\n    this.visualsRequireLifecycle = true; // TODO: the template compiler should figure this out\n  }\n\n  call(context: string, changes: any) {\n    this[context](this.items, changes);\n  }\n\n  bound(scope: IScope) {\n    this.sourceExpression = getBinding(this.owner, this, 'items').sourceExpression;\n    this.isOneTime = isOneTime(this.sourceExpression);\n    this.scope = scope;\n    this.itemsChanged();\n  }\n\n  unbound() {\n    this.scope = null;\n    this.items = null;\n    this.viewSlot.removeAll(true, true);\n    this.unsubscribeCollection();\n  }\n\n  private unsubscribeCollection() {\n    if (this.collectionObserver) {\n      this.collectionObserver.unsubscribe(this.callContext, this);\n      this.collectionObserver = null;\n      this.callContext = null;\n    }\n  }\n\n  itemsChanged() {\n    this.unsubscribeCollection();\n\n    // still bound?\n    if (!this.scope) {\n      return;\n    }\n\n    let items = this.items;\n    this.strategy = RepeatStrategyRegistry.getStrategyForItems(items);\n\n    if (!this.strategy) {\n      throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);\n    }\n\n    if (!this.isOneTime && !this.observeInnerCollection()) {\n      this.observeCollection();\n    }\n\n    this.strategy.instanceChanged(this, items);\n  }\n\n  private getInnerCollection() {\n    let expression = unwrapExpression(this.sourceExpression);\n\n    if (!expression) {\n      return null;\n    }\n\n    return expression.evaluate(this.scope, this.container);\n  }\n\n  handleCollectionMutated(collection, changes) {\n    if (!this.collectionObserver) {\n      return;\n    }\n\n    this.strategy.instanceMutated(this, collection, changes);\n  }\n\n  handleInnerCollectionMutated(collection, changes) {\n    if (!this.collectionObserver) {\n      return;\n    }\n\n    // guard against source expressions that have observable side-effects that could\n    // cause an infinite loop- eg a value converter that mutates the source array.\n    if (this.ignoreMutation) {\n      return;\n    }\n\n    this.ignoreMutation = true;\n    let newItems = this.sourceExpression.evaluate(this.scope, this.container);\n\n    TaskQueue.queueMicroTask(() => this.ignoreMutation = false);\n\n    // call itemsChanged...\n    if (newItems === this.items) {\n      // call itemsChanged directly.\n      this.itemsChanged();\n    } else {\n      // call itemsChanged indirectly by assigning the new collection value to\n      // the items property, which will trigger the self-subscriber to call itemsChanged.\n      this.items = newItems;\n    }\n  }\n\n  private observeInnerCollection() {\n    let items = this.getInnerCollection();\n    let strategy = RepeatStrategyRegistry.getStrategyForItems(items);\n    \n    if (!strategy) {\n      return false;\n    }\n    \n    this.collectionObserver = strategy.getCollectionObserver(items);\n    \n    if (!this.collectionObserver) {\n      return false;\n    }\n\n    this.callContext = 'handleInnerCollectionMutated';\n    this.collectionObserver.subscribe(this.callContext, this);\n\n    return true;\n  }\n\n  private observeCollection() {\n    let items = this.items;\n    this.collectionObserver = this.strategy.getCollectionObserver(items);\n\n    if (this.collectionObserver) {\n      this.callContext = 'handleCollectionMutated';\n      this.collectionObserver.subscribe(this.callContext, this);\n    }\n  }\n\n  visualCount() { \n    return this.viewSlot.children.length; \n  }\n  \n  visuals() { \n    return this.viewSlot.children; \n  }\n  \n  visualAt(index) { \n    return this.viewSlot.children[index]; \n  }\n\n  addVisualWithScope(scope: IScope) {\n    let visual = this.viewFactory.create();\n    visual.$bind(scope);\n    this.viewSlot.add(visual);\n  }\n\n  insertVisualWithScope(index, scope: IScope) {\n    let visual = this.viewFactory.create();\n    visual.$bind(scope);\n    this.viewSlot.insert(index, visual);\n  }\n\n  moveVisual(sourceIndex, targetIndex) {\n    this.viewSlot.move(sourceIndex, targetIndex);\n  }\n\n  removeAllVisuals(returnToCache, skipAnimation) {\n    return this.viewSlot.removeAll(returnToCache, skipAnimation);\n  }\n\n  removeVisuals(viewsToRemove, returnToCache, skipAnimation) {\n    return this.viewSlot.removeMany(viewsToRemove, returnToCache, skipAnimation);\n  }\n\n  removeVisual(index, returnToCache, skipAnimation) {\n    return this.viewSlot.removeAt(index, returnToCache, skipAnimation);\n  }\n\n  updateBindings(visual: IVisual) {\n    const bindables = visual.$bindable;\n    let j = visual.$bindable.length;\n\n    while (j--) {\n      updateOneTimeBinding(bindables[j]);\n    }\n  }\n}\n",null],"sourceRoot":".."}