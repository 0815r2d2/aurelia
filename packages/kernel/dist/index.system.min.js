System.register("kernel",[],function(n){"use strict";return{t(){function t(n){return function(t){const Key=function Key(n,t,e){DI.inject(Key)(n,t,e)};return Key.resolve=function(e,i){return n(t,e,i)},Key}}function e(n){return DI.transient(n)}function i(n){return DI.singleton(n)}function r(n){return"function"==typeof n.register}function o(n){if(null==n||n===Object)throw Reporter.error(5)}function u(n,t,e){if(n instanceof w&&4===n.strategy){const i=n.state;let r=i.length;const o=Array(r);for(;r--;)o[r]=i[r].resolve(t,e);return o}return[n.resolve(t,e)]}function l(n,t,e,i){let r,o=e.length,u=Array(o);for(;o--;){if(null==(r=e[o]))throw Reporter.error(7,`Index ${o}.`);u[o]=n.get(r)}return void 0!==i&&(u=u.concat(i)),Reflect.construct(t,u)}n({singleton:n=>void 0===n?i:i(n),transient:n=>void 0===n?e:e(n)});const s=(function(){if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return Function("","return this")()}catch(n){return{}}})(),c=(function(){let n,t,e,i,r,o;if(null!=s.performance&&s.performance.now){const n=s.performance;return function(){return n.now()}}if(null!=s.process&&s.process.i){const e=function(){return(n()-r)/1e6};return t=s.process.i,i=(n=function(){let n;return 1e9*(n=t())[0]+n[1]})(),o=1e9*s.process.o(),r=i-o,e}if(Date.now){const n=function(){return Date.now()-e};return e=Date.now(),n}{const n=function(){return(new Date).getTime()-e};return e=(new Date).getTime(),n}})(),f=(function(){const n=["moz","webkit"],t="AnimationFrame";let e=s[`request${t}`],i=s[`cancel${t}`]||s[`cancelRequest${t}`];for(let r=0;!e&&2>r;++r)e=s[`${n[r]}Request${t}`],i=s[`${n[r]}Cancel${t}`]||s[`${n[r]}CancelRequest${t}`];if(!e||!i){let n=0,t=0;const r=[],o=1e3/60;e=function(e){let i,u;return 0===r.length&&(i=c(),n=(u=Math.max(0,o-(i-n)))+i,setTimeout(function(){const t=r.slice(0);r.length=0;for(let e=0;t.length>e;++e)if(!t[e].u)try{t[e].l(n)}catch(n){setTimeout(function(){throw n},0)}},Math.round(u))),r.push({s:++t,l:e,u:0}),t},i=function(n){for(let t=0;r.length>t;++t)r[t].s===n&&(r[t].u=1)}}const r=function(n){return e.call(s,n)};return r.cancel=function(){i.apply(s,arguments)},s.requestAnimationFrame=e,s.cancelAnimationFrame=i,r})(),h={},a={},PLATFORM=n("PLATFORM",{global:s,h:Object.freeze([]),v:Object.freeze({}),m(){},now:c,k(n){let value=h[n];if(void 0!==value)return value;value="";let t,e=1,i=0;for(let r=0,o=n.length;o>r;++r)"-"===(t=n.charAt(r))||"."===t||"_"===t?i=1:(value+=e?t.toLowerCase():i?t.toUpperCase():t,i=0),e=0;return h[n]=value},R(n){let value=a[n];if(void 0!==value)return value;value="";let t,e,i=1;for(let r=0,o=n.length;o>r;++r)e=(t=n.charAt(r)).toLowerCase(),value+=i?e:t!==e?`-${e}`:e,i=0;return a[n]=value},toArray(n){const t=n.length,e=Array(t);for(let i=0;t>i;++i)e[i]=n[i];return e},requestAnimationFrame:n=>f(n),clearInterval:n=>s.clearInterval(n),clearTimeout:n=>s.clearTimeout(n),setInterval:(n,t,...e)=>s.setInterval(n,t,...e),setTimeout:(n,t,...e)=>s.setTimeout(n,t,...e)}),Reporter=n("Reporter",{write(n,...t){},error:n=>Error(`Code ${n}`)});n("Tracer",{enabled:0,$:0,A:null,C(name,n){},D(){},L(n){},O(n){},W(n){},M(){}}),"getOwnMetadata"in Reflect||(Reflect.q=function(n,t){return t[n]},Reflect.F=function(n,t){return function(e){e[n]=t}});const DI=n("DI",{I:()=>new d,S:n=>Reflect.q("design:paramtypes",n)||PLATFORM.h,j(n){let dependencies;if(void 0===n.inject)dependencies=DI.S(n);else{dependencies=[];let t=n;for(;"function"==typeof t;)t.hasOwnProperty("inject")&&dependencies.push(...t.inject),t=Object.getPrototypeOf(t)}return dependencies},_(n){const Key=function(t,e,i){if(void 0===t)throw Reporter.error(16,Key);return Key.B=n||"Interface",(t.inject||(t.inject=[]))[i]=Key,t};return Key.G=function(){return Key},Key.H=function(n){return Key.H=function(){throw Reporter.error(17,Key)},Key.register=function(t,e){const i=e||Key;return n({J:value=>t.K(i,new w(i,0,value)),singleton:value=>t.K(i,new w(i,1,value)),transient:value=>t.K(i,new w(i,2,value)),l:value=>t.K(i,new w(i,3,value)),N:n=>t.K(i,new w(i,5,n))})},Key},Key},inject:(...dependencies)=>(function(n,t,e){if("number"==typeof e){if(!n.hasOwnProperty("inject")){const t=DI.S(n);n.inject=t.slice()}1===dependencies.length&&(n.inject[e]=dependencies[0])}else if(t){const e=n.constructor;(e.inject||(e.inject={}))[t]=dependencies[0]}else if(e)e.value.inject=dependencies;else if(0===dependencies.length){const t=DI.S(n);n.inject=t.slice()}else n.inject=dependencies}),transient:n=>(n.register=function(t){return Registration.transient(n,n).register(t,n)},n),singleton:n=>(n.register=function(t){return Registration.singleton(n,n).register(t,n)},n)}),IContainer=n("IContainer",DI._("IContainer").G());n("IServiceLocator",IContainer),n("inject",DI.inject),n("all",t((n,t,e)=>e.getAll(n))),n("lazy",t((n,t,e)=>{let i=null;return()=>(null===i&&(i=e.get(n)),i)})),n("optional",t((n,t,e)=>e.has(n,1)?e.get(n):null));class w{constructor(n,strategy,t){this.key=n,this.strategy=strategy,this.state=t}register(n,t){return n.K(t||this.key,this)}resolve(n,t){switch(this.strategy){case 0:return this.state;case 1:{this.strategy=0;const t=n.U(this.state);return this.state=t.construct(n)}case 2:return n.U(this.state).construct(t);case 3:return this.state(n,t,this);case 4:return this.state[0].resolve(n,t);case 5:return n.get(this.state);default:throw Reporter.error(6,this.strategy)}}U(n){switch(this.strategy){case 1:case 2:return n.U(this.state);default:return null}}}class v{constructor(n,t,dependencies){this.V=n,this.X=t,this.dependencies=dependencies,this.Y=null}static create(n){const dependencies=DI.j(n);return new v(n,m[dependencies.length]||k,dependencies)}construct(n,t){const e=this.Y;let i=void 0!==t?this.X.Z(n,this.V,this.dependencies,t):this.X.p(n,this.V,this.dependencies);if(null===e)return i;for(let n=0,t=e.length;t>n;++n)i=e[n](i);return i}T(n){return null===this.Y&&(this.Y=[]),this.Y.push(n),1}}const b={resolve:(n,t)=>t};class d{constructor(n={}){this.parent=null,this.g=new Map,this.P=n,this.nn=n.nn||(n.nn=new Map),this.tn=n.tn||(n.tn=Object.create(null)),this.g.set(IContainer,b)}register(...n){for(let t=0,e=n.length;e>t;++t){const e=n[t];if(r(e))e.register(this);else{const n=Object.keys(e);for(let t=0,i=n.length;i>t;++t){const value=e[n[t]];r(value)?value.register(this):this.register(value)}}}}K(n,t){o(n);const e=this.g,i=e.get(n);return void 0===i?(e.set(n,t),"string"==typeof n&&(this.tn[n]=t)):i instanceof w&&4===i.strategy?i.state.push(t):e.set(n,new w(n,4,[i,t])),t}T(n,t){const e=this.en(n);if(null===e)return 0;if(e.U){const n=e.U(this);return null===n?0:n.T(t)}return 0}en(n,t=1){if(o(n),n.resolve)return n;let e=this;for(;null!==e;){const i=e.g.get(n);if(void 0!==i)return i;if(null===e.parent)return t?this.in(n,e):null;e=e.parent}return null}has(n,t=0){return this.g.has(n)?1:t&&null!==this.parent?this.parent.has(n,1):0}get(n){if(o(n),n.resolve)return n.resolve(this,this);let t=this;for(;null!==t;){let e=t.g.get(n);if(void 0!==e)return e.resolve(t,this);if(null===t.parent)return(e=this.in(n,t)).resolve(t,this);t=t.parent}}getAll(n){o(n);let t=this;for(;null!==t;){const e=t.g.get(n);if(void 0!==e)return u(e,t,this);if(null===this.parent)return PLATFORM.h;t=t.parent}return PLATFORM.h}U(n){let t=this.nn.get(n);return void 0===t&&(t=v.create(n),this.nn.set(n,t)),t}rn(){const n=this.P,t={nn:n.nn,tn:Object.assign({},n.tn)},e=new d(t);return e.parent=this,e}in(n,t){if(n.register){const e=n.register(t,n);if(!e||!e.resolve)throw Reporter.error(40);return e}const e=new w(n,1,n);return t.g.set(n,e),e}}const Registration=n("Registration",{J:(n,value)=>new w(n,0,value),singleton:(n,value)=>new w(n,1,value),transient:(n,value)=>new w(n,2,value),l:(n,t)=>new w(n,3,t),on:(n,t)=>new w(t,5,n),un:(n,...t)=>({register(e){const i=e.en(n);if(null!==i){let n=null;if(i.U){const r=i.U(e);null!==r&&(n=r.construct(e,t))}else n=i.resolve(e,e);null!==n&&n.register(e)}}})}),m=[{p:(n,t)=>new t,Z:l},{p:(n,t,e)=>new t(n.get(e[0])),Z:l},{p:(n,t,e)=>new t(n.get(e[0]),n.get(e[1])),Z:l},{p:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2])),Z:l},{p:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2]),n.get(e[3])),Z:l},{p:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2]),n.get(e[3]),n.get(e[4])),Z:l}],k={p:l,Z:l};n("RuntimeCompilationResources",class{constructor(n){this.context=n}find(n,name){const t=n.ln(name),e=this.context.tn;let i=e[t];if(void 0===i&&(i=e[t]=this.context.en(t,0)),null!==i&&i.U){const n=i.U(this.context);if(null!==n){const t=n.V.description;return void 0===t?null:t}}return null}create(n,name){const t=n.ln(name),e=this.context.tn;let i=e[t];if(void 0===i&&(i=e[t]=this.context.en(t,0)),null!==i){const n=i.resolve(this.context,this.context);return void 0===n?null:n}return null}})}}});
