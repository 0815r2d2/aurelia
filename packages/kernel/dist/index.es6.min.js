function createContainer(...e){return 0===arguments.length?new Container:(new Container).register(...e)}function createResolver(e){return function(n){const Key=function Key(e,n,t){DI.inject(Key)(e,n,t)};return Key.resolve=function(t,r){return e(n,t,r)},Key}}function transientDecorator(e){return DI.transient(e)}function transient(e){return void 0===e?transientDecorator:transientDecorator(e)}function singletonDecorator(e){return DI.singleton(e)}function singleton(e){return void 0===e?singletonDecorator:singletonDecorator(e)}function isRegistry(e){return"function"==typeof e.register}function validateKey(e){if(null==e||e===Object)throw Reporter.error(5)}function buildAllResponse(e,n,t){if(e instanceof Resolver&&4===e.strategy){const r=e.state;let o=r.length;const i=Array(o);for(;o--;)i[o]=r[o].resolve(n,t);return i}return[e.resolve(n,t)]}function invokeWithDynamicDependencies(e,n,t,r){let o,i=t.length,l=Array(i);for(;i--;){if(null==(o=t[i]))throw Reporter.error(7,`Index ${i}.`);l[i]=e.get(o)}return void 0!==r&&(l=l.concat(r)),Reflect.construct(n,l)}const $global=(function(){if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return Function("","return this")()}catch(e){return{}}})(),$now=(function(){let e,n,t,r,o;if(null!=$global.performance&&$global.performance.now){const e=$global.performance;return function(){return e.now()}}if(null!=$global.process&&$global.process.t){const i=function(){return(e()-r)/1e6};return n=$global.process.t,t=(e=function(){let e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*$global.process.o(),r=t-o,i}})(),{i:$mark,l:$measure,s:$getEntriesByName,u:$getEntriesByType,h:$clearMarks,v:$clearMeasures}=(function(){if(null!=$global.performance&&$global.performance.mark&&$global.performance.measure&&$global.performance.getEntriesByName&&$global.performance.getEntriesByType&&$global.performance.clearMarks&&$global.performance.clearMeasures){const e=$global.performance;return{i(name){e.mark(name)},l(name,n,t){e.measure(name,n,t)},s:name=>e.getEntriesByName(name),u:type=>e.getEntriesByType(type),h(name){e.clearMarks(name)},v(name){e.clearMeasures(name)}}}if(null!=$global.process&&$global.process.t){const e=[],n={},t=function(n,value){let t=0;const r=e.length,o=[];for(;r>t;t++)e[t][n]===value&&o.push(e[t]);return o},r=function(type,name){let n,t=e.length;for(;t--;)(n=e[t]).entryType!==type||void 0!==name&&n.name!==name||e.splice(t,1)};return{i(name){const t={name,entryType:"mark",startTime:$now(),duration:0};e.push(t),n[name]=t},l(name,t,r){let o,i;if(void 0!==r&&void 0===n[r])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${r}' does not exist.`);if(void 0!==t&&void 0===n[t])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${t}' does not exist.`);o=n[t]?n[t].startTime:0,i=n[r]?n[r].startTime:$now(),e.push({name,entryType:"measure",startTime:o,duration:i-o})},s:name=>t("name",name),u:type=>t("entryType",type),h(name){r("mark",name)},v(name){r("measure",name)}}}})(),$raf=(function(){const e=["moz","webkit"],n="AnimationFrame";let t=$global[`request${n}`],r=$global[`cancel${n}`]||$global[`cancelRequest${n}`];for(let o=0;!t&&2>o;++o)t=$global[`${e[o]}Request${n}`],r=$global[`${e[o]}Cancel${n}`]||$global[`${e[o]}CancelRequest${n}`];if(!t||!r){let e=0,n=0;const o=[],i=1e3/60;t=function(t){let r,l;return 0===o.length&&(r=$now(),e=(l=Math.max(0,i-(r-e)))+r,setTimeout(function(){const n=o.slice(0);o.length=0;for(let t=0;n.length>t;++t)if(!n[t].$)try{n[t].m(e)}catch(e){setTimeout(function(){throw e},0)}},Math.round(l))),o.push({R:++n,m:t,$:0}),n},r=function(e){for(let n=0;o.length>n;++n)o[n].R===e&&(o[n].$=1)}}const o=function(e){return t.call($global,e)};return o.cancel=function(){r.apply($global,arguments)},$global.requestAnimationFrame=t,$global.cancelAnimationFrame=r,o})(),camelCaseLookup={},kebabCaseLookup={},PLATFORM={global:$global,k:Object.freeze([]),g:Object.freeze({}),D(){},now:$now,mark:$mark,measure:$measure,getEntriesByName:$getEntriesByName,getEntriesByType:$getEntriesByType,clearMarks:$clearMarks,clearMeasures:$clearMeasures,p(e){let value=camelCaseLookup[e];if(void 0!==value)return value;value="";let n,t=1,r=0;for(let o=0,i=e.length;i>o;++o)"-"===(n=e.charAt(o))||"."===n||"_"===n?r=1:(value+=t?n.toLowerCase():r?n.toUpperCase():n,r=0),t=0;return camelCaseLookup[e]=value},C(e){let value=kebabCaseLookup[e];if(void 0!==value)return value;value="";let n,t,r=1;for(let o=0,i=e.length;i>o;++o)t=(n=e.charAt(o)).toLowerCase(),value+=r?t:n!==t?`-${t}`:t,r=0;return kebabCaseLookup[e]=value},toArray(e){const n=e.length,t=Array(n);for(let r=0;n>r;++r)t[r]=e[r];return t},requestAnimationFrame:e=>$raf(e),clearInterval(e){$global.clearInterval(e)},clearTimeout(e){$global.clearTimeout(e)},setInterval:(e,n,...t)=>$global.setInterval(e,n,...t),setTimeout:(e,n,...t)=>$global.setTimeout(e,n,...t)},Reporter={write(e,...n){},error:e=>Error(`Code ${e}`)},Tracer={enabled:0,I:0,M:null,L(name,e){},A(){},W(e){},T(e){},F(e){},O(){}};"getOwnMetadata"in Reflect||(Reflect.B=function(e,n){return n[e]},Reflect.S=function(e,n){return function(t){t[e]=n}});const DI={N:createContainer,q:e=>Reflect.B("design:paramtypes",e)||PLATFORM.k,K(e){let dependencies;if(void 0===e.inject)dependencies=DI.q(e);else{dependencies=[];let n=e;for(;"function"==typeof n;)n.hasOwnProperty("inject")&&dependencies.push(...n.inject),n=Object.getPrototypeOf(n)}return dependencies},j(e){const Key=function(n,t,r){if(Key.P=e||"Interface",void 0===n)throw Reporter.error(16,Key.P,Key);return(n.inject||(n.inject=[]))[r]=Key,n};return Key._=function(){return Key},Key.G=function(e){return Key.G=function(){throw Reporter.error(17,Key)},Key.register=function(n,t){const r=t||Key;return e({H:value=>n.J(r,new Resolver(r,0,value)),singleton:value=>n.J(r,new Resolver(r,1,value)),transient:value=>n.J(r,new Resolver(r,2,value)),m:value=>n.J(r,new Resolver(r,3,value)),U:e=>n.J(r,new Resolver(r,5,e))})},Key},Key},inject:(...dependencies)=>(function(e,n,t){if("number"==typeof t){if(!e.hasOwnProperty("inject")){const n=DI.q(e);e.inject=n.slice()}1===dependencies.length&&(e.inject[t]=dependencies[0])}else if(n){const t=e.constructor;(t.inject||(t.inject={}))[n]=dependencies[0]}else if(t)t.value.inject=dependencies;else if(0===dependencies.length){const n=DI.q(e);e.inject=n.slice()}else e.inject=dependencies}),transient:e=>(e.register=function(n){return Registration.transient(e,e).register(n,e)},e),singleton:e=>(e.register=function(n){return Registration.singleton(e,e).register(n,e)},e)},IContainer=DI.j("IContainer")._(),IServiceLocator=IContainer,inject=DI.inject,all=createResolver((e,n,t)=>t.getAll(e)),lazy=createResolver((e,n,t)=>{let r=null;return()=>(null===r&&(r=t.get(e)),r)}),optional=createResolver((e,n,t)=>t.has(e,1)?t.get(e):null);var ResolverStrategy;(function(e){e[e.H=0]="instance",e[e.singleton=1]="singleton",e[e.transient=2]="transient",e[e.m=3]="callback",e[e.V=4]="array",e[e.X=5]="alias"})(ResolverStrategy||(ResolverStrategy={}));class Resolver{constructor(e,strategy,n){this.key=e,this.strategy=strategy,this.state=n}register(e,n){return e.J(n||this.key,this)}resolve(e,n){switch(this.strategy){case 0:return this.state;case 1:{this.strategy=0;const n=e.Y(this.state);return this.state=n.construct(e)}case 2:return e.Y(this.state).construct(n);case 3:return this.state(e,n,this);case 4:return this.state[0].resolve(e,n);case 5:return e.get(this.state);default:throw Reporter.error(6,this.strategy)}}Y(e){switch(this.strategy){case 1:case 2:return e.Y(this.state);default:return null}}}class Factory{constructor(e,n,dependencies){this.Z=e,this.ee=n,this.dependencies=dependencies,this.ne=null}static create(e){const dependencies=DI.K(e);return new Factory(e,classInvokers[dependencies.length]||fallbackInvoker,dependencies)}construct(e,n){const t=this.ne;let r=void 0!==n?this.ee.te(e,this.Z,this.dependencies,n):this.ee.re(e,this.Z,this.dependencies);if(null===t)return r;for(let e=0,n=t.length;n>e;++e)r=t[e](r);return r}oe(e){return null===this.ne&&(this.ne=[]),this.ne.push(e),1}}const containerResolver={resolve:(e,n)=>n};class Container{constructor(e={}){this.parent=null,this.ie=new Map,this.le=e,this.se=e.se||(e.se=new Map),this.ae=e.ae||(e.ae=Object.create(null)),this.ie.set(IContainer,containerResolver)}register(...e){for(let n=0,t=e.length;t>n;++n){const t=e[n];if(isRegistry(t))t.register(this);else{const e=Object.keys(t);for(let n=0,r=e.length;r>n;++n){const value=t[e[n]];isRegistry(value)?value.register(this):this.register(value)}}}return this}J(e,n){validateKey(e);const t=this.ie,r=t.get(e);return void 0===r?(t.set(e,n),"string"==typeof e&&(this.ae[e]=n)):r instanceof Resolver&&4===r.strategy?r.state.push(n):t.set(e,new Resolver(e,4,[r,n])),n}oe(e,n){const t=this.ue(e);if(null===t)return 0;if(t.Y){const e=t.Y(this);return null===e?0:e.oe(n)}return 0}ue(e,n=1){if(validateKey(e),e.resolve)return e;let t=this;for(;null!==t;){const r=t.ie.get(e);if(void 0!==r)return r;if(null===t.parent)return n?this.ce(e,t):null;t=t.parent}return null}has(e,n=0){return this.ie.has(e)?1:n&&null!==this.parent?this.parent.has(e,1):0}get(e){if(validateKey(e),e.resolve)return e.resolve(this,this);let n=this;for(;null!==n;){let t=n.ie.get(e);if(void 0!==t)return t.resolve(n,this);if(null===n.parent)return(t=this.ce(e,n)).resolve(n,this);n=n.parent}}getAll(e){validateKey(e);let n=this;for(;null!==n;){const t=n.ie.get(e);if(void 0!==t)return buildAllResponse(t,n,this);if(null===this.parent)return PLATFORM.k;n=n.parent}return PLATFORM.k}Y(e){let n=this.se.get(e);return void 0===n&&(n=Factory.create(e),this.se.set(e,n)),n}fe(){const e=this.le,n={se:e.se,ae:Object.assign({},e.ae)},t=new Container(n);return t.parent=this,t}ce(e,n){if(e.register){const t=e.register(n,e);if(!t||!t.resolve)throw Reporter.error(40);return t}const t=new Resolver(e,1,e);return n.ie.set(e,t),t}}const Registration={H:(e,value)=>new Resolver(e,0,value),singleton:(e,value)=>new Resolver(e,1,value),transient:(e,value)=>new Resolver(e,2,value),m:(e,n)=>new Resolver(e,3,n),X:(e,n)=>new Resolver(n,5,e),he:(e,...n)=>({register(t){const r=t.ue(e);if(null!==r){let e=null;if(r.Y){const o=r.Y(t);null!==o&&(e=o.construct(t,n))}else e=r.resolve(t,t);null!==e&&e.register(t)}}})},classInvokers=[{re:(e,n)=>new n,te:invokeWithDynamicDependencies},{re:(e,n,t)=>new n(e.get(t[0])),te:invokeWithDynamicDependencies},{re:(e,n,t)=>new n(e.get(t[0]),e.get(t[1])),te:invokeWithDynamicDependencies},{re:(e,n,t)=>new n(e.get(t[0]),e.get(t[1]),e.get(t[2])),te:invokeWithDynamicDependencies},{re:(e,n,t)=>new n(e.get(t[0]),e.get(t[1]),e.get(t[2]),e.get(t[3])),te:invokeWithDynamicDependencies},{re:(e,n,t)=>new n(e.get(t[0]),e.get(t[1]),e.get(t[2]),e.get(t[3]),e.get(t[4])),te:invokeWithDynamicDependencies}],fallbackInvoker={re:invokeWithDynamicDependencies,te:invokeWithDynamicDependencies},Profiler=(function(){const e=PLATFORM.now,n=[];let t;const r={ve(name){n.push(name);let r=0,o=0;return{L(){1==++r&&(o=e(),++t[name].$e),++t[name].be},A(){0==--r&&(t[name].duration+=e()-o)}}},enable(){t={};for(const e of n)t[e]={name:e,duration:0,$e:0,be:0};r.enabled=1},disable(){r.enabled=0},me(e){Object.keys(t).map(e=>t[e]).sort((e,n)=>n.duration-e.duration).forEach(n=>{e(n.name,n.duration,n.$e,n.be)})},enabled:0};return r})();class RuntimeCompilationResources{constructor(e){this.context=e}find(e,name){const n=e.Re(name),t=this.context.ae;let r=t[n];if(void 0===r&&(r=t[n]=this.context.ue(n,0)),null!==r&&r.Y){const e=r.Y(this.context);if(null!==e){const n=e.Z.description;return void 0===n?null:n}}return null}create(e,name){const n=e.Re(name),t=this.context.ae;let r=t[n];if(void 0===r&&(r=t[n]=this.context.ue(n,0)),null!==r){const e=r.resolve(this.context,this.context);return void 0===e?null:e}return null}}export{all,DI,IContainer,inject,IServiceLocator,lazy,optional,Registration,singleton,transient,PLATFORM,Reporter,Tracer,Profiler,RuntimeCompilationResources};
