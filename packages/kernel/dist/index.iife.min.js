this.au=this.au||{},this.au.kernel=(function(n){"use strict";function t(n){return function(t){const Key=function Key(n,t,e){DI.inject(Key)(n,t,e)};return Key.resolve=function(e,r){return n(t,e,r)},Key}}function e(n){return DI.transient(n)}function r(n){return DI.singleton(n)}function i(n){return"function"==typeof n.register}function o(n){if(null==n||n===Object)throw Reporter.error(5)}function s(n,t,e){if(n instanceof y&&4===n.strategy){const r=n.state;let i=r.length;const o=Array(i);for(;i--;)o[i]=r[i].resolve(t,e);return o}return[n.resolve(t,e)]}function u(n,t,e,r){let i,o=e.length,s=Array(o);for(;o--;){if(null==(i=e[o]))throw Reporter.error(7,`Index ${o}.`);s[o]=n.get(i)}return void 0!==r&&(s=s.concat(r)),Reflect.construct(t,s)}const l=(function(){if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return Function("","return this")()}catch(n){return{}}})(),c=(function(){let n,t,e,r,i;if(null!=l.performance&&l.performance.now){const n=l.performance;return function(){return n.now()}}if(null!=l.process&&l.process.t){const o=function(){return(n()-r)/1e6};return t=l.process.t,e=(n=function(){let n;return 1e9*(n=t())[0]+n[1]})(),i=1e9*l.process.i(),r=e-i,o}})(),{o:f,s:a,u:h,l:m,h:v,m:w}=(function(){if(null!=l.performance&&l.performance.mark&&l.performance.measure&&l.performance.getEntriesByName&&l.performance.getEntriesByType&&l.performance.clearMarks&&l.performance.clearMeasures){const n=l.performance;return{o(name){n.mark(name)},s(name,t,e){n.measure(name,t,e)},u:name=>n.getEntriesByName(name),l:type=>n.getEntriesByType(type),h(name){n.clearMarks(name)},m(name){n.clearMeasures(name)}}}if(null!=l.process&&l.process.t){const n=[],t={},e=function(t,value){let e=0;const r=n.length,i=[];for(;r>e;e++)n[e][t]===value&&i.push(n[e]);return i},r=function(type,name){let t,e=n.length;for(;e--;)(t=n[e]).entryType!==type||void 0!==name&&t.name!==name||n.splice(e,1)};return{o(name){const e={name,entryType:"mark",startTime:c(),duration:0};n.push(e),t[name]=e},s(name,e,r){let i,o;if(void 0!==r&&void 0===t[r])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${r}' does not exist.`);if(void 0!==e&&void 0===t[e])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${e}' does not exist.`);i=t[e]?t[e].startTime:0,o=t[r]?t[r].startTime:c(),n.push({name,entryType:"measure",startTime:i,duration:o-i})},u:name=>e("name",name),l:type=>e("entryType",type),h(name){r("mark",name)},m(name){r("measure",name)}}}})(),d=(function(){const n=["moz","webkit"],t="AnimationFrame";let e=l[`request${t}`],r=l[`cancel${t}`]||l[`cancelRequest${t}`];for(let i=0;!e&&2>i;++i)e=l[`${n[i]}Request${t}`],r=l[`${n[i]}Cancel${t}`]||l[`${n[i]}CancelRequest${t}`];if(!e||!r){let n=0,t=0;const i=[],o=1e3/60;e=function(e){let r,s;return 0===i.length&&(r=c(),n=(s=Math.max(0,o-(r-n)))+r,setTimeout(function(){const t=i.slice(0);i.length=0;for(let e=0;t.length>e;++e)if(!t[e].v)try{t[e].k(n)}catch(n){setTimeout(function(){throw n},0)}},Math.round(s))),i.push({$:++t,k:e,v:0}),t},r=function(n){for(let t=0;i.length>t;++t)i[t].$===n&&(i[t].v=1)}}const i=function(n){return e.call(l,n)};return i.cancel=function(){r.apply(l,arguments)},l.requestAnimationFrame=e,l.cancelAnimationFrame=r,i})(),k={},$={},PLATFORM={global:l,M:Object.freeze([]),R:Object.freeze({}),C(){},now:c,mark:f,measure:a,getEntriesByName:h,getEntriesByType:m,clearMarks:v,clearMeasures:w,A(n){let value=k[n];if(void 0!==value)return value;value="";let t,e=1,r=0;for(let i=0,o=n.length;o>i;++i)"-"===(t=n.charAt(i))||"."===t||"_"===t?r=1:(value+=e?t.toLowerCase():r?t.toUpperCase():t,r=0),e=0;return k[n]=value},B(n){let value=$[n];if(void 0!==value)return value;value="";let t,e,r=1;for(let i=0,o=n.length;o>i;++i)e=(t=n.charAt(i)).toLowerCase(),value+=r?e:t!==e?`-${e}`:e,r=0;return $[n]=value},toArray(n){const t=n.length,e=Array(t);for(let r=0;t>r;++r)e[r]=n[r];return e},requestAnimationFrame:n=>d(n),clearInterval(n){l.clearInterval(n)},clearTimeout(n){l.clearTimeout(n)},setInterval:(n,t,...e)=>l.setInterval(n,t,...e),setTimeout:(n,t,...e)=>l.setTimeout(n,t,...e)},Reporter={write(n,...t){},error:n=>Error(`Code ${n}`)},Tracer={enabled:0,O:0,W:null,L(name,n){},T(){},q(n){},F(n){},D(n){},N(){}};"getOwnMetadata"in Reflect||(Reflect.S=function(n,t){return t[n]},Reflect.g=function(n,t){return function(e){e[n]=t}});const DI={p(...n){return 0===arguments.length?new R:(new R).register(...n)},j:n=>Reflect.S("design:paramtypes",n)||PLATFORM.M,_(n){let dependencies;if(void 0===n.inject)dependencies=DI.j(n);else{dependencies=[];let t=n;for(;"function"==typeof t;)t.hasOwnProperty("inject")&&dependencies.push(...t.inject),t=Object.getPrototypeOf(t)}return dependencies},G(n){const Key=function(t,e,r){if(Key.H=n||"Interface",void 0===t)throw Reporter.error(16,Key.H,Key);return(t.inject||(t.inject=[]))[r]=Key,t};return Key.I=function(){return Key},Key.J=function(n){return Key.J=function(){throw Reporter.error(17,Key)},Key.register=function(t,e){const r=e||Key;return n({K:value=>t.U(r,new y(r,0,value)),singleton:value=>t.U(r,new y(r,1,value)),transient:value=>t.U(r,new y(r,2,value)),k:value=>t.U(r,new y(r,3,value)),V:n=>t.U(r,new y(r,5,n))})},Key},Key},inject:(...dependencies)=>(function(n,t,e){if("number"==typeof e){if(!n.hasOwnProperty("inject")){const t=DI.j(n);n.inject=t.slice()}1===dependencies.length&&(n.inject[e]=dependencies[0])}else if(t){const e=n.constructor;(e.inject||(e.inject={}))[t]=dependencies[0]}else if(e)e.value.inject=dependencies;else if(0===dependencies.length){const t=DI.j(n);n.inject=t.slice()}else n.inject=dependencies}),transient:n=>(n.register=function(t){return Registration.transient(n,n).register(t,n)},n),singleton:n=>(n.register=function(t){return Registration.singleton(n,n).register(t,n)},n)},IContainer=DI.G("IContainer").I(),IServiceLocator=IContainer,inject=DI.inject,all=t((n,t,e)=>e.getAll(n)),lazy=t((n,t,e)=>{let r=null;return()=>(null===r&&(r=e.get(n)),r)}),optional=t((n,t,e)=>e.has(n,1)?e.get(n):null);var b;(function(n){n[n.K=0]="instance",n[n.singleton=1]="singleton",n[n.transient=2]="transient",n[n.k=3]="callback",n[n.X=4]="array",n[n.Y=5]="alias"})(b||(b={}));class y{constructor(n,strategy,t){this.key=n,this.strategy=strategy,this.state=t}register(n,t){return n.U(t||this.key,this)}resolve(n,t){switch(this.strategy){case 0:return this.state;case 1:{this.strategy=0;const t=n.Z(this.state);return this.state=t.construct(n)}case 2:return n.Z(this.state).construct(t);case 3:return this.state(n,t,this);case 4:return this.state[0].resolve(n,t);case 5:return n.get(this.state);default:throw Reporter.error(6,this.strategy)}}Z(n){switch(this.strategy){case 1:case 2:return n.Z(this.state);default:return null}}}class M{constructor(n,t,dependencies){this.P=n,this.nn=t,this.dependencies=dependencies,this.tn=null}static create(n){const dependencies=DI._(n);return new M(n,C[dependencies.length]||A,dependencies)}construct(n,t){const e=this.tn;let r=void 0!==t?this.nn.en(n,this.P,this.dependencies,t):this.nn.rn(n,this.P,this.dependencies);if(null===e)return r;for(let n=0,t=e.length;t>n;++n)r=e[n](r);return r}in(n){return null===this.tn&&(this.tn=[]),this.tn.push(n),1}}const E={resolve:(n,t)=>t};class R{constructor(n={}){this.parent=null,this.on=new Map,this.sn=n,this.un=n.un||(n.un=new Map),this.ln=n.ln||(n.ln=Object.create(null)),this.on.set(IContainer,E)}register(...n){for(let t=0,e=n.length;e>t;++t){const e=n[t];if(i(e))e.register(this);else{const n=Object.keys(e);for(let t=0,r=n.length;r>t;++t){const value=e[n[t]];i(value)?value.register(this):this.register(value)}}}return this}U(n,t){o(n);const e=this.on,r=e.get(n);return void 0===r?(e.set(n,t),"string"==typeof n&&(this.ln[n]=t)):r instanceof y&&4===r.strategy?r.state.push(t):e.set(n,new y(n,4,[r,t])),t}in(n,t){const e=this.cn(n);if(null===e)return 0;if(e.Z){const n=e.Z(this);return null===n?0:n.in(t)}return 0}cn(n,t=1){if(o(n),n.resolve)return n;let e=this;for(;null!==e;){const r=e.on.get(n);if(void 0!==r)return r;if(null===e.parent)return t?this.fn(n,e):null;e=e.parent}return null}has(n,t=0){return this.on.has(n)?1:t&&null!==this.parent?this.parent.has(n,1):0}get(n){if(o(n),n.resolve)return n.resolve(this,this);let t=this;for(;null!==t;){let e=t.on.get(n);if(void 0!==e)return e.resolve(t,this);if(null===t.parent)return(e=this.fn(n,t)).resolve(t,this);t=t.parent}}getAll(n){o(n);let t=this;for(;null!==t;){const e=t.on.get(n);if(void 0!==e)return s(e,t,this);if(null===this.parent)return PLATFORM.M;t=t.parent}return PLATFORM.M}Z(n){let t=this.un.get(n);return void 0===t&&(t=M.create(n),this.un.set(n,t)),t}an(){const n=this.sn,t={un:n.un,ln:Object.assign({},n.ln)},e=new R(t);return e.parent=this,e}fn(n,t){if(n.register){const e=n.register(t,n);if(!e||!e.resolve)throw Reporter.error(40);return e}const e=new y(n,1,n);return t.on.set(n,e),e}}const Registration={K:(n,value)=>new y(n,0,value),singleton:(n,value)=>new y(n,1,value),transient:(n,value)=>new y(n,2,value),k:(n,t)=>new y(n,3,t),Y:(n,t)=>new y(t,5,n),hn:(n,...t)=>({register(e){const r=e.cn(n);if(null!==r){let n=null;if(r.Z){const i=r.Z(e);null!==i&&(n=i.construct(e,t))}else n=r.resolve(e,e);null!==n&&n.register(e)}}})},C=[{rn:(n,t)=>new t,en:u},{rn:(n,t,e)=>new t(n.get(e[0])),en:u},{rn:(n,t,e)=>new t(n.get(e[0]),n.get(e[1])),en:u},{rn:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2])),en:u},{rn:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2]),n.get(e[3])),en:u},{rn:(n,t,e)=>new t(n.get(e[0]),n.get(e[1]),n.get(e[2]),n.get(e[3]),n.get(e[4])),en:u}],A={rn:u,en:u},Profiler=(function(){const n=PLATFORM.now,t=[];let e;const r={mn(name){t.push(name);let r=0,i=0;return{L(){1==++r&&(i=n(),++e[name].vn),++e[name].wn},T(){0==--r&&(e[name].duration+=n()-i)}}},enable(){e={};for(const n of t)e[n]={name:n,duration:0,vn:0,wn:0};r.enabled=1},disable(){r.enabled=0},dn(n){Object.keys(e).map(n=>e[n]).sort((n,t)=>t.duration-n.duration).forEach(t=>{n(t.name,t.duration,t.vn,t.wn)})},enabled:0};return r})();return n.all=all,n.DI=DI,n.IContainer=IContainer,n.inject=inject,n.IServiceLocator=IServiceLocator,n.lazy=lazy,n.optional=optional,n.Registration=Registration,n.singleton=function(n){return void 0===n?r:r(n)},n.transient=function(n){return void 0===n?e:e(n)},n.PLATFORM=PLATFORM,n.Reporter=Reporter,n.Tracer=Tracer,n.Profiler=Profiler,n.RuntimeCompilationResources=class{constructor(n){this.context=n}find(n,name){const t=n.kn(name),e=this.context.ln;let r=e[t];if(void 0===r&&(r=e[t]=this.context.cn(t,0)),null!==r&&r.Z){const n=r.Z(this.context);if(null!==n){const t=n.P.description;return void 0===t?null:t}}return null}create(n,name){const t=n.kn(name),e=this.context.ln;let r=e[t];if(void 0===r&&(r=e[t]=this.context.cn(t,0)),null!==r){const n=r.resolve(this.context,this.context);return void 0===n?null:n}return null}},n})({});
