System.register("runtimeHtml",["@aurelia/kernel","@aurelia/runtime"],function(t){"use strict";var DI,Registration,Reporter,PLATFORM,LifecycleFlags,hasBind,hasUnbind,targetObserver,DelegationStrategy,ITargetObserverLocator,SetterObserver,IDOM,ITargetAccessorLocator,ILifecycle,BindingBehaviorResource,BindingMode,IObserverLocator,buildTemplateDefinition,HydrateElementInstruction,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator,bindable,CustomElementResource,INode,ITemplateFactory,CompiledTemplate,NodeSequence,IExpressionParser,instructionRenderer,ensureExpression,MultiInterpolationBinding,InterpolationBinding,addBindable,Binding,IProjectorLocator,BasicConfiguration;return{t:[function(t){DI=t.DI,Registration=t.Registration,Reporter=t.Reporter,PLATFORM=t.PLATFORM},function(t){LifecycleFlags=t.LifecycleFlags,hasBind=t.hasBind,hasUnbind=t.hasUnbind,targetObserver=t.targetObserver,DelegationStrategy=t.DelegationStrategy,ITargetObserverLocator=t.ITargetObserverLocator,SetterObserver=t.SetterObserver,IDOM=t.IDOM,ITargetAccessorLocator=t.ITargetAccessorLocator,ILifecycle=t.ILifecycle,BindingBehaviorResource=t.BindingBehaviorResource,BindingMode=t.BindingMode,IObserverLocator=t.IObserverLocator,buildTemplateDefinition=t.buildTemplateDefinition,HydrateElementInstruction=t.HydrateElementInstruction,IRenderable=t.IRenderable,ITargetedInstruction=t.ITargetedInstruction,IRenderingEngine=t.IRenderingEngine,CompositionCoordinator=t.CompositionCoordinator,bindable=t.bindable,CustomElementResource=t.CustomElementResource,INode=t.INode,ITemplateFactory=t.ITemplateFactory,CompiledTemplate=t.CompiledTemplate,NodeSequence=t.NodeSequence,IExpressionParser=t.IExpressionParser,instructionRenderer=t.instructionRenderer,ensureExpression=t.ensureExpression,MultiInterpolationBinding=t.MultiInterpolationBinding,InterpolationBinding=t.InterpolationBinding,addBindable=t.addBindable,Binding=t.Binding,IProjectorLocator=t.IProjectorLocator,BasicConfiguration=t.BasicConfiguration}],s(){function s(t,s,i,e){var h,r,n=arguments.length,o=3>n?s:null===e?e=Object.getOwnPropertyDescriptor(s,i):e;if("object"==typeof Reflect&&"function"==typeof Reflect.i)o=Reflect.i(t,s,i,e);else for(r=t.length-1;r>=0;r--)(h=t[r])&&(o=(3>n?h(o):n>3?h(s,i,o):h(s,i))||o);return n>3&&o&&Object.defineProperty(s,i,o),o}function i(t){return t.h&&t.h()[0]||t.o&&t.o()[0]||t.path&&t.path[0]||t.target}function e(){this.u(),this.l=1}function h(t){t.l=0;let s=i(t);const h=[];for(;s;){if(s.g){const i=s.g[t.type];i&&(t.stopPropagation!==e&&(t.u=t.stopPropagation,t.stopPropagation=e),h.push(i))}s=s.parentNode}for(let s=h.length-1;s>=0&&!t.l;s--){const i=h[s];"handleEvent"in i?i.p(t):i(t)}}function r(t){t.l=0;let s=i(t);for(;s&&!t.l;){if(s.m){const i=s.m[t.type];i&&(t.stopPropagation!==e&&(t.u=t.stopPropagation,t.stopPropagation=e),"handleEvent"in i?i.p(t):i(t))}s=s.parentNode}}function n(t,s){return t===s}function o(t){const s=i(t);if(this.target===s)return this.A(t)}function isHTMLTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function createElement(dom,t,s,i){return"string"==typeof t?(function(dom,s,i,e){const instructions=[],h=[],dependencies=[],r=dom.createElement(t);let n=0;return i&&Object.keys(i).forEach(to=>{const value=i[to];isHTMLTargetedInstruction(value)?(n=1,instructions.push(value)):dom.setAttribute(r,to,value)}),n&&(dom.v(r),h.push(instructions)),e&&c(dom,r,e,h,dependencies),new RenderPlan(dom,r,h,dependencies)})(dom,0,s,i):(function(dom,t,s,i){const e=t.description.name,instructions=[],h=[instructions],dependencies=[],r=[],bindables=t.description.bindables,n=dom.createElement(e);return dom.v(n),dependencies.includes(t)||dependencies.push(t),instructions.push(new HydrateElementInstruction(e,r)),s&&Object.keys(s).forEach(to=>{const value=s[to];if(isHTMLTargetedInstruction(value))r.push(value);else{r.push(bindables[to]?{type:"re",to,value}:new SetAttributeInstruction(value,to))}}),i&&c(dom,n,i,h,dependencies),new RenderPlan(dom,n,h,dependencies)})(dom,t,s,i)}function c(dom,t,s,i,dependencies){for(let e=0,h=s.length;h>e;++e){const h=s[e];switch(typeof h){case"string":dom.appendChild(t,dom.createTextNode(h));break;case"object":dom.C(h)?dom.appendChild(t,h):"mergeInto"in h&&h.T(t,i,dependencies)}}}var HTMLTargetedInstructionType,NodeType,u,l;t({createElement,HTMLTargetedInstructionType:void 0,isHTMLTargetedInstruction,NodeType:void 0});class Listener{constructor(dom,t,s,i,e,preventDefault,h,r){this.dom=dom,this.R=null,this.B=null,this.$state=0,this.S=s,this.O=r,this.preventDefault=preventDefault,this.L=i,this.target=e,this.I=t,this.M=h}j(t){const s=this.$scope.V;s.k=t;const i=this.L.evaluate(LifecycleFlags.D,this.$scope,this.O);return delete s.k,1!=i&&this.preventDefault&&t.preventDefault(),i}p(t){this.j(t)}N(t,s){if(2&this.$state){if(this.$scope===s)return;this.H(t|LifecycleFlags.P)}this.$state|=1,this.$scope=s;const i=this.L;hasBind(i)&&i.bind(t,s,this),this.U=this.M.addEventListener(this.dom,this.target,this.I,this,this.S),this.$state|=2,this.$state&=-2}H(t){if(!(2&this.$state))return;this.$state|=64;const s=this.L;hasUnbind(s)&&s.F(t,this.$scope,this),this.$scope=null,this.U.G(),this.U=null,this.$state&=-67}q(t,s){}X(t,s,i){}}t("Listener",Listener);let AttributeNSAccessor=t("AttributeNSAccessor",class{constructor(t,s,i,e,h){this.Z=1,this.attributeName=e,this.$=t,this.J=s,this.oldValue=this.K=this.W(),this.Y=i,this._=h}W(){return this.J.getAttributeNS(this._,this.attributeName)}tt(t){this.J.setAttributeNS(this._,this.attributeName,t)}});AttributeNSAccessor=t("AttributeNSAccessor",s([targetObserver("")],AttributeNSAccessor));const a=LifecycleFlags.st|LifecycleFlags.it,f=LifecycleFlags.et|LifecycleFlags.ht,d=(t,s)=>t===s;let CheckedObserver=t("CheckedObserver",class{constructor(t,s,i,e){this.Z=1,this.U=i,this.$=t,this.J=s,this.rt=e}W(){return this.K}tt(t,s){this.nt||(this.nt=this.J.ot&&(this.J.ot.ct||this.J.ot.value),this.nt&&this.nt.subscribe(this)),this.ut&&(this.ut.lt(this),this.ut=null),"checkbox"===this.J.type&&Array.isArray(t)&&(this.ut=this.rt.at(t),this.ut.ft(this)),this.dt()}gt(){this.dt(),this.bt(f)}X(t,s,i){this.dt(),this.bt(i)}dt(){const value=this.K,t=this.J,s=t.hasOwnProperty("model")?t.ct:t.value,i=t.wt||d;t.checked="radio"===t.type?!!i(value,s):1==value?1:Array.isArray(value)?-1!==value.findIndex(t=>!!i(t,s)):0}bt(t){t&LifecycleFlags.P||this.K!==this.oldValue&&this.pt(this.K,this.oldValue,t)}p(){let value=this.K;const t=this.J,s=t.hasOwnProperty("model")?t.ct:t.value;let i;const e=t.wt||d;if("checkbox"===t.type){if(Array.isArray(value))return i=value.findIndex(t=>!!e(t,s)),void(t.checked&&-1===i?value.push(s):t.checked||-1===i||value.splice(i,1));value=t.checked}else{if(!t.checked)return;value=s}this.oldValue=this.K,this.K=value,this.bt(a)}subscribe(t){this.At()||this.U.subscribe(this.J,this),this.vt(t)}unsubscribe(t){this.Ct(t)&&!this.At()&&this.U.G()}F(){this.ut&&(this.ut.lt(this),this.ut=null),this.nt&&this.nt.unsubscribe(this)}});CheckedObserver=t("CheckedObserver",s([targetObserver()],CheckedObserver));let ClassAttributeAccessor=t("ClassAttributeAccessor",class{constructor(t,s){this.Z=1,this.Tt=1,this.$=t,this.Et=null,this.J=s,this.version=0}W(){return this.K}tt(t){const s=this.Et||{};let i,name,e=this.version;if(t.length){const h=this.J;for(let r=0,n=(i=t.split(/\s+/)).length;n>r;r++)(name=i[r]).length&&(s[name]=e,h.classList.add(name))}if(this.Et=s,this.version+=1,0!==e)for(name in e-=1,s)s.hasOwnProperty(name)&&s[name]===e&&this.J.classList.remove(name)}});ClassAttributeAccessor=t("ClassAttributeAccessor",s([targetObserver("")],ClassAttributeAccessor));let DataAttributeAccessor=t("DataAttributeAccessor",class{constructor(t,s,i){this.Z=1,this.$=t,this.J=s,this.oldValue=this.K=this.W(),this.Y=i}W(){return this.J.getAttribute(this.Y)}tt(t){null===t?this.J.removeAttribute(this.Y):this.J.setAttribute(this.Y,t)}});DataAttributeAccessor=t("DataAttributeAccessor",s([targetObserver()],DataAttributeAccessor));let ElementPropertyAccessor=t("ElementPropertyAccessor",class{constructor(t,s,i){this.Z=1,this.$=t,this.J=s,this.Y=i}W(){return this.J[this.Y]}tt(value){this.J[this.Y]=value}});ElementPropertyAccessor=t("ElementPropertyAccessor",s([targetObserver("")],ElementPropertyAccessor));class ListenerTracker{constructor(dom,t,s,i){this.dom=dom,this.Rt=i,this.count=0,this.Bt=t,this.listener=s}St(){this.count++,1===this.count&&this.dom.addEventListener(this.Bt,this.listener,null,this.Rt)}Ot(){this.count--,0===this.count&&this.dom.removeEventListener(this.Bt,this.listener,null,this.Rt)}G(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.Bt,this.listener,null,this.Rt))}}t("ListenerTracker",ListenerTracker);class DelegateOrCaptureSubscription{constructor(t,s,i,e){this.yt=t,this.Lt=s,this.I=i,s[i]=e}G(){this.yt.Ot(),this.Lt[this.I]=null}}t("DelegateOrCaptureSubscription",DelegateOrCaptureSubscription);class TriggerSubscription{constructor(dom,t,s,i){this.dom=dom,this.target=t,this.I=s,this.It=i,dom.addEventListener(s,i,t)}G(){this.dom.removeEventListener(this.I,this.It,this.target)}}t("TriggerSubscription",TriggerSubscription);class EventSubscriber{constructor(dom,t){this.dom=dom,this.Mt=t,this.target=null,this.U=null}subscribe(t,s){this.target=t,this.U=s;const i=this.dom.addEventListener,e=this.Mt;for(let h=0,r=e.length;r>h;++h)i(e[h],s,t)}G(){const t=this.target,s=this.U,i=this.Mt,e=this.dom.removeEventListener;for(let h=0,r=i.length;r>h;++h)e(i[h],s,t);this.target=this.U=null}}t("EventSubscriber",EventSubscriber);const IEventManager=t("IEventManager",DI.Vt("IEventManager").jt(t=>t.singleton(g)));class g{constructor(){this.kt={},this.Dt={},this.kt={},this.Dt={}}addEventListener(dom,t,s,i,strategy){let e,n,o;if(strategy===DelegationStrategy.Nt){(o=(e=this.kt)[s]||(e[s]=new ListenerTracker(dom,s,r,0))).St();const h=t.m||(t.m={});return new DelegateOrCaptureSubscription(o,h,s,i)}if(strategy===DelegationStrategy.Ht){(o=(n=this.Dt)[s]||(n[s]=new ListenerTracker(dom,s,h,1))).St();const e=t.g||(t.g={});return new DelegateOrCaptureSubscription(o,e,s,i)}return new TriggerSubscription(dom,t,s,i)}G(){let t;const{kt:s,Dt:i}=this;for(t in s)s[t].G();for(t in i)i[t].G()}}const b=LifecycleFlags.st|LifecycleFlags.it,w={Pt:1,Ut:1,zt:1};let SelectValueObserver=t("SelectValueObserver",class{constructor(t,s,i,e,dom){this.Z=1,this.$=t,this.J=s,this.U=i,this.rt=e,this.dom=dom}W(){return this.K}tt(t,s){const i=Array.isArray(t);if(!i&&null!=t&&this.J.multiple)throw Error("Only null or Array instances can be bound to a multi-select.");this.ut&&(this.ut.lt(this),this.ut=null),i&&(this.ut=this.rt.at(t),this.ut.ft(this)),this.Ft(),this.bt(s)}gt(t){this.Ft(t)}X(t,s,i){this.Gt(t,i)}bt(t){if(t&LifecycleFlags.P)return;const s=this.oldValue,i=this.K;i!==s&&this.pt(i,s,t)}p(){this.qt()&&this.bt(b)}Ft(t){const s=this.K,i=Array.isArray(s),e=this.J,h=e.wt||n,r=e.options;let o=r.length;for(;o--;){const t=r[o],e=t.hasOwnProperty("model")?t.ct:t.value;t.selected=i?-1!==s.findIndex(t=>!!h(e,t)):!!h(e,s)}}qt(){const t=this.J,s=t.options,i=s.length,e=this.K;let h=0;if(t.multiple){if(!Array.isArray(e))return 1;let r;const o=t.wt||n,c=[];for(;i>h;)(r=s[h]).selected&&c.push(r.hasOwnProperty("model")?r.ct:r.value),++h;for(h=0;e.length>h;){const t=e[h];-1===c.findIndex(s=>!!o(t,s))?e.splice(h,1):++h}for(h=0;c.length>h;){const t=c[h];-1===e.findIndex(s=>!!o(t,s))&&e.push(t),++h}return 0}let value=null;for(;i>h;){const t=s[h];if(t.selected){value=t.hasOwnProperty("model")?t.ct:t.value;break}++h}return this.oldValue=this.K,this.K=value,1}subscribe(t){this.At()||this.U.subscribe(this.J,this),this.vt(t)}unsubscribe(t){this.Ct(t)&&!this.At()&&this.U.G()}bind(){this.Xt=this.dom.Zt(this.J,this.$t.bind(this),w)}F(){this.Xt.disconnect(),this.Xt=null,this.ut&&(this.ut.lt(this),this.ut=null)}$t(){this.Ft(),this.qt()&&this.bt(b)}});SelectValueObserver=t("SelectValueObserver",s([targetObserver()],SelectValueObserver));let StyleAttributeAccessor=t("StyleAttributeAccessor",class{constructor(t,s){this.Z=1,this.oldValue=this.K=s.style.cssText,this.$=t,this.J=s,this.Jt=null,this.version=0}W(){return this.J.style.cssText}Kt(t,value){let s="";null!=value&&"function"==typeof value.indexOf&&-1!==value.indexOf("!important")&&(s="important",value=value.replace("!important","")),this.J.style.setProperty(t,value,s)}tt(t){const s=this.Jt||{};let i,e=this.version;if(null!==t)if(t instanceof Object){let value;for(i in t)t.hasOwnProperty(i)&&(value=t[i],s[i=i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)]=e,this.Kt(i,value))}else if(t.length){const h=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let r;for(;null!==(r=h.exec(t));)(i=r[1])&&(s[i]=e,this.Kt(i,r[2]))}if(this.Jt=s,this.version+=1,0!==e)for(i in e-=1,s)s.hasOwnProperty(i)&&s[i]===e&&this.J.style.removeProperty(i)}});StyleAttributeAccessor=t("StyleAttributeAccessor",s([targetObserver()],StyleAttributeAccessor));const p={button:"",Qt:"on",color:"#000000",Wt:"",Yt:"",email:"",_t:"",hidden:"",xt:"",ts:"",number:"",password:"",ss:"on",range:"50",reset:"",search:"",submit:"",tel:"",text:"",time:"",url:"",es:""},m=LifecycleFlags.st|LifecycleFlags.it;let ValueAttributeObserver=t("ValueAttributeObserver",class{constructor(t,s,i,e){if(this.Z=1,this.U=e,this.$=t,this.J=s,this.Y=i,"value"===i){const t=s.type;this.defaultValue=p[t||"text"],"file"===t&&(this.flush=this.hs)}else this.defaultValue="";this.oldValue=this.K=s[i]}W(){return this.J[this.Y]}tt(t,s){this.J[this.Y]=t,s&LifecycleFlags.P||this.pt(this.K,this.oldValue,s)}p(){const t=this.oldValue=this.K,s=this.K=this.W();t!==s&&(this.pt(s,t,m),this.oldValue=s)}subscribe(t){this.At()||(this.oldValue=this.W(),this.U.subscribe(this.J,this)),this.vt(t)}unsubscribe(t){this.Ct(t)&&!this.At()&&this.U.G()}hs(){const t=this.K;this.oldValue!==t&&""===t&&(this.tt(t,this.rs),this.oldValue=this.K)}});ValueAttributeObserver=t("ValueAttributeObserver",s([targetObserver("")],ValueAttributeObserver));const A="http://www.w3.org/1999/xlink",v="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",T=((u=Object.create(null))["ns"]=["actuate",A],u["os"]=["arcrole",A],u["cs"]=["href",A],u["us"]=["role",A],u["ls"]=["show",A],u["as"]=["title",A],u["fs"]=["type",A],u["ds"]=["lang",v],u["gs"]=["space",v],u.bs=["xmlns",C],u["ws"]=["xlink",C],u),E=["change","input"],R=["change"],B=["change","input","blur","keyup","paste"],S=["scroll"],O=(function(t){return t.ps=1,t.style=1,t.ms=1,t.checked=1,t.value=1,t.ct=1,t["ns"]=1,t["os"]=1,t["cs"]=1,t["us"]=1,t["ls"]=1,t["as"]=1,t["fs"]=1,t["ds"]=1,t["gs"]=1,t.bs=1,t["ws"]=1,t})(Object.create(null));class TargetObserverLocator{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITargetObserverLocator,this).register(t)}As(t,s,i,e){switch(e){case"checked":return new CheckedObserver(t,i,new EventSubscriber(this.dom,E),s);case"value":return"SELECT"===i.tagName?new SelectValueObserver(t,i,new EventSubscriber(this.dom,R),s,this.dom):new ValueAttributeObserver(t,i,e,new EventSubscriber(this.dom,E));case"files":return new ValueAttributeObserver(t,i,e,new EventSubscriber(this.dom,E));case"textContent":case"innerHTML":return new ValueAttributeObserver(t,i,e,new EventSubscriber(this.dom,B));case"scrollTop":case"scrollLeft":return new ValueAttributeObserver(t,i,e,new EventSubscriber(this.dom,S));case"class":return new ClassAttributeAccessor(t,i);case"style":case"css":return new StyleAttributeAccessor(t,i);case"model":return new SetterObserver(i,e);case"role":return new DataAttributeAccessor(t,i,e);default:if(void 0!==T[e]){const s=T[e];return new AttributeNSAccessor(t,i,e,s[0],s[1])}const h=e.slice(0,5);if("aria-"===h||"data-"===h)return new DataAttributeAccessor(t,i,e)}return null}vs(t,s){return 1==O[s]}Cs(t){return this.dom.C(t)}}t("TargetObserverLocator",TargetObserverLocator),TargetObserverLocator.inject=[IDOM];class TargetAccessorLocator{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITargetAccessorLocator,this).register(t)}Ts(t,s,i){switch(i){case"textContent":return new ElementPropertyAccessor(t,s,i);case"class":return new ClassAttributeAccessor(t,s);case"style":case"css":return new StyleAttributeAccessor(t,s);case"src":case"href":case"role":return new DataAttributeAccessor(t,s,i);default:if(void 0!==T[i]){const e=T[i];return new AttributeNSAccessor(t,s,i,e[0],e[1])}const e=i.slice(0,5);return"aria-"===e||"data-"===e?new DataAttributeAccessor(t,s,i):new ElementPropertyAccessor(t,s,i)}}Cs(t){return this.dom.C(t)}}t("TargetAccessorLocator",TargetAccessorLocator),TargetAccessorLocator.inject=[IDOM],t("ISVGAnalyzer",DI.Vt("ISVGAnalyzer").jt(t=>t.singleton(class{Es(t,s){return 0}})));class AttrBindingBehavior{bind(t,s,i){i.targetObserver=new DataAttributeAccessor(i.O.get(ILifecycle),i.target,i.Rs)}F(t,s,i){}}t("AttrBindingBehavior",AttrBindingBehavior),BindingBehaviorResource.Bs("attr",AttrBindingBehavior);class SelfBindingBehavior{bind(t,s,i){if(!i.j||!i.I)throw Reporter.error(8);i.A=i.j,i.j=o}F(t,s,i){i.j=i.A,i.A=null}}t("SelfBindingBehavior",SelfBindingBehavior),BindingBehaviorResource.Bs("self",SelfBindingBehavior);class UpdateTriggerBindingBehavior{constructor(t){this.rt=t}bind(t,s,i,...e){if(0===e.length)throw Reporter.error(9);if(i.mode!==BindingMode.Ss&&i.mode!==BindingMode.Os)throw Reporter.error(10);const h=this.rt.As(i.target,i.Rs);if(!h.U)throw Reporter.error(10);i.targetObserver=h,h.ys=i.targetObserver.U,h.U=new EventSubscriber(i.O.get(IDOM),e)}F(t,s,i){i.targetObserver.U.G(),i.targetObserver.U=i.targetObserver.ys,i.targetObserver.ys=null}}t("UpdateTriggerBindingBehavior",UpdateTriggerBindingBehavior),UpdateTriggerBindingBehavior.inject=[IObserverLocator],BindingBehaviorResource.Bs("updateTrigger",UpdateTriggerBindingBehavior),(function(HTMLTargetedInstructionType){HTMLTargetedInstructionType.Ls="ha",HTMLTargetedInstructionType.Is="hb",HTMLTargetedInstructionType.Ms="hc",HTMLTargetedInstructionType.setAttribute="hd"})(HTMLTargetedInstructionType||(HTMLTargetedInstructionType=t("HTMLTargetedInstructionType",{}))),t("TextBindingInstruction",class{constructor(from){this.type="ha",this.from=from}}),t("TriggerBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=1,this.strategy=DelegationStrategy.js,this.to=to}}),t("DelegateBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.Nt,this.to=to}}),t("CaptureBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.Ht,this.to=to}}),t("StylePropertyBindingInstruction",class{constructor(from,to){this.type="hc",this.from=from,this.to=to}});class SetAttributeInstruction{constructor(value,to){this.type="hd",this.to=to,this.value=value}}t("SetAttributeInstruction",SetAttributeInstruction);class RenderPlan{constructor(dom,t,instructions,dependencies){this.dom=dom,this.dependencies=dependencies,this.instructions=instructions,this.Vs=t}get ks(){return this.Ds||(this.Ds=buildTemplateDefinition(null,null,this.Vs,null,"string"==typeof this.Vs,null,this.instructions,this.dependencies))}Ns(t,s){return t.Ns(this.dom,this.ks,null,s)}Hs(t,s){return this.Ps(t,s).create()}Ps(t,s){return t.Ps(this.dom,this.ks,s)}T(t,instructions,dependencies){this.dom.appendChild(t,this.Vs),instructions.push(...this.instructions),dependencies.push(...this.dependencies)}}t("RenderPlan",RenderPlan);const y=["subject","composing"];class Compose{constructor(dom,t,s,i,e){this.dom=dom,this.subject=null,this.Us=0,this.zs=e,this.Fs=null,this.Gs=t,this.qs=i,this.zs.Xs=(()=>{this.Us=0}),this.properties=s.instructions.filter(t=>!y.includes(t.to)).reduce((t,s)=>(s.to&&(t[s.to]=s),t),{})}Zs(t){this.$s(this.subject,null,t),this.zs.Zs(t,this.$scope)}Js(t){this.zs.Js(t)}Ks(t){this.zs.Ks(t)}Qs(t){this.Fs=null,this.zs.Qs(t)}Ws(t){this.zs.Ws(t)}Ys(t,s,i){this.$s(t,s,i)}$s(t,s,i){this.Fs!==t&&(this.Fs=t,t=t instanceof Promise?t.then(t=>this._s(t,i)):this._s(t,i),this.Us=1,this.zs.xs(t,i))}_s(t,s){const i=this.ti(t);return i?(i.si(this.ii.host),i.ei(this.Gs.$scope),i):null}ti(t){return t?"lockScope"in t?t:"createView"in t?t.Hs(this.qs,this.Gs.$context):"create"in t?t.create():"template"in t?this.qs.Ps(this.dom,t,this.Gs.$context).create():createElement(this.dom,t,this.properties,this.ii.children).Hs(this.qs,this.Gs.$context):null}}t("Compose",Compose),Compose.inject=[IDOM,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator],s([bindable],Compose.prototype,"subject",void 0),s([bindable],Compose.prototype,"composing",void 0),CustomElementResource.Bs({name:"au-compose",containerless:1},Compose),(function(NodeType){NodeType[NodeType.Element=1]="Element",NodeType[NodeType.Attr=2]="Attr",NodeType[NodeType.Text=3]="Text",NodeType[NodeType.CDATASection=4]="CDATASection",NodeType[NodeType.EntityReference=5]="EntityReference",NodeType[NodeType.Entity=6]="Entity",NodeType[NodeType.ProcessingInstruction=7]="ProcessingInstruction",NodeType[NodeType.Comment=8]="Comment",NodeType[NodeType.Document=9]="Document",NodeType[NodeType.DocumentType=10]="DocumentType",NodeType[NodeType.DocumentFragment=11]="DocumentFragment",NodeType[NodeType.Notation=12]="Notation"})(NodeType||(NodeType=t("NodeType",{}))),t("HTMLDOM",class{constructor(t,s,i,e,h){this.hi=t,this.ri=s,this.Node=i,this.Element=e,this.HTMLElement=h}addEventListener(t,s,i,e){(i||this.ri).addEventListener(t,s,e)}appendChild(t,s){t.appendChild(s)}cloneNode(t,s){return t.cloneNode(0!=s)}ni(t){if(this.oi(t))return t;if(null===t.parentNode)throw Reporter.error(52);const s=this.ri.createComment("au-end"),i=this.ri.createComment("au-start");return t.parentNode.replaceChild(s,t),s.parentNode.insertBefore(i,s),s.ci=i,i.$nodes=null,s}createDocumentFragment(t){if(null==t)return this.ri.createDocumentFragment();if(this.C(t)){if(void 0!==t.content)return t.content;const s=this.ri.createDocumentFragment();return s.appendChild(t),s}return this.ui(t).content}createElement(name){return this.ri.createElement(name)}Zt(t,s,i){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>PLATFORM.li};const e=new MutationObserver(s);return e.observe(t,i),e}ui(t){if(null==t)return this.ri.createElement("template");const template=this.ri.createElement("template");return template.innerHTML=""+t,template}createTextNode(t){return this.ri.createTextNode(t)}insertBefore(t,s){s.parentNode.insertBefore(t,s)}ai(t){return"AU-M"===t.nodeName}C(t){return null!=t&&t.nodeType>0}oi(t){return"au-end"===t.textContent}v(t){t.className="au"}fi(t,s){t.di(INode,s),t.di(this.Node,s),t.di(this.Element,s),t.di(this.HTMLElement,s)}remove(t){t.remove?t.remove():t.parentNode.removeChild(t)}removeEventListener(t,s,i,e){(i||this.ri).removeEventListener(t,s,e)}setAttribute(t,name,value){t.setAttribute(name,value)}});class L{constructor(dom,t){this.dom=dom,this.firstChild=t,this.lastChild=t,this.childNodes=[t],this.targets=[new j(t)]}gi(){return this.targets}insertBefore(t){t.parentNode.insertBefore(this.firstChild,t)}bi(t){t.appendChild(this.firstChild)}remove(){this.firstChild.remove()}}class I{constructor(dom,t){this.dom=dom,this.wi=t;const s=t.querySelectorAll(".au");let i=0,e=s.length;const targets=this.targets=Array(e);for(;e>i;){const t=s[i];targets[i]="AU-M"===t.nodeName?this.dom.ni(t):t,++i}const h=t.childNodes;i=0;const childNodes=this.childNodes=Array(e=h.length);for(;e>i;)childNodes[i]=h[i],++i;this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.start=this.end=null}gi(){return this.targets}insertBefore(t){if(t.parentNode.insertBefore(this.wi,t),"au-end"===t.textContent){this.end=t;const s=this.start=t.ci;s.$nodes=null===s.$nodes?this:PLATFORM.pi}}bi(t){t.appendChild(this.wi),this.start=this.end=null}remove(){const t=this.wi;if(null!==this.start&&this.start.$nodes===this){const s=this.end;let i,e=this.start.nextSibling;for(;e!==s;)i=e.nextSibling,t.appendChild(e),e=i;this.start.$nodes=null,this.start=this.end=null}else{let s=this.firstChild;if(s.parentNode!==t){const i=this.lastChild;let e;for(;null!==s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}}}}class M{constructor(dom,t){this.dom=dom;const s=dom.createDocumentFragment(t),childNodes=s.childNodes;switch(childNodes.length){case 0:return void(this.mi=(()=>NodeSequence.empty));case 2:const t=childNodes[0];if("AU-M"===t.nodeName||"#comment"===t.nodeName){const t=childNodes[1];if(3===t.nodeType&&0===t.textContent.length)return this.Ai=0,this.Vs=t,void(this.vi=L)}default:this.Ai=1,this.Vs=s,this.vi=I}}mi(){return new this.vi(this.dom,this.Vs.cloneNode(this.Ai))}}class j{get parentNode(){return this.nextSibling.parentNode}constructor(t){this.nextSibling=t,this.textContent=""}remove(){}}(l=j.prototype).previousSibling=null,l.childNodes=PLATFORM.li,l.nodeName="AU-M",l.nodeType=1;class V{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITemplateFactory,this).register(t)}create(t,s){return new CompiledTemplate(this.dom,s,new M(this.dom,s.template),t)}}V.inject=[IDOM];let k=class{constructor(t,s){this.Ci=t,this.rt=s}Ti(dom,t,s,i,e){const h=i.nextSibling;let r;dom.ai(i)&&dom.remove(i);const n=ensureExpression(this.Ci,e.from,2048);r=n.Ei?new MultiInterpolationBinding(this.rt,n,h,"textContent",BindingMode.Ri,t):new InterpolationBinding(n.Bi,n,h,"textContent",BindingMode.Ri,this.rt,t,1),addBindable(s,r)}};k.inject=[IExpressionParser,IObserverLocator],k=s([instructionRenderer("ha")],k);let D=class{constructor(t,s){this.Ci=t,this.M=s}Ti(dom,t,s,i,e){const h=ensureExpression(this.Ci,e.from,80|e.strategy+6),r=new Listener(dom,e.to,e.strategy,h,i,e.preventDefault,this.M,t);addBindable(s,r)}};D.inject=[IExpressionParser,IEventManager],D=s([instructionRenderer("hb")],D);let N=class{Ti(dom,t,s,i,e){i.setAttribute(e.to,e.value)}};N=s([instructionRenderer("hd")],N);let H=class{constructor(t,s){this.Ci=t,this.rt=s}Ti(dom,t,s,i,e){const h=ensureExpression(this.Ci,e.from,48|BindingMode.Ri),r=new Binding(h,i.style,e.to,BindingMode.Ri,this.rt,t);addBindable(s,r)}};H.inject=[IExpressionParser,IObserverLocator],H=s([instructionRenderer("hc")],H);const P={mode:"open"},U={Pt:1};class z{constructor(dom,$customElement,host,t){let shadowOptions;this.dom=dom,this.host=host,this.shadowRoot=host.Si(shadowOptions=null!=t.shadowOptions&&"object"==typeof t.shadowOptions&&"mode"in t.shadowOptions?t.shadowOptions:P),this.host.$customElement=$customElement,this.shadowRoot.$customElement=$customElement}get children(){return this.shadowRoot.childNodes}Oi(t){this.dom.Zt(this.shadowRoot,t,U)}yi(){return this.shadowRoot}Li(t){t.bi(this.shadowRoot)}Ii(t){t.remove()}}class F{constructor(dom,$customElement,host){this.childNodes=host.childNodes.length?PLATFORM.toArray(host.childNodes):PLATFORM.li,this.host=dom.ni(host),this.host.$customElement=$customElement}get children(){return this.childNodes}Oi(t){new MutationObserver(t).observe(this.host,U)}yi(){return this.host.Mi()}Li(t){t.insertBefore(this.host)}Ii(t){t.remove()}}class G{constructor($customElement,host){this.host=host,this.host.$customElement=$customElement}get children(){return this.host.childNodes}Oi(t){}yi(){return this.host.Mi()}Li(t){t.bi(this.host)}Ii(t){t.remove()}}const IProjectorLocatorRegistration=t("IProjectorLocatorRegistration",class{static register(t){return Registration.singleton(IProjectorLocator,this).register(t)}ji(dom,t,host,def){if(def.shadowOptions||def.hasSlots){if(def.containerless)throw Reporter.error(21);return new z(dom,t,host,def)}return def.containerless?new F(dom,t,host):new G(t,host)}}),ITargetAccessorLocatorRegistration=t("ITargetAccessorLocatorRegistration",TargetAccessorLocator),ITargetObserverLocatorRegistration=t("ITargetObserverLocatorRegistration",TargetObserverLocator),ITemplateFactoryRegistration=t("ITemplateFactoryRegistration",V),DefaultComponents=t("DefaultComponents",[IProjectorLocatorRegistration,ITargetAccessorLocatorRegistration,ITargetObserverLocatorRegistration,ITemplateFactoryRegistration]),AttrBindingBehaviorRegistration=t("AttrBindingBehaviorRegistration",AttrBindingBehavior),SelfBindingBehaviorRegistration=t("SelfBindingBehaviorRegistration",SelfBindingBehavior),UpdateTriggerBindingBehaviorRegistration=t("UpdateTriggerBindingBehaviorRegistration",UpdateTriggerBindingBehavior),ComposeRegistration=t("ComposeRegistration",Compose),DefaultResources=t("DefaultResources",[AttrBindingBehaviorRegistration,SelfBindingBehaviorRegistration,UpdateTriggerBindingBehaviorRegistration,ComposeRegistration]),ListenerBindingRendererRegistration=t("ListenerBindingRendererRegistration",D),SetAttributeRendererRegistration=t("SetAttributeRendererRegistration",N),StylePropertyBindingRendererRegistration=t("StylePropertyBindingRendererRegistration",H),TextBindingRendererRegistration=t("TextBindingRendererRegistration",k),DefaultRenderers=t("DefaultRenderers",[ListenerBindingRendererRegistration,SetAttributeRendererRegistration,StylePropertyBindingRendererRegistration,TextBindingRendererRegistration]);t("BasicConfiguration",{register:t=>BasicConfiguration.register(t).register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Vi(){return this.register(DI.Vi())}})}}});
