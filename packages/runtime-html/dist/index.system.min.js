System.register("runtimeHtml",["@aurelia/kernel","@aurelia/runtime"],function(t){"use strict";var DI,Registration,Reporter,PLATFORM,hasBind,hasUnbind,targetObserver,DelegationStrategy,ITargetObserverLocator,SetterObserver,IDOM,ITargetAccessorLocator,ILifecycle,BindingBehaviorResource,BindingMode,IObserverLocator,buildTemplateDefinition,HydrateElementInstruction,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator,bindable,CustomElementResource,DOM,INode,ITemplateFactory,CompiledTemplate,NodeSequence,IExpressionParser,instructionRenderer,ensureExpression,MultiInterpolationBinding,InterpolationBinding,addBinding,Binding,IProjectorLocator,RuntimeBasicConfiguration;return{t:[function(t){DI=t.DI,Registration=t.Registration,Reporter=t.Reporter,PLATFORM=t.PLATFORM},function(t){hasBind=t.hasBind,hasUnbind=t.hasUnbind,targetObserver=t.targetObserver,DelegationStrategy=t.DelegationStrategy,ITargetObserverLocator=t.ITargetObserverLocator,SetterObserver=t.SetterObserver,IDOM=t.IDOM,ITargetAccessorLocator=t.ITargetAccessorLocator,ILifecycle=t.ILifecycle,BindingBehaviorResource=t.BindingBehaviorResource,BindingMode=t.BindingMode,IObserverLocator=t.IObserverLocator,buildTemplateDefinition=t.buildTemplateDefinition,HydrateElementInstruction=t.HydrateElementInstruction,IRenderable=t.IRenderable,ITargetedInstruction=t.ITargetedInstruction,IRenderingEngine=t.IRenderingEngine,CompositionCoordinator=t.CompositionCoordinator,bindable=t.bindable,CustomElementResource=t.CustomElementResource,DOM=t.DOM,INode=t.INode,ITemplateFactory=t.ITemplateFactory,CompiledTemplate=t.CompiledTemplate,NodeSequence=t.NodeSequence,IExpressionParser=t.IExpressionParser,instructionRenderer=t.instructionRenderer,ensureExpression=t.ensureExpression,MultiInterpolationBinding=t.MultiInterpolationBinding,InterpolationBinding=t.InterpolationBinding,addBinding=t.addBinding,Binding=t.Binding,IProjectorLocator=t.IProjectorLocator,RuntimeBasicConfiguration=t.RuntimeBasicConfiguration}],s(){function s(t,s,i,e){var n,r,h=arguments.length,o=3>h?s:null===e?e=Object.getOwnPropertyDescriptor(s,i):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,s,i,e);else for(r=t.length-1;r>=0;r--)(n=t[r])&&(o=(3>h?n(o):h>3?n(s,i,o):n(s,i))||o);return h>3&&o&&Object.defineProperty(s,i,o),o}function i(t){return t.i&&t.i()[0]||t.h&&t.h()[0]||t.path&&t.path[0]||t.target}function e(){this.o(),this.l=1}function n(t){t.l=0;let s=i(t);const n=[];for(;s;){if(s.u){const i=s.u[t.type];i&&(t.stopPropagation!==e&&(t.o=t.stopPropagation,t.stopPropagation=e),n.push(i))}s=s.parentNode}for(let s=n.length-1;s>=0&&!t.l;s--){const i=n[s];"handleEvent"in i?i.g(t):i(t)}}function r(t){t.l=0;let s=i(t);for(;s&&!t.l;){if(s.p){const i=s.p[t.type];i&&(t.stopPropagation!==e&&(t.o=t.stopPropagation,t.stopPropagation=e),"handleEvent"in i?i.g(t):i(t))}s=s.parentNode}}function h(t,s){return t===s}function o(t,s,i){if(1==R[s])return 1;const e=s.slice(0,5);return R[s]="aria-"===e||"data-"===e||i.m(t,s)}function c(t){const s=i(t);if(this.target===s)return this.v(t)}function isHTMLTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function createElement(dom,t,s,i){return"string"==typeof t?(function(dom,s,i,e){const instructions=[],n=[],dependencies=[],r=dom.createElement(t);let h=0;return i&&Object.keys(i).forEach(to=>{const value=i[to];isHTMLTargetedInstruction(value)?(h=1,instructions.push(value)):dom.setAttribute(r,to,value)}),h&&(dom.A(r),n.push(instructions)),e&&l(dom,r,e,n,dependencies),new RenderPlan(dom,r,n,dependencies)})(dom,0,s,i):(function(dom,t,s,i){const e=t.description.name,instructions=[],n=[instructions],dependencies=[],r=[],bindables=t.description.bindables,h=dom.createElement(e);return dom.A(h),dependencies.includes(t)||dependencies.push(t),instructions.push(new HydrateElementInstruction(e,r)),s&&Object.keys(s).forEach(to=>{const value=s[to];if(isHTMLTargetedInstruction(value))r.push(value);else{r.push(bindables[to]?{type:"re",to,value}:new SetAttributeInstruction(value,to))}}),i&&l(dom,h,i,n,dependencies),new RenderPlan(dom,h,n,dependencies)})(dom,t,s,i)}function l(dom,t,s,i,dependencies){for(let e=0,n=s.length;n>e;++e){const n=s[e];switch(typeof n){case"string":dom.appendChild(t,dom.createTextNode(n));break;case"object":dom.C(n)?dom.appendChild(t,n):"mergeInto"in n&&n.T(t,i,dependencies)}}}var HTMLTargetedInstructionType,NodeType,u,a;t({createElement,HTMLTargetedInstructionType:void 0,isHTMLTargetedInstruction,NodeType:void 0});class Listener{constructor(dom,t,s,i,e,preventDefault,n,r){this.dom=dom,this.R=null,this.S=null,this.$state=0,this.V=s,this.B=r,this.preventDefault=preventDefault,this.O=i,this.target=e,this.L=t,this.k=n}I(t){const s=this.$scope.j;s.M=t;const i=this.O.evaluate(1048576,this.$scope,this.B);return Reflect.deleteProperty(s,"$event"),1!=i&&this.preventDefault&&t.preventDefault(),i}g(t){this.I(t)}D(t,s){if(2&this.$state){if(this.$scope===s)return;this.N(2048|t)}this.$state|=1,this.$scope=s;const i=this.O;hasBind(i)&&i.bind(t,s,this),this.P=this.k.addEventListener(this.dom,this.target,this.L,this,this.V),this.$state|=2,this.$state&=-2}N(t){if(!(2&this.$state))return;this.$state|=64;const s=this.O;hasUnbind(s)&&s.H(t,this.$scope,this),this.$scope=null,this.P.F(),this.P=null,this.$state&=-67}U(t,s,i){}$(t,s,i){}}t("Listener",Listener);let AttributeNSAccessor=t("AttributeNSAccessor",class{constructor(t,s,i,e,n){this.G=1,this.attributeName=e,this.q=t,this.X=s,this.oldValue=this.Z=this._(),this.J=i,this.K=n}_(){return this.X.getAttributeNS(this.K,this.attributeName)}W(t){this.X.setAttributeNS(this.K,this.attributeName,t)}});AttributeNSAccessor=t("AttributeNSAccessor",s([targetObserver("")],AttributeNSAccessor));const d=(t,s)=>t===s;let CheckedObserver=t("CheckedObserver",class{constructor(t,s,i,e,n){this.Y=67108879&t,this.G=1,this.P=e,this.q=s,this.X=i,this.tt=n}_(){return this.Z}W(t,s){this.st||(this.st=this.X.it&&(this.X.it.et||this.X.it.value),this.st&&this.st.subscribe(this)),this.nt&&(this.nt.rt(this),this.nt=null),"checkbox"===this.X.type&&Array.isArray(t)&&(this.nt=this.tt.ht(this.Y|s,t),this.nt.ot(this)),this.ct()}lt(){this.ct(),this.ut(448)}$(t,s,i){this.ct(),this.ut(i)}ct(){const value=this.Z,t=this.X,s=t.hasOwnProperty("model")?t.et:t.value,i=t.at||d;t.checked="radio"===t.type?!!i(value,s):1==value?1:Array.isArray(value)?-1!==value.findIndex(t=>!!i(t,s)):0}ut(t){2048&t||this.Z!==this.oldValue&&this.dt(this.Z,this.oldValue,this.Y|t)}g(){let value=this.Z;const t=this.X,s=t.hasOwnProperty("model")?t.et:t.value;let i;const e=t.at||d;if("checkbox"===t.type){if(Array.isArray(value))return i=value.findIndex(t=>!!e(t,s)),void(t.checked&&-1===i?value.push(s):t.checked||-1===i||value.splice(i,1));value=t.checked}else{if(!t.checked)return;value=s}this.oldValue=this.Z,this.Z=value,this.ut(327680)}subscribe(t){this.ft()||this.P.subscribe(this.X,this),this.gt(t)}unsubscribe(t){this.bt(t)&&!this.ft()&&this.P.F()}H(){this.nt&&(this.nt.rt(this),this.nt=null),this.st&&this.st.unsubscribe(this)}});CheckedObserver=t("CheckedObserver",s([targetObserver()],CheckedObserver));let ClassAttributeAccessor=t("ClassAttributeAccessor",class{constructor(t,s){this.G=1,this.wt=1,this.q=t,this.pt=null,this.X=s,this.version=0}_(){return this.Z}W(t){const s=this.pt||{};let i,name,e=this.version;if(t.length){const n=this.X;for(let r=0,h=(i=t.split(/\s+/)).length;h>r;r++)(name=i[r]).length&&(s[name]=e,n.classList.add(name))}if(this.pt=s,this.version+=1,0!==e)for(name in e-=1,s)s.hasOwnProperty(name)&&s[name]===e&&this.X.classList.remove(name)}});ClassAttributeAccessor=t("ClassAttributeAccessor",s([targetObserver("")],ClassAttributeAccessor));let DataAttributeAccessor=t("DataAttributeAccessor",class{constructor(t,s,i){this.G=1,this.q=t,this.X=s,this.oldValue=this.Z=this._(),this.J=i}_(){return this.X.getAttribute(this.J)}W(t){null===t?this.X.removeAttribute(this.J):this.X.setAttribute(this.J,t)}});DataAttributeAccessor=t("DataAttributeAccessor",s([targetObserver()],DataAttributeAccessor));let ElementPropertyAccessor=t("ElementPropertyAccessor",class{constructor(t,s,i){this.G=1,this.q=t,this.X=s,this.J=i}_(){return this.X[this.J]}W(value){this.X[this.J]=value}});ElementPropertyAccessor=t("ElementPropertyAccessor",s([targetObserver("")],ElementPropertyAccessor));class ListenerTracker{constructor(dom,t,s,i){this.dom=dom,this.vt=i,this.count=0,this.yt=t,this.listener=s}At(){this.count++,1===this.count&&this.dom.addEventListener(this.yt,this.listener,null,this.vt)}Ct(){this.count--,0===this.count&&this.dom.removeEventListener(this.yt,this.listener,null,this.vt)}F(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.yt,this.listener,null,this.vt))}}t("ListenerTracker",ListenerTracker);class DelegateOrCaptureSubscription{constructor(t,s,i,e){this.Tt=t,this.Et=s,this.L=i,s[i]=e}F(){this.Tt.Ct(),this.Et[this.L]=null}}t("DelegateOrCaptureSubscription",DelegateOrCaptureSubscription);class TriggerSubscription{constructor(dom,t,s,i){this.dom=dom,this.target=t,this.L=s,this.Rt=i,dom.addEventListener(s,i,t)}F(){this.dom.removeEventListener(this.L,this.Rt,this.target)}}t("TriggerSubscription",TriggerSubscription);class EventSubscriber{constructor(dom,t){this.dom=dom,this.St=t,this.target=null,this.P=null}subscribe(t,s){this.target=t,this.P=s;const i=this.dom.addEventListener,e=this.St;for(let n=0,r=e.length;r>n;++n)i(e[n],s,t)}F(){const t=this.target,s=this.P,i=this.St,e=this.dom.removeEventListener;for(let n=0,r=i.length;r>n;++n)e(i[n],s,t);this.target=this.P=null}}t("EventSubscriber",EventSubscriber);const IEventManager=t("IEventManager",DI.Bt("IEventManager").Vt(t=>t.singleton(f)));class f{constructor(){this.Ot={},this.Lt={},this.Ot={},this.Lt={}}addEventListener(dom,t,s,i,strategy){let e,h,o;if(strategy===DelegationStrategy.kt){(o=(e=this.Ot)[s]||(e[s]=new ListenerTracker(dom,s,r,0))).At();const n=t.p||(t.p={});return new DelegateOrCaptureSubscription(o,n,s,i)}if(strategy===DelegationStrategy.It){(o=(h=this.Lt)[s]||(h[s]=new ListenerTracker(dom,s,n,1))).At();const e=t.u||(t.u={});return new DelegateOrCaptureSubscription(o,e,s,i)}return new TriggerSubscription(dom,t,s,i)}F(){let t;const{Ot:s,Lt:i}=this;for(t in s)s[t].F();for(t in i)i[t].F()}}const g={jt:1,xt:1,Mt:1};let SelectValueObserver=t("SelectValueObserver",class{constructor(t,s,i,e,n,dom){this.Y=67108879&t,this.G=1,this.q=s,this.X=i,this.P=e,this.tt=n,this.dom=dom}_(){return this.Z}W(t,s){const i=Array.isArray(t);if(!i&&null!=t&&this.X.multiple)throw Error("Only null or Array instances can be bound to a multi-select.");this.nt&&(this.nt.rt(this),this.nt=null),i&&(this.nt=this.tt.ht(this.Y|s,t),this.nt.ot(this)),this.Dt(),this.ut(s)}lt(t){this.Dt(t)}$(t,s,i){this.Nt(t,this.Y|i)}ut(t){if(2048&t)return;const s=this.oldValue,i=this.Z;i!==s&&this.dt(i,s,this.Y|t)}g(){this.Pt()&&this.ut(327680)}Dt(t){const s=this.Z,i=Array.isArray(s),e=this.X,n=e.at||h,r=e.options;let o=r.length;for(;o--;){const t=r[o],e=t.hasOwnProperty("model")?t.et:t.value;t.selected=i?-1!==s.findIndex(t=>!!n(e,t)):!!n(e,s)}}Pt(){const t=this.X,s=t.options,i=s.length,e=this.Z;let n=0;if(t.multiple){if(!Array.isArray(e))return 1;let r;const o=t.at||h,c=[];for(;i>n;)(r=s[n]).selected&&c.push(r.hasOwnProperty("model")?r.et:r.value),++n;for(n=0;e.length>n;){const t=e[n];-1===c.findIndex(s=>!!o(t,s))?e.splice(n,1):++n}for(n=0;c.length>n;){const t=c[n];-1===e.findIndex(s=>!!o(t,s))&&e.push(t),++n}return 0}let value=null;for(;i>n;){const t=s[n];if(t.selected){value=t.hasOwnProperty("model")?t.et:t.value;break}++n}return this.oldValue=this.Z,this.Z=value,1}subscribe(t){this.ft()||this.P.subscribe(this.X,this),this.gt(t)}unsubscribe(t){this.bt(t)&&!this.ft()&&this.P.F()}bind(){this.Ht=this.dom.Ft(this.X,this.Ut.bind(this),g)}H(){this.Ht.disconnect(),this.Ht=null,this.nt&&(this.nt.rt(this),this.nt=null)}Ut(){this.Dt(),this.Pt()&&this.ut(65536)}});SelectValueObserver=t("SelectValueObserver",s([targetObserver()],SelectValueObserver));let StyleAttributeAccessor=t("StyleAttributeAccessor",class{constructor(t,s){this.G=1,this.oldValue=this.Z=s.style.cssText,this.q=t,this.X=s,this.zt=null,this.version=0}_(){return this.X.style.cssText}$t(t,value){let s="";null!=value&&"function"==typeof value.indexOf&&-1!==value.indexOf("!important")&&(s="important",value=value.replace("!important","")),this.X.style.setProperty(t,value,s)}W(t){const s=this.zt||{};let i,e=this.version;if(null!==t)if(t instanceof Object){let value;for(i in t)t.hasOwnProperty(i)&&(value=t[i],s[i=i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)]=e,this.$t(i,value))}else if(t.length){const n=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let r;for(;null!==(r=n.exec(t));)(i=r[1])&&(s[i]=e,this.$t(i,r[2]))}if(this.zt=s,this.version+=1,0!==e)for(i in e-=1,s)s.hasOwnProperty(i)&&s[i]===e&&this.X.style.removeProperty(i)}});StyleAttributeAccessor=t("StyleAttributeAccessor",s([targetObserver()],StyleAttributeAccessor));const ISVGAnalyzer=t("ISVGAnalyzer",DI.Bt("ISVGAnalyzer").Vt(t=>t.singleton(class{m(t,s){return 0}}))),b={button:"",Gt:"on",color:"#000000",qt:"",Xt:"",email:"",Zt:"",hidden:"",_t:"",Jt:"",number:"",password:"",Kt:"on",range:"50",reset:"",search:"",submit:"",tel:"",text:"",time:"",url:"",Qt:""};let ValueAttributeObserver=t("ValueAttributeObserver",class{constructor(t,s,i,e){if(this.G=1,this.P=e,this.q=t,this.X=s,this.J=i,"value"===i){const t=s.type;this.defaultValue=b[t||"text"],"file"===t&&(this.flush=this.Wt)}else this.defaultValue="";this.oldValue=this.Z=s[i]}_(){return this.X[this.J]}W(t,s){this.X[this.J]=t,2048&s||this.dt(this.Z,this.oldValue,s)}g(){const t=this.oldValue=this.Z,s=this.Z=this._();t!==s&&(this.dt(s,t,327680),this.oldValue=s)}subscribe(t){this.ft()||(this.oldValue=this._(),this.P.subscribe(this.X,this)),this.gt(t)}unsubscribe(t){this.bt(t)&&!this.ft()&&this.P.F()}Wt(){const t=this.Z;this.oldValue!==t&&""===t&&(this.W(t,this.Yt),this.oldValue=this.Z)}});ValueAttributeObserver=t("ValueAttributeObserver",s([targetObserver("")],ValueAttributeObserver));const w="http://www.w3.org/1999/xlink",p="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",v=((u=Object.create(null))["ts"]=["actuate",w],u["ss"]=["arcrole",w],u["es"]=["href",w],u["ns"]=["role",w],u["rs"]=["show",w],u["hs"]=["title",w],u["os"]=["type",w],u["cs"]=["lang",p],u["ls"]=["space",p],u.us=["xmlns",m],u["as"]=["xlink",m],u),y=["change","input"],A=["change"],C=["change","input","blur","keyup","paste"],T=["scroll"],E=(function(t){return t.ds=1,t.style=1,t.fs=1,t.checked=1,t.value=1,t.et=1,t["ts"]=1,t["ss"]=1,t["es"]=1,t["ns"]=1,t["rs"]=1,t["hs"]=1,t["os"]=1,t["cs"]=1,t["ls"]=1,t.us=1,t["as"]=1,t})(Object.create(null));class TargetObserverLocator{constructor(dom,t){this.dom=dom,this.gs=t}static register(t){return Registration.singleton(ITargetObserverLocator,this).register(t)}bs(t,s,i,e,n){switch(n){case"checked":return new CheckedObserver(t,s,e,new EventSubscriber(this.dom,y),i);case"value":return"SELECT"===e.tagName?new SelectValueObserver(t,s,e,new EventSubscriber(this.dom,A),i,this.dom):new ValueAttributeObserver(s,e,n,new EventSubscriber(this.dom,y));case"files":return new ValueAttributeObserver(s,e,n,new EventSubscriber(this.dom,y));case"textContent":case"innerHTML":return new ValueAttributeObserver(s,e,n,new EventSubscriber(this.dom,C));case"scrollTop":case"scrollLeft":return new ValueAttributeObserver(s,e,n,new EventSubscriber(this.dom,T));case"class":return new ClassAttributeAccessor(s,e);case"style":case"css":return new StyleAttributeAccessor(s,e);case"model":return new SetterObserver(t,e,n);case"role":return new DataAttributeAccessor(s,e,n);default:if(void 0!==v[n]){const t=v[n];return new AttributeNSAccessor(s,e,n,t[0],t[1])}if(o(e,n,this.gs))return new DataAttributeAccessor(s,e,n)}return null}ws(t,s,i){return 1==E[i]}ps(t,s){return this.dom.C(s)}}t("TargetObserverLocator",TargetObserverLocator),TargetObserverLocator.inject=[IDOM,ISVGAnalyzer];class TargetAccessorLocator{constructor(dom,t){this.dom=dom,this.gs=t}static register(t){return Registration.singleton(ITargetAccessorLocator,this).register(t)}ms(t,s,i,e){switch(e){case"textContent":return new ElementPropertyAccessor(s,i,e);case"class":return new ClassAttributeAccessor(s,i);case"style":case"css":return new StyleAttributeAccessor(s,i);case"src":case"href":case"role":return new DataAttributeAccessor(s,i,e);default:if(void 0!==v[e]){const t=v[e];return new AttributeNSAccessor(s,i,e,t[0],t[1])}return o(i,e,this.gs)?new DataAttributeAccessor(s,i,e):new ElementPropertyAccessor(s,i,e)}}ps(t,s){return this.dom.C(s)}}t("TargetAccessorLocator",TargetAccessorLocator),TargetAccessorLocator.inject=[IDOM,ISVGAnalyzer];const R={};class AttrBindingBehavior{bind(t,s,i){i.targetObserver=new DataAttributeAccessor(i.B.get(ILifecycle),i.target,i.vs)}H(t,s,i){}}t("AttrBindingBehavior",AttrBindingBehavior),BindingBehaviorResource.ys("attr",AttrBindingBehavior);class SelfBindingBehavior{bind(t,s,i){if(!i.I||!i.L)throw Reporter.error(8);i.v=i.I,i.I=c}H(t,s,i){i.I=i.v,i.v=null}}t("SelfBindingBehavior",SelfBindingBehavior),BindingBehaviorResource.ys("self",SelfBindingBehavior);class UpdateTriggerBindingBehavior{constructor(t){this.tt=t}bind(t,s,i,...e){if(0===e.length)throw Reporter.error(9);if(i.mode!==BindingMode.As&&i.mode!==BindingMode.Cs)throw Reporter.error(10);this.Y=67108879&t;const targetObserver=this.tt.bs(this.Y|t,i.target,i.vs);if(!targetObserver.P)throw Reporter.error(10);i.targetObserver=targetObserver,targetObserver.Ts=i.targetObserver.P,targetObserver.P=new EventSubscriber(i.B.get(IDOM),e)}H(t,s,i){i.targetObserver.P.F(),i.targetObserver.P=i.targetObserver.Ts,i.targetObserver.Ts=null}}t("UpdateTriggerBindingBehavior",UpdateTriggerBindingBehavior),UpdateTriggerBindingBehavior.inject=[IObserverLocator],BindingBehaviorResource.ys("updateTrigger",UpdateTriggerBindingBehavior),(function(HTMLTargetedInstructionType){HTMLTargetedInstructionType.Es="ha",HTMLTargetedInstructionType.Rs="hb",HTMLTargetedInstructionType.Ss="hc",HTMLTargetedInstructionType.setAttribute="hd"})(HTMLTargetedInstructionType||(HTMLTargetedInstructionType=t("HTMLTargetedInstructionType",{}))),t("TextBindingInstruction",class{constructor(from){this.type="ha",this.from=from}}),t("TriggerBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=1,this.strategy=DelegationStrategy.Vs,this.to=to}}),t("DelegateBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.kt,this.to=to}}),t("CaptureBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.It,this.to=to}}),t("StylePropertyBindingInstruction",class{constructor(from,to){this.type="hc",this.from=from,this.to=to}});class SetAttributeInstruction{constructor(value,to){this.type="hd",this.to=to,this.value=value}}t("SetAttributeInstruction",SetAttributeInstruction);class RenderPlan{constructor(dom,t,instructions,dependencies){this.dom=dom,this.dependencies=dependencies,this.instructions=instructions,this.Bs=t}get Os(){return this.Ls||(this.Ls=buildTemplateDefinition(null,null,this.Bs,null,"string"==typeof this.Bs,null,this.instructions,this.dependencies))}ks(t,s){return t.ks(this.dom,this.Os,null,s)}Is(t,s,i){return this.js(s,i).create()}js(t,s){return t.js(this.dom,this.Os,s)}T(t,instructions,dependencies){this.dom.appendChild(t,this.Bs),instructions.push(...this.instructions),dependencies.push(...this.dependencies)}}t("RenderPlan",RenderPlan);const S=["subject","composing"];class Compose{constructor(dom,t,s,i,e){this.dom=dom,this.subject=null,this.xs=0,this.Ms=e,this.Ds=null,this.Ns=t,this.Ps=i,this.Ms.Hs=(()=>{this.xs=0}),this.properties=s.instructions.filter(t=>!S.includes(t.to)).reduce((t,s)=>(s.to&&(t[s.to]=s),t),{})}Fs(t){this.Us(this.subject,null,t),this.Ms.Fs(t,this.$scope)}zs(t){this.Ms.zs(t)}$s(t){this.Ms.$s(t)}Gs(t){this.Ds=null,this.Ms.Gs(t)}qs(t){this.Ms.qs(t)}Xs(t,s,i){this.Us(t,s,i)}Us(t,s,i){this.Ds!==t&&(this.Ds=t,t=t instanceof Promise?t.then(t=>this.Zs(t,i)):this.Zs(t,i),this.xs=1,this.Ms._s(t,i))}Zs(t,s){const i=this.Js(t,s);return i?(i.Ks(this.Qs.host),i.Ws(this.Ns.$scope),i):null}Js(t,s){return t?"lockScope"in t?t:"createView"in t?t.Is(s,this.Ps,this.Ns.$context):"create"in t?t.create():"template"in t?this.Ps.js(this.dom,t,this.Ns.$context).create():createElement(this.dom,t,this.properties,this.Qs.children).Is(s,this.Ps,this.Ns.$context):null}}t("Compose",Compose),Compose.inject=[IDOM,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator],s([bindable],Compose.prototype,"subject",void 0),s([bindable],Compose.prototype,"composing",void 0),CustomElementResource.ys({name:"au-compose",containerless:1},Compose),(function(NodeType){NodeType[NodeType.Element=1]="Element",NodeType[NodeType.Attr=2]="Attr",NodeType[NodeType.Text=3]="Text",NodeType[NodeType.CDATASection=4]="CDATASection",NodeType[NodeType.EntityReference=5]="EntityReference",NodeType[NodeType.Entity=6]="Entity",NodeType[NodeType.ProcessingInstruction=7]="ProcessingInstruction",NodeType[NodeType.Comment=8]="Comment",NodeType[NodeType.Document=9]="Document",NodeType[NodeType.DocumentType=10]="DocumentType",NodeType[NodeType.DocumentFragment=11]="DocumentFragment",NodeType[NodeType.Notation=12]="Notation"})(NodeType||(NodeType=t("NodeType",{}))),t("HTMLDOM",class{constructor(t,s,i,e,n,r){this.window=t,this.document=s,this.Node=i,this.Element=e,this.HTMLElement=n,this.CustomEvent=r,DOM.Ys&&(Reporter.write(1001),DOM.ti()),DOM.initialize(this)}static register(t){return Registration.si(IDOM,this).register(t)}addEventListener(t,s,i,e){(i||this.document).addEventListener(t,s,e)}appendChild(t,s){t.appendChild(s)}cloneNode(t,s){return t.cloneNode(0!=s)}ii(t){if(this.ei(t))return t;if(null===t.parentNode)throw Reporter.error(52);const s=this.document.createComment("au-end"),i=this.document.createComment("au-start");return t.parentNode.replaceChild(s,t),s.parentNode.insertBefore(i,s),s.ni=i,i.$nodes=null,s}createDocumentFragment(t){if(null==t)return this.document.createDocumentFragment();if(this.C(t)){if(void 0!==t.content)return t.content;const s=this.document.createDocumentFragment();return s.appendChild(t),s}return this.ri(t).content}createElement(name){return this.document.createElement(name)}fetch(t,s){return this.window.fetch(t,s)}hi(t,s){return new this.CustomEvent(t,s)}dispatchEvent(t){this.document.dispatchEvent(t)}Ft(t,s,i){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>PLATFORM.oi};const e=new MutationObserver(s);return e.observe(t,i),e}ri(t){if(null==t)return this.document.createElement("template");const template=this.document.createElement("template");return template.innerHTML=""+t,template}createTextNode(t){return this.document.createTextNode(t)}insertBefore(t,s){s.parentNode.insertBefore(t,s)}ci(t){return"AU-M"===t.nodeName}C(t){return null!=t&&t.nodeType>0}ei(t){return"au-end"===t.textContent}A(t){t.className="au"}li(t,s){t.ui(INode,s),t.ui(this.Node,s),t.ui(this.Element,s),t.ui(this.HTMLElement,s)}remove(t){t.remove?t.remove():t.parentNode.removeChild(t)}removeEventListener(t,s,i,e){(i||this.document).removeEventListener(t,s,e)}setAttribute(t,name,value){t.setAttribute(name,value)}}),t("DOM",DOM);class V{constructor(dom,t){this.dom=dom,this.firstChild=t,this.lastChild=t,this.childNodes=[t],this.targets=[new L(t)]}ai(){return this.targets}insertBefore(t){t.parentNode.insertBefore(this.firstChild,t)}di(t){t.appendChild(this.firstChild)}remove(){this.firstChild.remove()}}class B{constructor(dom,t){this.dom=dom,this.fi=t;const s=t.querySelectorAll(".au");let i=0,e=s.length;const targets=this.targets=Array(e);for(;e>i;){const t=s[i];targets[i]="AU-M"===t.nodeName?this.dom.ii(t):t,++i}const n=t.childNodes;i=0;const childNodes=this.childNodes=Array(e=n.length);for(;e>i;)childNodes[i]=n[i],++i;this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.start=this.end=null}ai(){return this.targets}insertBefore(t){if(t.parentNode.insertBefore(this.fi,t),"au-end"===t.textContent){this.end=t;const s=this.start=t.ni;s.$nodes=null===s.$nodes?this:PLATFORM.gi}}di(t){t.appendChild(this.fi),this.start=this.end=null}remove(){const t=this.fi;if(null!==this.start&&this.start.$nodes===this){const s=this.end;let i,e=this.start.nextSibling;for(;e!==s;)i=e.nextSibling,t.appendChild(e),e=i;this.start.$nodes=null,this.start=this.end=null}else{let s=this.firstChild;if(s.parentNode!==t){const i=this.lastChild;let e;for(;null!==s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}}}}class O{constructor(dom,t){this.dom=dom;const s=dom.createDocumentFragment(t),childNodes=s.childNodes;switch(childNodes.length){case 0:return void(this.bi=(()=>NodeSequence.empty));case 2:const t=childNodes[0];if("AU-M"===t.nodeName||"#comment"===t.nodeName){const t=childNodes[1];if(3===t.nodeType&&0===t.textContent.length)return this.wi=0,this.Bs=t,void(this.pi=V)}default:this.wi=1,this.Bs=s,this.pi=B}}bi(){return new this.pi(this.dom,this.Bs.cloneNode(this.wi))}}class L{get parentNode(){return this.nextSibling.parentNode}constructor(t){this.nextSibling=t,this.textContent=""}remove(){}}(a=L.prototype).previousSibling=null,a.childNodes=PLATFORM.oi,a.nodeName="AU-M",a.nodeType=1;class k{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITemplateFactory,this).register(t)}create(t,s){return new CompiledTemplate(this.dom,s,new O(this.dom,s.template),t)}}k.inject=[IDOM];let I=class{constructor(t,s){this.mi=t,this.tt=s}vi(t,dom,s,i,e,n){const r=e.nextSibling;let h;dom.ci(e)&&dom.remove(e);const o=ensureExpression(this.mi,n.from,2048);h=o.yi?new MultiInterpolationBinding(this.tt,o,r,"textContent",BindingMode.Ai,s):new InterpolationBinding(o.Ci,o,r,"textContent",BindingMode.Ai,this.tt,s,1),addBinding(i,h)}};I.inject=[IExpressionParser,IObserverLocator],I=s([instructionRenderer("ha")],I);let j=class{constructor(t,s){this.mi=t,this.k=s}vi(t,dom,s,i,e,n){const r=ensureExpression(this.mi,n.from,80|n.strategy+6),h=new Listener(dom,n.to,n.strategy,r,e,n.preventDefault,this.k,s);addBinding(i,h)}};j.inject=[IExpressionParser,IEventManager],j=s([instructionRenderer("hb")],j);let x=class{vi(t,dom,s,i,e,n){e.setAttribute(n.to,n.value)}};x=s([instructionRenderer("hd")],x);let M=class{constructor(t,s){this.mi=t,this.tt=s}vi(t,dom,s,i,e,n){const r=ensureExpression(this.mi,n.from,48|BindingMode.Ai),h=new Binding(r,e.style,n.to,BindingMode.Ai,this.tt,s);addBinding(i,h)}};M.inject=[IExpressionParser,IObserverLocator],M=s([instructionRenderer("hc")],M);const D={mode:"open"},N={jt:1};class P{constructor(dom,$customElement,host,t){let shadowOptions;this.dom=dom,this.host=host,this.shadowRoot=host.Ti(shadowOptions=null!=t.shadowOptions&&"object"==typeof t.shadowOptions&&"mode"in t.shadowOptions?t.shadowOptions:D),this.host.$customElement=$customElement,this.shadowRoot.$customElement=$customElement}get children(){return this.shadowRoot.childNodes}Ei(t){this.dom.Ft(this.shadowRoot,t,N)}Ri(){return this.shadowRoot}Si(t){t.di(this.shadowRoot)}Vi(t){t.remove()}}class H{constructor(dom,$customElement,host){this.childNodes=host.childNodes.length?PLATFORM.toArray(host.childNodes):PLATFORM.oi,this.host=dom.ii(host),this.host.$customElement=$customElement}get children(){return this.childNodes}Ei(t){new MutationObserver(t).observe(this.host,N)}Ri(){return this.host.Bi()}Si(t){t.insertBefore(this.host)}Vi(t){t.remove()}}class F{constructor($customElement,host){this.host=host,this.host.$customElement=$customElement}get children(){return this.host.childNodes}Ei(t){}Ri(){return this.host.Bi()}Si(t){t.di(this.host)}Vi(t){t.remove()}}const IProjectorLocatorRegistration=t("IProjectorLocatorRegistration",class{static register(t){return Registration.singleton(IProjectorLocator,this).register(t)}Oi(dom,t,host,def){if(def.shadowOptions||def.hasSlots){if(def.containerless)throw Reporter.error(21);return new P(dom,t,host,def)}return def.containerless?new H(dom,t,host):new F(t,host)}}),ITargetAccessorLocatorRegistration=t("ITargetAccessorLocatorRegistration",TargetAccessorLocator),ITargetObserverLocatorRegistration=t("ITargetObserverLocatorRegistration",TargetObserverLocator),ITemplateFactoryRegistration=t("ITemplateFactoryRegistration",k),DefaultComponents=t("DefaultComponents",[IProjectorLocatorRegistration,ITargetAccessorLocatorRegistration,ITargetObserverLocatorRegistration,ITemplateFactoryRegistration]),AttrBindingBehaviorRegistration=t("AttrBindingBehaviorRegistration",AttrBindingBehavior),SelfBindingBehaviorRegistration=t("SelfBindingBehaviorRegistration",SelfBindingBehavior),UpdateTriggerBindingBehaviorRegistration=t("UpdateTriggerBindingBehaviorRegistration",UpdateTriggerBindingBehavior),ComposeRegistration=t("ComposeRegistration",Compose),DefaultResources=t("DefaultResources",[AttrBindingBehaviorRegistration,SelfBindingBehaviorRegistration,UpdateTriggerBindingBehaviorRegistration,ComposeRegistration]),ListenerBindingRendererRegistration=t("ListenerBindingRendererRegistration",j),SetAttributeRendererRegistration=t("SetAttributeRendererRegistration",x),StylePropertyBindingRendererRegistration=t("StylePropertyBindingRendererRegistration",M),TextBindingRendererRegistration=t("TextBindingRendererRegistration",I),DefaultRenderers=t("DefaultRenderers",[ListenerBindingRendererRegistration,SetAttributeRendererRegistration,StylePropertyBindingRendererRegistration,TextBindingRendererRegistration]);t("BasicConfiguration",{register:t=>RuntimeBasicConfiguration.register(t).register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Li(){return this.register(DI.Li())}})}}});
