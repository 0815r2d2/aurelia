function parseQuery(t){const s={},i=[];if(!t||!t.length)return{t:s,list:i};const h=t.replace("+"," ").split("&");for(const t of h){const h=t.split("="),e=decodeURIComponent(h.shift());if(!h.length){i.push(e);continue}const value=decodeURIComponent(h.shift());s[e]=value}return{t:s,list:i}}function mergeParameters(t,s,i){const h=parseQuery(s),e=parseQuery(t),n=Object.assign({},h.t,e.t),o=[...h.list,...e.list];if(o.length&&i&&i.length)for(const t of i)n[t]=o.shift();let r;return o.length&&Object.keys(n).length&&(n["s"]=o.splice(0,o.length)),{t:n,list:o,i:r=o.length?o:n}}function __decorate(t,s,i,h){var e,n,o=arguments.length,r=3>o?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.h)r=Reflect.h(t,s,i,h);else for(n=t.length-1;n>=0;n--)(e=t[n])&&(r=(3>o?e(r):o>3?e(s,i,r):e(s,i))||r);return o>3&&r&&Object.defineProperty(s,i,r),r}import{IObserverLocator,CustomElementResource,IDOM,IProjectorLocator,IRenderingEngine,LifecycleFlags,Aurelia,INode,bindable,customElement}from"@aurelia/runtime";import{IContainer,inject}from"@aurelia/kernel";class HistoryBrowser{constructor(){this.o=null,this.l=0,this.u=0,this.m=0,this.p=0,this.v=(()=>{const t=this.$(),s=this.P(),i={};let h=this.C("HistoryEntry");if(this.o&&this.o.path===t){i.k=1;const t=this.m?this.O.index:this.history.length-this.V;this.O=this.o,this.O.index=t,this.m?(this.j=0,this.H[this.O.index]=this.O,this.u?(i.N=1,this.u=0):this.p?(i.L=1,this.p=0):i.S=1,this.m=0):(this.j=1,this.H=this.H.slice(0,this.O.index),this.H.push(this.O)),this._({g:this.H,I:this.V,R:this.O})}else this.H=this.H||this.C("HistoryEntries")||[],this.V=this.V||this.C("HistoryOffset")||0,h||this.O?h?this.O?h.index>this.O.index?i.A=1:this.O.index>h.index&&(i.D=1):i.L=1:i.k=1:(i.k=1,i.J=1,this.V=this.history.length),h||(this.H=this.H.slice(0,(h={path:t,B:null,index:this.history.length-this.V,T:s}).index),this.H.push(h),this._({g:this.H,I:this.V,R:h})),this.j=this.O?h.index-this.O.index:0,this.O=h,this.u&&(i.N=1,this.u=0);this.o=null,this.U&&this.U--,this.q(this.O,i)}),this.location=window.location,this.history=window.history}F(t){if(this.l)throw Error("History has already been activated.");return this.l=1,this.options=Object.assign({},t),window.addEventListener("popstate",this.v),Promise.resolve().then(()=>{this.G(this.$(),1)})}K(){window.removeEventListener("popstate",this.v),this.l=0}X(t,s,i){this.o={path:t,B:null,title:s,data:i},this.G(t)}replace(t,s,i){this.m=1,this.o={path:t,B:null,title:s,data:i},this.G(t,1)}Y(t,s,i){this.U=this.j+1,this.replace(t,s,i)}refresh(){this.O&&(this.p=1,this.replace(this.O.path,this.O.title,this.O.data))}back(){this.history.go(-1)}forward(){this.history.go(1)}cancel(){this.u=1;const t=this.j||this.U;t?this.history.go(-t):this.replace(this.Z.path,this.Z.title,this.Z.data)}_(t,value){const{pathname:s,search:i,hash:h}=this.location;let e=Object.assign({},this.history.state);"string"==typeof t?e[t]=JSON.parse(JSON.stringify(value)):e=Object.assign({},e,JSON.parse(JSON.stringify(t))),this.history.replaceState(e,null,`${s}${i}${h}`)}C(t){return Object.assign({},this.history.state)[t]}W(t){this.O.title=t,this.H[this.O.index]=this.O,this._({g:this.H,R:this.O})}M(t,s,i){if(i.index!==this.O.index)return;const h=`#/${t}`,{pathname:e,search:n,hash:o}=this.location;if(h===o)return;this.O.path=t,this.O.B=s;const r=Object.assign({},this.history.state,{R:this.O,g:this.H});this.history.replaceState(r,null,`${e}${n}${h}`)}tt(t){t.startsWith("#")||(t=`#${t}`),this.location.hash=t}get st(){return this.H?this.H.slice(0,this.O.index+1).map(value=>value.title):[]}$(){return this.location.hash.substr(1).split("?")[0]}G(t,s=0){if(this.O&&this.O.path===t&&!this.p)return;const{pathname:i,search:h}=this.location,e=`#${t}`;s?(this.Z=this.O,this.history.replaceState({},null,`${i}${h}${e}`)):this.history.pushState({},null,`${i}${h}${e}`),this.v()}P(){const t=this.location.hash.substr(1).split("?");return t.shift(),t.length>0?t.shift():""}q(t,s){const i=Object.assign({},t,s);this.options.q&&this.options.q(i)}}class LinkHandler{constructor(){this.l=0,this.it=(t=>{const s=LinkHandler.ht(t);s.et&&(t.preventDefault(),this.options.q(s))}),this.document=document}static ht(t){const s={et:0,href:null,anchor:null},i=LinkHandler.nt(t.target);if(!i||!LinkHandler.ot(i))return s;if(i.hasAttribute("external"))return s;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return s;const h=i.getAttribute("href");return s.anchor=i,s.href=h,s.et=1===t.which,s}static nt(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static ot(t){const s=t.getAttribute("target");return!s||s===LinkHandler.window.name||"_self"===s}F(t){if(this.l)throw Error("LinkHandler has already been activated.");this.l=1,this.options=Object.assign({},t),this.document.addEventListener("click",this.it,1)}K(){this.document.removeEventListener("click",this.it),this.l=0}}class NavRoute{constructor(t,s){this.active="",this.rt=t,Object.assign(this,{lt:s.lt,title:s.title,ct:s.ct,active:""}),this.link=this.at(),this.ut=this.rt.router.ft.get(IObserverLocator),this.dt=this.ut.pt(this.rt.router,"activeComponents"),this.dt.subscribe(this)}get bt(){return this.children&&this.children.length?"nav-has-children":""}vt(){this.active=this.link&&this.link.length?this.wt():"nav-active"===this.active?"nav-active":this.$t()?"nav-active-child":""}wt(){const t=this.link.split(this.rt.router.Pt.add),s=this.rt.router.Ct;for(let component of t)if(0>component.indexOf(this.rt.router.Pt.viewport)){if(component+=this.rt.router.Pt.viewport,0>s.findIndex(value=>value.startsWith(component)))return""}else if(0>s.indexOf(component))return"";return"nav-active"}kt(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}at(){return Array.isArray(this.lt)?this.lt.map(value=>this.Ot(value)).join(this.rt.router.Pt.Vt):this.Ot(this.lt)}$t(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.$t())return 1;return 0}Ot(component){return component?"string"==typeof component?component:component.description?component.description.name:component.component?this.Ot(component.component)+(component.viewport?`@${component.viewport}`:""):void 0:""}}class Nav{constructor(router,name){this.jt=[],this.router=router,this.name=name}Ht(t){for(const s of t)this.Nt(this.jt,s)}Nt(t,s){const i=new NavRoute(this,s);if(t.push(i),s.children){i.children=[];for(const t of s.children)this.Nt(i.children,t)}}}class Viewport{constructor(router,name,t,s,i,h){this.router=router,this.name=name,this.Lt=t,this.St=s,this.scope=i,this.options=h,this.clear=0,this.content=null,this._t=null,this.t=null,this.Et=null,this.gt=null,this.yt=null,this.component=null,this.It=null,this.Rt=null}At(t,s){let i;if(this.clear=0,"string"==typeof t)if(t===this.router.Pt.clear)this.clear=1,t=null;else{const s=t.split(this.router.Pt.t);t=s.shift(),i=s.length?s.join(this.router.Pt.t):null;const h=this.router.ft.Dt(CustomElementResource.Jt(t));null!==h&&(t=h.Bt(this.router.ft).Qt)}return this._t=t,this.yt=s,this.Et=i,this.content!==t||this.t!==i||!this.gt||this.gt.T!==s.T||s.L?1:0}Tt(t,s){this.scope&&this.scope.parent&&!this.scope.viewport&&(this.scope.viewport=this),this.scope&&!this.scope.Lt&&(this.scope.Lt=t),this.Lt||(this.Lt=t,s&&s.Ut&&(this.options.Ut=s.Ut),this.Rt&&this.Rt())}qt(){if(!this.component)return Promise.resolve(1);const component=this.component;if(!component.qt)return Promise.resolve(1);const t=component.qt(this.gt,this.yt);return"boolean"==typeof t?Promise.resolve(t):t}zt(){if(this.clear)return Promise.resolve(1);if(!this._t)return Promise.resolve(0);if(this.loadComponent(this._t),!this.It)return Promise.resolve(0);const component=this.It;if(!component.zt)return Promise.resolve(1);const t=component.zt(this.yt,this.gt);return"boolean"==typeof t?Promise.resolve(t):t}async Ft(){if(this.component&&(this.component.Gt&&await this.component.Gt(this.gt,this.yt),this.It||this.Kt(this.component)),this.It){if(this.It.Xt){const t=mergeParameters(this.Et,this.yt.T,this._t.t);this.yt.t=t.t,this.yt.Yt=t.list,await this.It.Xt(t.i,this.yt,this.gt)}if(!this.Lt&&(await this.Zt(),!this.Lt))return Promise.resolve(0);this.component&&this.Kt(this.component),this.Wt(this.It),this.content=this._t,this.t=this.Et,this.gt=this.yt,this.component=this.It}return this.clear&&(this.content=this.t=this.component=null,this.gt=this.yt),this._t=this.Et=this.yt=this.It=null,Promise.resolve(1)}description(t=0){if(this.content){const component=this.content.description.name,s=this.scope?this.router.Pt.Mt:"",i=this.t?this.router.Pt.t+this.t:"";if(t||s.length||this.options.xt)return`${component}${this.router.Pt.viewport}${this.name}${s}${i}`;const h={};return h[component]=component,this.St.ts(h)?`${component}${i}`:`${component}${this.router.Pt.viewport}${this.name}${s}${i}`}}ss(t=0){return[this.St.context(t),this.description(t)].filter(value=>value&&value.length).join(this.router.Pt.scope)}hs(component){let t=this.options.Ut||[];return"string"==typeof t&&(t=t.split(",")),t.indexOf(component)>=0}es(component){if("-"===component||null===component)return 1;let t=this.options.Ut;return t&&t.length?("string"==typeof t&&(t=t.split(",")),0>t.indexOf(component)?t.filter(value=>value.indexOf("*")>=0).length?1:0:1):1}ns(t){this.component&&this.component.os(t)}rs(t){this.component&&this.component.ls(t)}cs(t){this.component&&this.component.as(t)}us(t){this.component&&this.component.fs(t)}loadComponent(component){this.It=this.router.ft.get(CustomElementResource.Jt(component.description.name))}Wt(component){const host=this.Lt,t=this.router.ft,dom=t.get(IDOM),s=t.get(IProjectorLocator),i=t.get(IRenderingEngine);component.ms(dom,s,i,host,null),component.os(LifecycleFlags.ds|LifecycleFlags.ps,null),component.ls(LifecycleFlags.ds)}Kt(component){component.as(LifecycleFlags.bs),component.fs(LifecycleFlags.bs|LifecycleFlags.vs)}async Zt(){return this.Lt?Promise.resolve():new Promise(t=>{this.Rt=t})}}class Scope{constructor(router,t,s){this.children=[],this.ws={},this.$s={},this.router=router,this.Lt=t,this.parent=s,this.viewport=null,this.children=[],this.ws={},this.$s={},this.Ps=null,this.parent&&this.parent.Cs(this)}ts(t){const s=[];let i=0;t&&(this.Ps={},this.$s={}),this.Ps=Object.assign({},this.ws,this.Ps);for(const s in t){const parts=s.split(this.router.Pt.scope),t=parts.shift();this.$s[t]||(this.$s[t]=[]),this.$s[t].push(parts)}for(const h in this.$s){const e=h.split(this.router.Pt.t),component=e.shift().split(this.router.Pt.viewport).shift(),n=component+(e.length?this.router.Pt.t+e.join(this.router.Pt.t):"");for(const name in this.Ps){const e=this.Ps[name];if(e&&e.hs(component)){const o=this.ks(t,this.$s,h,n,e);s.push(...o.Os),i=i||o.Vs,this.Ps[name]=null,delete this.$s[h];break}}}for(const h in this.$s){const e=h.split(this.router.Pt.t),parts=e.shift().split(this.router.Pt.viewport),component=parts.shift(),n=component+(e.length?this.router.Pt.t+e.join(this.router.Pt.t):"");let name=parts.shift();if(!name||!name.length||name.startsWith("?"))continue;let o=0;name.endsWith(this.router.Pt.Mt)&&(o=1,name=name.substr(0,name.length-1)),this.ws[name]||(this.js(name,null,{scope:o,xt:1}),this.Ps[name]=this.ws[name]);const r=this.Ps[name];if(r&&r.es(component)){const e=this.ks(t,this.$s,h,n,r);s.push(...e.Os),i=i||e.Vs,this.Ps[name]=null,delete this.$s[h]}}for(const h in this.$s){const e=h.split(this.router.Pt.t),component=e.shift().split(this.router.Pt.viewport).shift(),n=component+(e.length?this.router.Pt.t+e.join(this.router.Pt.t):""),o=[];for(const name in this.Ps){const t=this.Ps[name];t&&t.es(component)&&o.push(t)}if(1===o.length){const e=o.shift(),r=this.ks(t,this.$s,h,n,e);s.push(...r.Os),i=i||r.Vs,this.Ps[e.name]=null,delete this.$s[h];break}}if(i=i||Object.keys(this.$s).length>0,!t)for(const t of this.children){const h=t.ts();s.push(...h.Os),i=i||h.Vs}return{Os:s,Vs:i}}ks(t,s,i,component,h){const e=[{component,viewport:h}];let n=0;if(s[i].length){const o=h.scope||h.St;for(const h of s[i])if(h.length){const s=h.join(this.router.Pt.scope),r={};r[s]=t[i+this.router.Pt.scope+s];const l=o.ts(r);e.push(...l.Os),n=n||l.Vs}}return{Os:e,Vs:n}}js(name,t,s){let i=this.ws[name];if(!i){let h;s.scope&&(h=new Scope(this.router,t,this),this.router.Hs.push(h)),i=this.ws[name]=new Viewport(this.router,name,t,this,h,s)}return t&&i.Tt(t,s),i}Ns(t){return t.scope&&this.router.Ls(t.scope),delete this.ws[t.name],Object.keys(this.ws).length}Ls(){for(const t of this.children)t.Ls();for(const t in this.ws)this.router.Ns(this.ws[t])}Ss(t){return t.zt().then(()=>t.Ft())}Cs(t){0>this.children.indexOf(t)&&this.children.push(t)}removeChild(t){this.children.splice(this.children.indexOf(t),1)}_s(t=0){const s=[];for(const i in this.ws)s.push(this.ws[i].ss(t));for(const i of this.children)s.push(...i._s(t));return s.filter(value=>value&&value.length)}Es(){const t=[];for(const s in this.ws)t.push(this.ws[s]);for(const s of this.children)t.push(...s.Es());return t}context(t=0){if(!this.Lt||!this.parent)return"";const s=[];this.viewport&&s.unshift(this.viewport.description(t));let i=this.parent.gs(this.Lt.parentElement);for(;i&&i.St===this.parent;)s.unshift(i.description(t)),i=this.gs(i.Lt.parentElement);return s.unshift(this.parent.context(t)),s.filter(value=>value&&value.length).join(this.router.Pt.scope)}ys(component){if("string"==typeof component){const t=this.router.ft.Dt(CustomElementResource.Jt(component));null!==t&&(component=t.Bt(this.router.ft).Qt)}return component}gs(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h in this.ws){const e=this.ws[h].Lt;let n=t,o=0;for(;n&&n!==e;)o++,n=n.parentElement;i>o&&(i=o,s=this.ws[h])}return s}}class Router{constructor(t){this.ft=t,this.jt=[],this.ws={},this.Hs=[],this.Is={},this.Ct=[],this.l=0,this.Rs=0,this.As=[],this.Ds=null,this.Js=(t=>{let s=t.href;if(s.startsWith("#")&&(s=s.substr(1)),!s.startsWith("/")){const i=this.Qs(t.anchor).context();i&&(s=`/${i}${this.Pt.scope}${s}`)}this.Bs.tt(s)}),this.Bs=new HistoryBrowser,this.Ts=new LinkHandler}F(t){if(this.l)throw Error("Router has already been activated.");return this.l=1,this.options=Object.assign({q:t=>{this.Us(t)}},t),this.Pt=Object.assign({viewport:"@",Vt:"+",scope:"/",Mt:"!",t:"=",add:"+",clear:"-",action:"."},this.options.Pt),this.Ts.F({q:this.Js}),this.Bs.F(this.options).catch(t=>{throw t})}K(){if(!this.l)throw Error("Router has not been activated.");this.Ts.K(),this.Bs.K()}Us(t){this.As.push(t),this.qs().catch(t=>{throw t})}async qs(){if(null!==this.Ds||!this.As.length)return Promise.resolve();const t=this.As.shift();if(this.Ds=t,this.options.zs&&this.options.zs(t),t.N)return this.Ds=null,Promise.resolve();let s=0;(t.D||t.A)&&t.B&&(t.path=t.B);const i=t.path;(i===this.Pt.clear||i.startsWith(this.Pt.clear+this.Pt.add))&&(s=1,i.startsWith(this.Pt.clear)&&(t.path=i.substr(1)));const h=parseQuery(t.T);let e,n;t.t=h.t,t.Yt=h.list;let o=this.Fs(t);if(o){if(o.Y)return o=this.Gs(o,t.data),this.Rs=1,this.Bs.Y(o.path,o.title,t.data),this.Ds=null,Promise.resolve();o.title&&(e=o.title),n=o.ws}else n=this.Ks(t);if(!n&&!Object.keys(n).length&&!s)return this.Ds=null,Promise.resolve();e&&this.Bs.W(e);const r=s?this.Xs.Es().filter(value=>null!==value.component):[];let{Os:l,Vs:c}=this.Xs.ts(n),a=100;for(;(l.length||c)&&a--;){const s=[];for(const i of l){const{component,viewport:h}=i;h.At(component,t)&&s.push(h);const e=r.findIndex(value=>value===h);0>e||r.splice(e,1)}for(const i of r)i.At(this.Pt.clear,t)&&s.push(i);!s.length&&this.Rs&&(this.Bs.cancel(),this.Rs=0);let i=await Promise.all(s.map(value=>value.qt()));if(i.findIndex(value=>0==value)>=0)return this.Bs.cancel(),this.Ds=null,Promise.resolve();if((i=await Promise.all(s.map(value=>value.zt()))).findIndex(value=>0==value)>=0)return this.Bs.cancel(),this.Ds=null,Promise.resolve();await Promise.all(s.map(value=>value.Ft()));const h=this.Xs.ts();l=h.Os,c=h.Vs}this.Ys(t),this.Ds=null,this.As.length&&this.qs().catch(t=>{throw t})}Fs(t){return this.jt.find(value=>value.path===t.path)}Gs(t,s){for(;t.Y;){const i=this.Fs({path:t.Y,B:null,data:s});if(!i)break;t=i}return t}Ks(t){const s={};let i=t.path;i.startsWith("/")&&(i=i.substr(1));const h=i.split(this.Pt.Vt);let e=0;for(;h.length;){const t=h.shift().split(this.Pt.scope),parts=t.pop().split(this.Pt.viewport),component=parts[0];t.push(parts.length?parts.join(this.Pt.viewport):`?${e++}`);const name=t.join(this.Pt.scope);component&&(s[name]=component)}return s}Zs(t){if(!this.Xs){const t=this.ft.get(Aurelia).root().Ws;this.Xs=new Scope(this,t,null),this.Hs.push(this.Xs)}return this.Qs(t)}js(name,t,s){return this.Zs(t).js(name,t,s)}Ns(t){const s=t.St;s.Ns(t)||this.Ls(s)}Ls(t){if(t!==this.Xs){t.Ls();const s=this.Hs.indexOf(t);0>s||this.Hs.splice(s,1)}}Nt(t){this.jt.push(t)}X(t,s,i){"string"==typeof t&&this.Bs.X(t,s,i)}replace(t,s,i){"string"==typeof t&&this.Bs.replace(t,s,i)}refresh(){this.Bs.refresh()}back(){this.Bs.back()}forward(){this.Bs.forward()}Ms(name,t){let s=this.Is[name];s||(s=this.Is[name]=new Nav(this,name)),s.Ht(t)}xs(name){return this.Is[name]}Qs(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h of this.Hs){let e=t,n=0;for(;e&&e!==h.Lt;)n++,e=e.parentElement;i>n&&(i=n,s=h)}return s}ti(t){let s=t.slice().sort((t,s)=>s.split(this.Pt.scope).length-t.split(this.Pt.scope).length),i=[];if((s=s.map(value=>`${this.Pt.scope}${value}${this.Pt.scope}`)).length)for(i.push(s.shift());s.length;){const t=s.shift();i.find(value=>-1===value.indexOf(t))&&i.push(t)}return(i=i.map(value=>value.substring(1,value.length-1))).sort((t,s)=>t.split(this.Pt.scope).length-s.split(this.Pt.scope).length),i}Ys(t){let s=this.Xs._s();s=this.ti(s);let i=this.Xs._s(1);i=this.ti(i),this.Ct=i,i.unshift(this.Pt.clear);const h=t.T&&t.T.length?`?${t.T}`:"";this.Bs.M(s.join(this.Pt.Vt)+h,i.join(this.Pt.Vt)+h,t)}}Router.inject=[IContainer];class ViewportCustomElement{constructor(router,t){this.router=router,this.Lt=t,this.name="default",this.scope=null,this.Ut=null,this.viewport=null}si(){const t={scope:this.Lt.hasAttribute("scope")};this.Ut&&this.Ut.length&&(t.Ut=this.Ut),this.viewport=this.router.js(this.name,this.Lt,t)}ii(){this.router.Ns(this.viewport)}ns(t){this.viewport&&this.viewport.ns(t)}rs(t){this.viewport&&this.viewport.rs(t)}cs(t){this.viewport&&this.viewport.cs(t)}us(t){this.viewport&&this.viewport.us(t)}}ViewportCustomElement.inject=[Router,INode],__decorate([bindable],ViewportCustomElement.prototype,"name",void 0),__decorate([bindable],ViewportCustomElement.prototype,"scope",void 0),__decorate([bindable],ViewportCustomElement.prototype,"usedBy",void 0),CustomElementResource.hi({name:"au-viewport",template:'<template><div class="viewport-header"> Viewport: <b>${name}</b> </div></template>'},ViewportCustomElement);let NavCustomElement=class{constructor(router){this.router=router,this.name=null,this.jt=null,this.level=0}get ei(){const t=this.router.xs(this.name);return t?t.jt:[]}active(t){return"Active"}};__decorate([bindable],NavCustomElement.prototype,"name",void 0),__decorate([bindable],NavCustomElement.prototype,"routes",void 0),__decorate([bindable],NavCustomElement.prototype,"level",void 0),NavCustomElement=__decorate([inject(Router,Element),customElement({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name}">\n    <au-nav routes.bind="navRoutes" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level}">\n    <li repeat.for="route of routes" class="${route.active} ${route.hasChildren}">\n      <a if.bind="route.link && route.link.length" href="${route.link}">${route.title}</a>\n      <a if.bind="!route.link || !route.link.length" click.delegate="route.toggleActive()" href="">${route.title}</a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" containerless></au-nav>\n    </li>\n  </ul>\n</template>'})],NavCustomElement);export{HistoryBrowser,LinkHandler,Nav,Router,Scope,Viewport,ViewportCustomElement,NavCustomElement};
