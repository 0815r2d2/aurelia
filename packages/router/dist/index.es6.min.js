function parseQuery(t){const s={},i=[];if(!t||!t.length)return{t:s,list:i};const h=t.replace("+"," ").split("&");for(const t of h){const h=t.split("="),e=decodeURIComponent(h.shift());if(!h.length){i.push(e);continue}const value=decodeURIComponent(h.shift());s[e]=value}return{t:s,list:i}}function mergeParameters(t,s,i){const h=parseQuery(s),e=parseQuery(t),o=Object.assign({},h.t,e.t),n=[...h.list,...e.list];if(n.length&&i&&i.length)for(const t of i)o[t]=n.shift();let r;return n.length&&Object.keys(o).length&&(o["s"]=n.splice(0,n.length)),{t:o,list:n,i:r=n.length?n:o}}function __decorate(t,s,i,h){var e,o,n=arguments.length,r=3>n?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.h)r=Reflect.h(t,s,i,h);else for(o=t.length-1;o>=0;o--)(e=t[o])&&(r=(3>n?e(r):n>3?e(s,i,r):e(s,i))||r);return n>3&&r&&Object.defineProperty(s,i,r),r}import{IObserverLocator,CustomElementResource,IDOM,IProjectorLocator,IRenderingEngine,LifecycleFlags,Aurelia,INode,bindable,customElement}from"@aurelia/runtime";import{IContainer,inject}from"@aurelia/kernel";class HistoryBrowser{constructor(){this.o=(()=>{if(null!==this.l){const t=this.l;return this.l=null,void t()}const t=this.u(),s=this.m(),i={};let h,e=this.p("HistoryEntry");if(this.v&&this.v.path===t){i.$=1;const t=this.C?this.P.index:this.history.length-this.V;h=this.P,this.P=this.v,this.P.index=t,this.C?(this.k=0,this.O[this.P.index]=this.P,this._?(i.H=1,this._=0):this.N?(i.g=1,this.N=0):i.j=1,this.C=0):(this.k=1,this.O=this.O.slice(0,this.P.index),this.O.push(this.P)),this.S({L:this.O,R:this.V,I:this.P})}else this.O=this.O||this.p("HistoryEntries")||[],this.V=this.V||this.p("HistoryOffset")||0,e||this.P?e?this.P?e.index>this.P.index?i.A=1:this.P.index>e.index&&(i.D=1):i.g=1:i.$=1:(i.$=1,i.B=1,this.V=this.history.length),e||(this.O=this.O.slice(0,(e={path:t,J:null,index:this.history.length-this.V,T:s}).index),this.O.push(e),this.S({L:this.O,R:this.V,I:e})),this.k=this.P?e.index-this.P.index:0,h=this.P,this.P=e,this._&&(i.H=1,this._=0);this.v=null,this.U&&this.U--,this.q(this.P,i,h)}),this.location=window.location,this.history=window.history,this.P=null,this.O=null,this.V=null,this.F=null,this.v=null,this.options=null,this.W=0,this.k=null,this.U=null,this._=0,this.C=0,this.N=0,this.l=null}G(t){if(this.W)throw Error("History has already been activated.");return this.W=1,this.options=Object.assign({},t),window.addEventListener("popstate",this.o),Promise.resolve().then(()=>{this.K(this.u(),1)})}X(){window.removeEventListener("popstate",this.o),this.W=0}Y(t,s,i){this.v={path:t,J:null,title:s,data:i},this.K(t)}replace(t,s,i){this.C=1,this.v={path:t,J:null,title:s,data:i},this.K(t,1)}Z(t,s,i){this.U=this.k+1,this.replace(t,s,i)}refresh(){this.P&&(this.N=1,this.replace(this.P.path,this.P.title,this.P.data))}back(){this.history.go(-1)}forward(){this.history.go(1)}cancel(){this._=1;const t=this.k||this.U;t?this.history.go(-t):this.replace(this.F.path,this.F.title,this.F.data)}async pop(){let t,s=new Promise(t=>{this.l=t});this.history.go(-1),await s;const i=""+this.location;t=this.history.state,s=new Promise(t=>{this.l=t}),this.history.go(-1),await s,this.history.pushState(t,null,i)}S(t,value){const{pathname:s,search:i,hash:h}=this.location;let e=Object.assign({},this.history.state);"string"==typeof t?e[t]=JSON.parse(JSON.stringify(value)):e=Object.assign({},e,JSON.parse(JSON.stringify(t))),this.history.replaceState(e,null,`${s}${i}${h}`)}p(t){return Object.assign({},this.history.state)[t]}M(t){this.P.title=t,this.O[this.P.index]=this.P,this.S({L:this.O,I:this.P})}tt(t,s,i){if(i.index!==this.P.index)return;const h=`#/${t}`,{pathname:e,search:o,hash:n}=this.location;if(h===n&&this.P.path===t&&this.P.J===s)return;this.P.path=t,this.P.J=s;const r=Object.assign({},this.history.state,{I:this.P,L:this.O});this.history.replaceState(r,null,`${e}${o}${h}`)}st(t){t.startsWith("#")||(t=`#${t}`),this.location.hash=t}get it(){return this.O?this.O.slice(0,this.P.index+1).map(value=>value.title):[]}u(){return this.location.hash.substring(1).split("?")[0]}K(t,s=0){if(this.P&&this.P.path===t&&!this.N)return;const{pathname:i,search:h}=this.location,e=`#${t}`;s?(this.F=this.P,this.history.replaceState({},null,`${i}${h}${e}`)):this.history.pushState({},null,`${i}${h}${e}`),this.o()}m(){const t=this.location.hash.substring(1).split("?");return t.shift(),t.length>0?t.shift():""}q(t,s,i){const h=Object.assign({},t,s);h.ht=i,this.options.q&&this.options.q(h)}}class LinkHandler{constructor(){this.W=0,this.et=(t=>{const s=LinkHandler.ot(t);s.nt&&(t.preventDefault(),this.options.q(s))}),this.document=document}static ot(t){const s={nt:0,href:null,anchor:null},i=LinkHandler.rt(t.target);if(!i||!LinkHandler.lt(i))return s;if(i.hasAttribute("external"))return s;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return s;const h=i.getAttribute("href");return s.anchor=i,s.href=h,s.nt=1===t.which,s}static rt(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static lt(t){const s=t.getAttribute("target");return!s||s===LinkHandler.window.name||"_self"===s}G(t){if(this.W)throw Error("LinkHandler has already been activated.");this.W=1,this.options=Object.assign({},t),this.document.addEventListener("click",this.et,1)}X(){this.document.removeEventListener("click",this.et,1),this.W=0}}class NavRoute{constructor(t,s){this.active="",this.ct=t,Object.assign(this,{at:s.at,title:s.title,children:null,ut:s.ut,active:""}),this.link=this.ft(this.at),this.dt=s.pt?this.ft(s.pt):this.link,this.vt=this.ct.router.wt.get(IObserverLocator),this.bt=this.vt.$t(this.ct.router,"activeComponents"),this.bt.subscribe(this)}get Ct(){return this.children&&this.children.length?"nav-has-children":""}Pt(){this.active=this.link&&this.link.length?this.Vt():"nav-active"===this.active?"nav-active":this.kt()?"nav-active-child":""}Vt(){const t=this.dt.split(this.ct.router.Ot.add),s=this.ct.router._t;for(const component of t)if(0>component.indexOf(this.ct.router.Ot.viewport)){if(0>s.findIndex(value=>value.replace(/\@[^=]*/,"")===component))return""}else if(0>s.indexOf(component))return"";return"nav-active"}Ht(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}ft(t){return Array.isArray(t)?t.map(value=>this.Nt(value)).join(this.ct.router.Ot.gt):this.Nt(t)}kt(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.kt())return 1;return 0}Nt(component){return component?"string"==typeof component?component:component.description?component.description.name:component.component?this.Nt(component.component)+(component.viewport?`@${component.viewport}`:""):void 0:""}}class Nav{constructor(router,name){this.router=router,this.name=name,this.jt=[]}St(t){for(const s of t)this.Lt(this.jt,s)}Lt(t,s){const i=new NavRoute(this,s);if(t.push(i),s.children){i.children=[];for(const t of s.children)this.Lt(i.children,t)}}}class Viewport{constructor(router,name,t,s,i,h){this.router=router,this.name=name,this.yt=t,this.Et=s,this.scope=i,this.options=h,this.clear=0,this.content=null,this.Rt=null,this.t=null,this.It=null,this.At=null,this.Dt=null,this.component=null,this.Bt=null,this.Jt=null}Qt(t,s){let i;if(this.clear=0,"string"==typeof t)if(t===this.router.Ot.clear)this.clear=1,t=null;else{const s=t.split(this.router.Ot.t);t=s.shift(),i=s.length?s.join(this.router.Ot.t):null;const h=this.router.wt.Tt(CustomElementResource.Ut(t));null!==h&&(t=h.Ft(this.router.wt).qt)}return this.Rt=t,this.Dt=s,this.It=i,this.content!==t||this.t!==i||!this.At||this.At.T!==s.T||s.g?1:0}Wt(t,s){this.scope&&this.scope.parent&&!this.scope.viewport&&(this.scope.viewport=this),this.scope&&!this.scope.yt&&(this.scope.yt=t),this.yt||(this.yt=t,s&&s.zt&&(this.options.zt=s.zt),s&&s.default&&(this.options.default=s.default),s&&s.Gt&&(this.options.Gt=s.Gt),s&&s.Kt&&(this.options.Kt=s.Kt),this.Jt&&this.Jt()),this.component||this.Bt||!this.options.default||this.router.Xt(this,this.options.default)}Yt(){if(!this.component)return Promise.resolve(1);const component=this.component;if(!component.Yt)return Promise.resolve(1);const t=component.Yt(this.At,this.Dt);return"boolean"==typeof t?Promise.resolve(t):t}Zt(){if(this.clear)return Promise.resolve(1);if(!this.Rt)return Promise.resolve(0);if(this.loadComponent(this.Rt),!this.Bt)return Promise.resolve(0);const component=this.Bt;if(!component.Zt)return Promise.resolve(1);const t=component.Zt(this.Dt,this.At);return"boolean"==typeof t?Promise.resolve(t):t}async Mt(){if(this.component&&(this.component.xt&&await this.component.xt(this.At,this.Dt),this.Bt||this.ts(this.component)),this.Bt){if(this.Bt.ss){const t=mergeParameters(this.It,this.Dt.T,this.Rt.t);this.Dt.t=t.t,this.Dt.hs=t.list,await this.Bt.ss(t.i,this.Dt,this.At)}if(!this.yt&&(await this.es(),!this.yt))return Promise.resolve(0);this.component&&this.ts(this.component),this.os(this.Bt),this.content=this.Rt,this.t=this.It,this.At=this.Dt,this.component=this.Bt}return this.clear&&(this.content=this.t=this.component=null,this.At=this.Dt),this.Rt=this.It=this.Dt=this.Bt=null,Promise.resolve(1)}description(t=0){if(this.content){const component=this.content.description.name,s=this.scope?this.router.Ot.ns:"",i=this.t?this.router.Ot.t+this.t:"";if(t||s.length||this.options.rs)return`${component}${this.router.Ot.viewport}${this.name}${s}${i}`;const h={};return h[component]=component,this.Et.ls(h)?`${component}${i}`:`${component}${this.router.Ot.viewport}${this.name}${s}${i}`}}cs(t=0){return[this.Et.context(t),this.description(t)].filter(value=>value&&value.length).join(this.router.Ot.scope)}as(component){let t=this.options.zt||[];return"string"==typeof t&&(t=t.split(",")),t.indexOf(component)>=0}us(component){if("-"===component||null===component)return 1;let t=this.options.zt;return t&&t.length?("string"==typeof t&&(t=t.split(",")),0>t.indexOf(component)?t.filter(value=>value.indexOf("*")>=0).length?1:0:1):1}fs(t){this.component&&this.component.ms(t)}ds(t){this.component&&this.component.ps(t)}vs(t){this.component&&this.component.ws(t)}bs(t){this.component&&this.component.$s(t)}loadComponent(component){this.Bt=this.router.wt.get(CustomElementResource.Ut(component.description.name))}os(component){const host=this.yt,t=this.router.wt,dom=t.get(IDOM),s=t.get(IProjectorLocator),i=t.get(IRenderingEngine);component.Cs(dom,s,i,host,null),component.ms(LifecycleFlags.Ps|LifecycleFlags.Vs,null),component.ps(LifecycleFlags.Ps)}ts(component){component.ws(LifecycleFlags.ks),component.$s(LifecycleFlags.ks|LifecycleFlags.Os)}async es(){return this.yt?Promise.resolve():new Promise(t=>{this.Jt=t})}}class Scope{constructor(router,t,s){this.router=router,this.yt=t,this.parent=s,this.viewport=null,this.children=[],this._s={},this.Hs={},this.Ns=null,this.parent&&this.parent.gs(this)}ls(t){const s=[];let i=0;t&&(this.Ns={},this.Hs={}),this.Ns=Object.assign({},this._s,this.Ns);for(const s in t){const parts=s.split(this.router.Ot.scope),t=parts.shift();this.Hs[t]||(this.Hs[t]=[]),this.Hs[t].push(parts)}for(const h in this.Hs){const e=h.split(this.router.Ot.t),component=e.shift().split(this.router.Ot.viewport).shift(),o=component+(e.length?this.router.Ot.t+e.join(this.router.Ot.t):"");for(const name in this.Ns){const e=this.Ns[name];if(e&&e.as(component)){const n=this.js(t,this.Hs,h,o,e);s.push(...n.Ss),i=i||n.Ls,this.Ns[name]=null,delete this.Hs[h];break}}}for(const h in this.Hs){const e=h.split(this.router.Ot.t),parts=e.shift().split(this.router.Ot.viewport),component=parts.shift(),o=component+(e.length?this.router.Ot.t+e.join(this.router.Ot.t):"");let name=parts.shift();if(!name||!name.length||name.startsWith("?"))continue;let n=0;name.endsWith(this.router.Ot.ns)&&(n=1,name=name.substring(0,name.length-1)),this._s[name]||(this.ys(name,null,{scope:n,rs:1}),this.Ns[name]=this._s[name]);const r=this.Ns[name];if(r&&r.us(component)){const e=this.js(t,this.Hs,h,o,r);s.push(...e.Ss),i=i||e.Ls,this.Ns[name]=null,delete this.Hs[h]}}for(const h in this.Hs){const e=h.split(this.router.Ot.t),component=e.shift().split(this.router.Ot.viewport).shift(),o=component+(e.length?this.router.Ot.t+e.join(this.router.Ot.t):""),n=[];for(const name in this.Ns){const t=this.Ns[name];t&&t.us(component)&&n.push(t)}if(1===n.length){const e=n.shift(),r=this.js(t,this.Hs,h,o,e);s.push(...r.Ss),i=i||r.Ls,this.Ns[e.name]=null,delete this.Hs[h];break}}if(i=i||Object.keys(this.Hs).length>0,!t)for(const t of this.children){const h=t.ls();s.push(...h.Ss),i=i||h.Ls}return{Ss:s,Ls:i}}js(t,s,i,component,h){const e=[{component,viewport:h}];let o=0;if(s[i].length){const n=h.scope||h.Et;for(const h of s[i])if(h.length){const s=h.join(this.router.Ot.scope),r={};r[s]=t[i+this.router.Ot.scope+s];const l=n.ls(r);e.push(...l.Ss),o=o||l.Ls}}return{Ss:e,Ls:o}}ys(name,t,s){let i=this._s[name];if(!i){let h;s.scope&&(h=new Scope(this.router,t,this),this.router.Es.push(h)),i=this._s[name]=new Viewport(this.router,name,t,this,h,s)}return t&&i.Wt(t,s),i}Rs(t){return t.scope&&this.router.Is(t.scope),delete this._s[t.name],Object.keys(this._s).length}Is(){for(const t of this.children)t.Is();for(const t in this._s)this.router.Rs(this._s[t])}As(t){return t.Zt().then(()=>t.Mt())}gs(t){0>this.children.indexOf(t)&&this.children.push(t)}removeChild(t){this.children.splice(this.children.indexOf(t),1)}Ds(t=0,s=0){const i=[];for(const h in this._s){const e=this._s[h];(e.options.Kt||e.options.Gt&&!t)&&!s||i.push(e.cs(t))}for(const s of this.children)i.push(...s.Ds(t));return i.filter(value=>value&&value.length)}Bs(){const t=[];for(const s in this._s)t.push(this._s[s]);for(const s of this.children)t.push(...s.Bs());return t}context(t=0){if(!this.yt||!this.parent)return"";const s=[];this.viewport&&s.unshift(this.viewport.description(t));let i=this.parent.Js(this.yt.parentElement);for(;i&&i.Et===this.parent;)s.unshift(i.description(t)),i=this.Js(i.yt.parentElement);return s.unshift(this.parent.context(t)),s.filter(value=>value&&value.length).join(this.router.Ot.scope)}Qs(component){if("string"==typeof component){const t=this.router.wt.Tt(CustomElementResource.Ut(component));null!==t&&(component=t.Ft(this.router.wt).qt)}return component}Js(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h in this._s){const e=this._s[h].yt;let o=t,n=0;for(;o&&o!==e;)n++,o=o.parentElement;i>n&&(i=n,s=this._s[h])}return s}}class Router{constructor(t){this.wt=t,this._s={},this.Es=[],this.Ts={},this._t=[],this.Us=[],this.W=0,this.qs=0,this.Fs=[],this.Ws=null,this.zs=(t=>{let s=t.href;if(s.startsWith("#")&&(s=s.substring(1)),!s.startsWith("/")){const i=this.Gs(t.anchor).context();i&&(s=`/${i}${this.Ot.scope}${s}`)}this.Ks.st(s)}),this.Ks=new HistoryBrowser,this.Xs=new LinkHandler}G(t){if(this.W)throw Error("Router has already been activated.");return this.W=1,this.options=Object.assign({q:t=>{this.Ys(t)}},t),this.Ot=Object.assign({viewport:"@",gt:"+",scope:"/",ns:"!",t:"=",add:"+",clear:"-",action:"."},this.options.Ot),this.Xs.G({q:this.zs}),this.Ks.G(this.options).catch(t=>{throw t})}X(){if(!this.W)throw Error("Router has not been activated.");this.Xs.X(),this.Ks.X()}Ys(t){this.Fs.push(t),this.Zs().catch(t=>{throw t})}async Zs(){if(null!==this.Ws||!this.Fs.length)return Promise.resolve();const t=this.Fs.shift();if(this.Ws=t,this.options.Ms&&this.options.Ms(t),t.H)return this.Ws=null,Promise.resolve();let s=0,i=0;(t.D||t.A)&&t.J&&(t.path=t.J,i=1);let h=t.path;this.options.xs&&!i&&(h=this.options.xs(h,this),Array.isArray(h)&&(h=this.ti(h))),(h===this.Ot.clear||h.startsWith(this.Ot.clear+this.Ot.add))&&(s=1,h.startsWith(this.Ot.clear)&&(h=h.substring(1)));const e=parseQuery(t.T);t.t=e.t,t.hs=e.list;const o=this.si(h);if(!o&&!Object.keys(o).length&&!s)return this.Ws=null,Promise.resolve();this.ii();const n=s?this.hi.Bs().filter(value=>null!==value.component):[],r=this.hi.Bs().filter(value=>value.options.default&&null===value.component);let l=t.B,{Ss:c,Ls:a}=this.hi.ls(o),u=100;for(;(c.length||a||r.length)&&u--;){const s=[];for(const i of c){const{component,viewport:h}=i;h.Qt(component,t)&&s.push(h);const e=n.findIndex(value=>value===h);0>e||n.splice(e,1);const o=r.findIndex(value=>value===h);0>o||r.splice(o,1)}for(const i of n)i.Qt(this.Ot.clear,t)&&s.push(i);let i;for(;i=r.shift();)i.Qt(i.options.default,t)&&s.push(i);!s.length&&this.qs&&(this.Ks.cancel(),this.qs=0);let h=await Promise.all(s.map(value=>value.Yt()));if(h.findIndex(value=>0==value)>=0)return this.Ks.cancel(),this.Ws=null,Promise.resolve();if((h=await Promise.all(s.map(value=>value.Zt()))).findIndex(value=>0==value)>=0)return this.Ks.cancel(),this.Ws=null,Promise.resolve();await Promise.all(s.map(value=>value.Mt())),s.reduce((t,s)=>!s.options.Kt||t,l)&&(l=1);const e=this.hi.ls();let o;for(c=[];o=this.Us.shift();)e.Ss.find(value=>value.viewport===o.viewport)||c.push(o);c=[...c,...e.Ss],a=e.Ls}this.ei(t),l||this.Ks.pop().catch(t=>{throw t}),this.Ws=null,this.Fs.length&&this.Zs().catch(t=>{throw t})}Xt(t,component){this.Ws&&this.Us.push({viewport:t,component})}si(t){const s={};t.startsWith("/")&&(t=t.substring(1));const i=t.split(this.Ot.gt);let h=0;for(;i.length;){const t=i.shift().split(this.Ot.scope),parts=t.pop().split(this.Ot.viewport),component=parts[0];t.push(parts.length?parts.join(this.Ot.viewport):`?${h++}`);const name=t.join(this.Ot.scope);component&&(s[name]=component)}return s}oi(t){return this.ii(),this.Gs(t)}ys(name,t,s){return this.oi(t).ys(name,t,s)}Rs(t){const s=t.Et;s.Rs(t)||this.Is(s)}Is(t){if(t!==this.hi){t.Is();const s=this.Es.indexOf(t);0>s||this.Es.splice(s,1)}}Y(t,s,i){"string"==typeof t&&this.Ks.Y(t,s,i)}replace(t,s,i){"string"==typeof t&&this.Ks.replace(t,s,i)}refresh(){this.Ks.refresh()}back(){this.Ks.back()}forward(){this.Ks.forward()}ti(t){const s=[];for(const i of t){let t=i.component;if(i.viewport&&(t+=this.Ot.viewport+i.viewport),i.t)for(const s in i.t)t+=this.Ot.t+i.t[s];s.push(t)}return s.join(this.Ot.gt)}ni(t){const s=[],i=t.split(this.Ot.gt);for(const t of i){let component,i,h;const[e,o]=t.split(this.Ot.viewport);void 0===o?[component,h]=e.split(this.Ot.t):(component=e,[i,h]=o.split(this.Ot.t));const n={component};i&&(n.viewport=i),h&&(n.t={id:h}),s.push(n)}return s}ri(name,t){const s=this.li(name);s&&(s.jt=[]),this.ci(name,t)}ci(name,t){let s=this.Ts[name];s||(s=this.Ts[name]=new Nav(this,name)),s.St(t)}li(name){return this.Ts[name]}ii(){if(!this.hi){const t=this.wt.get(Aurelia).root().ai;this.hi=new Scope(this,t,null),this.Es.push(this.hi)}}Gs(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h of this.Es){let e=t,o=0;for(;e&&e!==h.yt;)o++,e=e.parentElement;i>o&&(i=o,s=h)}return s}ui(t){let s=t.slice().sort((t,s)=>s.split(this.Ot.scope).length-t.split(this.Ot.scope).length),i=[];if((s=s.map(value=>`${this.Ot.scope}${value}${this.Ot.scope}`)).length)for(i.push(s.shift());s.length;){const t=s.shift();i.find(value=>-1===value.indexOf(t))&&i.push(t)}return(i=i.map(value=>value.substring(1,value.length-1))).sort((t,s)=>t.split(this.Ot.scope).length-s.split(this.Ot.scope).length),i}ei(t){this._t=this.hi.Ds(1,1),this._t=this.ui(this._t);let s=this.hi.Ds(),i=(s=this.ui(s)).join(this.Ot.gt);this.options.fi&&(i=this.options.fi(this.ni(i),this));let h=this.hi.Ds(1);(h=this.ui(h)).unshift(this.Ot.clear);const e=t.T&&t.T.length?`?${t.T}`:"";this.Ks.tt(i+e,h.join(this.Ot.gt)+e,t)}}Router.inject=[IContainer];class ViewportCustomElement{constructor(router,t){this.router=router,this.yt=t,this.name="default",this.scope=null,this.zt=null,this.default=null,this.Gt=null,this.Kt=null,this.viewport=null}mi(){const t={scope:this.yt.hasAttribute("scope")};this.zt&&this.zt.length&&(t.zt=this.zt),this.default&&this.default.length&&(t.default=this.default),this.yt.hasAttribute("no-link")&&(t.Gt=1),this.yt.hasAttribute("no-history")&&(t.Kt=1),this.viewport=this.router.ys(this.name,this.yt,t)}di(){this.router.Rs(this.viewport)}fs(t){this.viewport&&this.viewport.fs(t)}ds(t){this.viewport&&this.viewport.ds(t)}vs(t){this.viewport&&this.viewport.vs(t)}bs(t){this.viewport&&this.viewport.bs(t)}}ViewportCustomElement.inject=[Router,INode],__decorate([bindable],ViewportCustomElement.prototype,"name",void 0),__decorate([bindable],ViewportCustomElement.prototype,"scope",void 0),__decorate([bindable],ViewportCustomElement.prototype,"usedBy",void 0),__decorate([bindable],ViewportCustomElement.prototype,"default",void 0),__decorate([bindable],ViewportCustomElement.prototype,"noLink",void 0),__decorate([bindable],ViewportCustomElement.prototype,"noHistory",void 0),CustomElementResource.pi({name:"au-viewport",template:'<template><div class="viewport-header"> Viewport: <b>${name}</b> </div></template>'},ViewportCustomElement);let NavCustomElement=class{constructor(router){this.router=router,this.name=null,this.jt=null,this.level=0}get vi(){const t=this.router.li(this.name);return t?t.jt:[]}active(t){return"Active"}};__decorate([bindable],NavCustomElement.prototype,"name",void 0),__decorate([bindable],NavCustomElement.prototype,"routes",void 0),__decorate([bindable],NavCustomElement.prototype,"level",void 0),NavCustomElement=__decorate([inject(Router,Element),customElement({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name}">\n    <au-nav routes.bind="navRoutes" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level}">\n    <li repeat.for="route of routes" class="${route.active} ${route.hasChildren}">\n      <a if.bind="route.link && route.link.length" href="${route.link}">${route.title}</a>\n      <a if.bind="!route.link || !route.link.length" click.delegate="route.toggleActive()" href="">${route.title}</a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" containerless></au-nav>\n    </li>\n  </ul>\n</template>'})],NavCustomElement);export{HistoryBrowser,LinkHandler,Nav,Router,Scope,Viewport,ViewportCustomElement,NavCustomElement};
