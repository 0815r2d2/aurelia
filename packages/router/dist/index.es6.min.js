function parseQuery(t){const i={},s=[];if(!t||!t.length)return{t:i,list:s};const e=t.replace("+"," ").split("&");for(const t of e){const e=t.split("="),h=decodeURIComponent(e.shift());if(!e.length){s.push(h);continue}const value=decodeURIComponent(e.shift());i[h]=value}return{t:i,list:s}}function mergeParameters(t,i,s){const e=parseQuery(i),h=parseQuery(t),n=Object.assign({},e.t,h.t),o=[...e.list,...h.list];if(o.length&&s&&s.length)for(const t of s)n[t]=o.shift();let r;return o.length&&Object.keys(n).length&&(n["i"]=o.splice(0,o.length)),{t:n,list:o,s:r=o.length?o:n}}function __decorate(t,i,s,e){var h,n,o=arguments.length,r=3>o?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,i,s,e);else for(n=t.length-1;n>=0;n--)(h=t[n])&&(r=(3>o?h(r):o>3?h(i,s,r):h(i,s))||r);return o>3&&r&&Object.defineProperty(i,s,r),r}import{IObserverLocator,LifecycleFlags,CustomElementResource,IDOM,IProjectorLocator,IRenderingEngine,Aurelia,INode,bindable,customElement}from"@aurelia/runtime";import{IContainer,inject}from"@aurelia/kernel";class HistoryBrowser{constructor(){this.h=(()=>{if(null!==this.o){const t=this.o;return this.o=null,void t()}const t=this.l(),i=this.u(),s={};let e,h=this.m("HistoryEntry");if(this.p&&this.p.path===t){s.v=1;const t=this.g?this.$.index:this.history.length-this.C;e=this.$,this.$=this.p,this.$.index=t,this.g?(this.P=0,this.k[this.$.index]=this.$,this.O?(s.R=1,this.O=0):this.H?(s.V=1,this.H=0):s.N=1,this.g=0):(this.P=1,this.k=this.k.slice(0,this.$.index),this.k.push(this.$)),this._({S:this.k,j:this.C,L:this.$})}else this.k=this.k||this.m("HistoryEntries")||[],this.C=this.C||this.m("HistoryOffset")||0,h||this.$?h?this.$?h.index>this.$.index?s.I=1:this.$.index>h.index&&(s.F=1):s.V=1:s.v=1:(s.v=1,s.A=1,this.C=this.history.length),h||(this.k=this.k.slice(0,(h={path:t,D:null,index:this.history.length-this.C,B:i}).index),this.k.push(h),this._({S:this.k,j:this.C,L:h})),this.P=this.$?h.index-this.$.index:0,e=this.$,this.$=h,this.O&&(s.R=1,this.O=0);this.p=null,this.J&&this.J--,this.T(this.$,s,e)}),this.location=window.location,this.history=window.history,this.$=null,this.k=null,this.C=null,this.M=null,this.p=null,this.options=null,this.U=0,this.P=null,this.J=null,this.O=0,this.g=0,this.H=0,this.o=null}q(t){if(this.U)throw Error("History has already been activated.");return this.U=1,this.options=Object.assign({},t),window.addEventListener("popstate",this.h),Promise.resolve().then(()=>{this.W(this.l(),1)})}G(){window.removeEventListener("popstate",this.h),this.U=0}K(t,i,s){this.p={path:t,D:null,title:i,data:s},this.W(t)}replace(t,i,s){this.g=1,this.p={path:t,D:null,title:i,data:s},this.W(t,1)}X(t,i,s){this.J=this.P+1,this.replace(t,i,s)}refresh(){this.$&&(this.H=1,this.replace(this.$.path,this.$.title,this.$.data))}back(){this.history.go(-1)}forward(){this.history.go(1)}cancel(){this.O=1;const t=this.P||this.J;t?this.history.go(-t):this.replace(this.M.path,this.M.title,this.M.data)}async pop(){let t,i=new Promise(t=>{this.o=t});this.history.go(-1),await i;const s=""+this.location;t=this.history.state,i=new Promise(t=>{this.o=t}),this.history.go(-1),await i,this.history.pushState(t,null,s)}_(t,value){const{pathname:i,search:s,hash:e}=this.location;let h=Object.assign({},this.history.state);"string"==typeof t?h[t]=JSON.parse(JSON.stringify(value)):h=Object.assign({},h,JSON.parse(JSON.stringify(t))),this.history.replaceState(h,null,`${i}${s}${e}`)}m(t){return Object.assign({},this.history.state)[t]}Y(t){this.$.title=t,this.k[this.$.index]=this.$,this._({S:this.k,L:this.$})}Z(t,i,s){if(s.index!==this.$.index)return;const e=`#/${t}`,{pathname:h,search:n,hash:o}=this.location;if(e===o&&this.$.path===t&&this.$.D===i)return;this.$.path=t,this.$.D=i;const r=Object.assign({},this.history.state,{L:this.$,S:this.k});this.history.replaceState(r,null,`${h}${n}${e}`)}tt(t){t.startsWith("#")||(t=`#${t}`),this.location.hash=t}get it(){return this.k?this.k.slice(0,this.$.index+1).map(value=>value.title):[]}l(){return this.location.hash.substring(1).split("?")[0]}W(t,i=0){if(this.$&&this.$.path===t&&!this.H)return;const{pathname:s,search:e}=this.location,h=`#${t}`;i?(this.M=this.$,this.history.replaceState({},null,`${s}${e}${h}`)):this.history.pushState({},null,`${s}${e}${h}`),this.h()}u(){const t=this.location.hash.substring(1).split("?");return t.shift(),t.length>0?t.shift():""}T(t,i,s){const e=Object.assign({},t,i);e.st=s,this.options.T&&this.options.T(e)}}class LinkHandler{constructor(){this.U=0,this.et=(t=>{const i=LinkHandler.ht(t);i.nt&&(t.preventDefault(),this.options.T(i))}),this.document=document}static ht(t){const i={nt:0,href:null,anchor:null},s=LinkHandler.ot(t.target);if(!s||!LinkHandler.rt(s))return i;if(s.hasAttribute("external"))return i;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return i;const e=s.getAttribute("href");return i.anchor=s,i.href=e,i.nt=1===t.which,i}static ot(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static rt(t){const i=t.getAttribute("target");return!i||i===LinkHandler.window.name||"_self"===i}q(t){if(this.U)throw Error("LinkHandler has already been activated.");this.U=1,this.options=Object.assign({},t),this.document.addEventListener("click",this.et,1)}G(){this.document.removeEventListener("click",this.et,1),this.U=0}}class NavRoute{constructor(t,i){this.active="",this.lt=t,Object.assign(this,{ct:i.ct,title:i.title,children:null,at:i.at,active:""}),this.link=this.ut(this.ct),this.ft=i.dt?this.ut(i.dt):this.link,this.pt=this.lt.router.vt.get(IObserverLocator),this.wt=this.pt.bt(LifecycleFlags.yt,this.lt.router,"activeComponents"),this.wt.subscribe(this)}get gt(){return this.children&&this.children.length?"nav-has-children":""}Et(){this.active=this.link&&this.link.length?this.$t():"nav-active"===this.active?"nav-active":this.Ct()?"nav-active-child":""}$t(){const t=this.ft.split(this.lt.router.Pt.add),i=this.lt.router.kt;for(const component of t)if(0>component.indexOf(this.lt.router.Pt.viewport)){if(0>i.findIndex(value=>value.replace(/\@[^=]*/,"")===component))return""}else if(0>i.indexOf(component))return"";return"nav-active"}Ot(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}ut(t){return Array.isArray(t)?t.map(value=>this.Rt(value)).join(this.lt.router.Pt.Ht):this.Rt(t)}Ct(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.Ct())return 1;return 0}Rt(component){return component?"string"==typeof component?component:component.description?component.description.name:component.component?this.Rt(component.component)+(component.viewport?`@${component.viewport}`:""):void 0:""}}class Nav{constructor(router,name){this.router=router,this.name=name,this.Vt=[]}Nt(t){for(const i of t)this._t(this.Vt,i)}_t(t,i){const s=new NavRoute(this,i);if(t.push(s),i.children){s.children=[];for(const t of i.children)this._t(s.children,t)}}}class Viewport{constructor(router,name,t,i,s,e){this.router=router,this.name=name,this.St=t,this.jt=i,this.scope=s,this.options=e,this.clear=0,this.content=null,this.Lt=null,this.t=null,this.It=null,this.Ft=null,this.At=null,this.component=null,this.xt=null,this.Dt=null}Bt(t,i){let s;if(this.clear=0,"string"==typeof t)if(t===this.router.Pt.clear)this.clear=1,t=null;else{const i=t.split(this.router.Pt.t);t=i.shift(),s=i.length?i.join(this.router.Pt.t):null;const e=this.router.vt.Jt(CustomElementResource.Qt(t));null!==e&&(t=e.Mt(this.router.vt).Tt)}return this.Lt=t,this.At=i,this.It=s,this.content!==t||this.t!==s||!this.Ft||this.Ft.B!==i.B||i.V?1:0}Ut(t,i){this.scope&&this.scope.parent&&!this.scope.viewport&&(this.scope.viewport=this),this.scope&&!this.scope.St&&(this.scope.St=t),this.St||(this.St=t,i&&i.qt&&(this.options.qt=i.qt),i&&i.default&&(this.options.default=i.default),i&&i.Wt&&(this.options.Wt=i.Wt),i&&i.zt&&(this.options.zt=i.zt),this.Dt&&this.Dt()),this.component||this.xt||!this.options.default||this.router.Gt(this,this.options.default)}Kt(){if(!this.component)return Promise.resolve(1);const component=this.component;if(!component.Kt)return Promise.resolve(1);const t=component.Kt(this.Ft,this.At);return"boolean"==typeof t?Promise.resolve(t):t}Xt(){if(this.clear)return Promise.resolve(1);if(!this.Lt)return Promise.resolve(0);if(this.loadComponent(this.Lt),!this.xt)return Promise.resolve(0);const component=this.xt;if(!component.Xt)return Promise.resolve(1);const t=component.Xt(this.At,this.Ft);return"boolean"==typeof t?Promise.resolve(t):t}async Yt(){if(this.component&&(this.component.Zt&&await this.component.Zt(this.Ft,this.At),this.xt||this.ti(this.component)),this.xt){if(this.xt.ii){const t=mergeParameters(this.It,this.At.B,this.Lt.t);this.At.t=t.t,this.At.si=t.list,await this.xt.ii(t.s,this.At,this.Ft)}if(!this.St&&(await this.ei(),!this.St))return Promise.resolve(0);this.component&&this.ti(this.component),this.addComponent(this.xt),this.content=this.Lt,this.t=this.It,this.Ft=this.At,this.component=this.xt}return this.clear&&(this.content=this.t=this.component=null,this.Ft=this.At),this.Lt=this.It=this.At=this.xt=null,Promise.resolve(1)}description(t=0){if(this.content){const component=this.content.description.name,i=this.scope?this.router.Pt.hi:"",s=this.t?this.router.Pt.t+this.t:"";if(t||i.length||this.options.ni)return`${component}${this.router.Pt.viewport}${this.name}${i}${s}`;const e={};return e[component]=component,this.jt.oi(e)?`${component}${s}`:`${component}${this.router.Pt.viewport}${this.name}${i}${s}`}}ri(t=0){return[this.jt.context(t),this.description(t)].filter(value=>value&&value.length).join(this.router.Pt.scope)}li(component){let t=this.options.qt||[];return"string"==typeof t&&(t=t.split(",")),t.indexOf(component)>=0}ci(component){if("-"===component||null===component)return 1;let t=this.options.qt;return t&&t.length?("string"==typeof t&&(t=t.split(",")),0>t.indexOf(component)?t.filter(value=>value.indexOf("*")>=0).length?1:0:1):1}ai(t){this.component&&this.component.ui(t)}fi(t){this.component&&this.component.di(t)}mi(t){this.component&&this.component.pi(t)}vi(t){this.component&&this.component.wi(t)}loadComponent(component){this.xt=this.router.vt.get(CustomElementResource.Qt(component.description.name))}addComponent(component){const host=this.St,t=this.router.vt,dom=t.get(IDOM),i=t.get(IProjectorLocator),s=t.get(IRenderingEngine);component.bi(LifecycleFlags.yt,dom,i,s,host,null),component.ui(LifecycleFlags.yi|LifecycleFlags.gi,null),component.di(LifecycleFlags.yi)}ti(component){component.pi(LifecycleFlags.Ei),component.wi(LifecycleFlags.Ei|LifecycleFlags.$i)}async ei(){return this.St?Promise.resolve():new Promise(t=>{this.Dt=t})}}class Scope{constructor(router,t,i){this.router=router,this.St=t,this.parent=i,this.viewport=null,this.children=[],this.Ci={},this.Pi={},this.ki=null,this.parent&&this.parent.Oi(this)}oi(t){const i=[];let s=0;t&&(this.ki={},this.Pi={}),this.ki=Object.assign({},this.Ci,this.ki);for(const i in t){const parts=i.split(this.router.Pt.scope),t=parts.shift();this.Pi[t]||(this.Pi[t]=[]),this.Pi[t].push(parts)}for(const e in this.Pi){const h=e.split(this.router.Pt.t),component=h.shift().split(this.router.Pt.viewport).shift(),n=component+(h.length?this.router.Pt.t+h.join(this.router.Pt.t):"");for(const name in this.ki){const h=this.ki[name];if(h&&h.li(component)){const o=this.Ri(t,this.Pi,e,n,h);i.push(...o.Hi),s=s||o.Vi,this.ki[name]=null,delete this.Pi[e];break}}}for(const e in this.Pi){const h=e.split(this.router.Pt.t),parts=h.shift().split(this.router.Pt.viewport),component=parts.shift(),n=component+(h.length?this.router.Pt.t+h.join(this.router.Pt.t):"");let name=parts.shift();if(!name||!name.length||name.startsWith("?"))continue;let o=0;name.endsWith(this.router.Pt.hi)&&(o=1,name=name.substring(0,name.length-1)),this.Ci[name]||(this.Ni(name,null,{scope:o,ni:1}),this.ki[name]=this.Ci[name]);const r=this.ki[name];if(r&&r.ci(component)){const h=this.Ri(t,this.Pi,e,n,r);i.push(...h.Hi),s=s||h.Vi,this.ki[name]=null,delete this.Pi[e]}}for(const e in this.Pi){const h=e.split(this.router.Pt.t),component=h.shift().split(this.router.Pt.viewport).shift(),n=component+(h.length?this.router.Pt.t+h.join(this.router.Pt.t):""),o=[];for(const name in this.ki){const t=this.ki[name];t&&t.ci(component)&&o.push(t)}if(1===o.length){const h=o.shift(),r=this.Ri(t,this.Pi,e,n,h);i.push(...r.Hi),s=s||r.Vi,this.ki[h.name]=null,delete this.Pi[e];break}}if(s=s||Object.keys(this.Pi).length>0,!t)for(const t of this.children){const e=t.oi();i.push(...e.Hi),s=s||e.Vi}return{Hi:i,Vi:s}}Ri(t,i,s,component,e){const h=[{component,viewport:e}];let n=0;if(i[s].length){const o=e.scope||e.jt;for(const e of i[s])if(e.length){const i=e.join(this.router.Pt.scope),r={};r[i]=t[s+this.router.Pt.scope+i];const l=o.oi(r);h.push(...l.Hi),n=n||l.Vi}}return{Hi:h,Vi:n}}Ni(name,t,i){let s=this.Ci[name];if(!s){let e;i.scope&&(e=new Scope(this.router,t,this),this.router._i.push(e)),s=this.Ci[name]=new Viewport(this.router,name,t,this,e,i)}return t&&s.Ut(t,i),s}Si(t){return t.scope&&this.router.ji(t.scope),delete this.Ci[t.name],Object.keys(this.Ci).length}ji(){for(const t of this.children)t.ji();for(const t in this.Ci)this.router.Si(this.Ci[t])}Li(t){return t.Xt().then(()=>t.Yt())}Oi(t){0>this.children.indexOf(t)&&this.children.push(t)}removeChild(t){this.children.splice(this.children.indexOf(t),1)}Ii(t=0,i=0){const s=[];for(const e in this.Ci){const h=this.Ci[e];(h.options.zt||h.options.Wt&&!t)&&!i||s.push(h.ri(t))}for(const i of this.children)s.push(...i.Ii(t));return s.filter(value=>value&&value.length)}Fi(){const t=[];for(const i in this.Ci)t.push(this.Ci[i]);for(const i of this.children)t.push(...i.Fi());return t}context(t=0){if(!this.St||!this.parent)return"";const i=[];this.viewport&&i.unshift(this.viewport.description(t));let s=this.parent.Ai(this.St.parentElement);for(;s&&s.jt===this.parent;)i.unshift(s.description(t)),s=this.Ai(s.St.parentElement);return i.unshift(this.parent.context(t)),i.filter(value=>value&&value.length).join(this.router.Pt.scope)}xi(component){if("string"==typeof component){const t=this.router.vt.Jt(CustomElementResource.Qt(component));null!==t&&(component=t.Mt(this.router.vt).Tt)}return component}Ai(t){let i,s=Number.MAX_SAFE_INTEGER;for(const e in this.Ci){const h=this.Ci[e].St;let n=t,o=0;for(;n&&n!==h;)o++,n=n.parentElement;s>o&&(s=o,i=this.Ci[e])}return i}}class Router{constructor(t){this.vt=t,this.Ci={},this._i=[],this.Di={},this.kt=[],this.Bi=[],this.U=0,this.Ji=0,this.Qi=[],this.Ti=null,this.Mi=(t=>{let i=t.href;if(i.startsWith("#")&&(i=i.substring(1)),!i.startsWith("/")){const s=this.Ui(t.anchor).context();s&&(i=`/${s}${this.Pt.scope}${i}`)}this.qi.tt(i)}),this.qi=new HistoryBrowser,this.Wi=new LinkHandler}q(t){if(this.U)throw Error("Router has already been activated.");return this.U=1,this.options=Object.assign({T:t=>{this.zi(t)}},t),this.Pt=Object.assign({viewport:"@",Ht:"+",scope:"/",hi:"!",t:"=",add:"+",clear:"-",action:"."},this.options.Pt),this.Wi.q({T:this.Mi}),this.qi.q(this.options).catch(t=>{throw t})}G(){if(!this.U)throw Error("Router has not been activated.");this.Wi.G(),this.qi.G()}zi(t){this.Qi.push(t),this.Gi().catch(t=>{throw t})}async Gi(){if(null!==this.Ti||!this.Qi.length)return Promise.resolve();const t=this.Qi.shift();if(this.Ti=t,this.options.Ki&&this.options.Ki(t),t.R)return this.Ti=null,Promise.resolve();let i=0,s=0;(t.F||t.I)&&t.D&&(t.path=t.D,s=1);let e=t.path;this.options.Xi&&!s&&(e=this.options.Xi(e,this),Array.isArray(e)&&(e=this.Yi(e))),(e===this.Pt.clear||e.startsWith(this.Pt.clear+this.Pt.add))&&(i=1,e.startsWith(this.Pt.clear)&&(e=e.substring(1)));const h=parseQuery(t.B);t.t=h.t,t.si=h.list;const n=this.Zi(e);if(!n&&!Object.keys(n).length&&!i)return this.Ti=null,Promise.resolve();this.ts();const o=i?this.ss.Fi().filter(value=>null!==value.component):[],r=this.ss.Fi().filter(value=>value.options.default&&null===value.component);let l=t.A,{Hi:c,Vi:a}=this.ss.oi(n),u=100;for(;(c.length||a||r.length)&&u--;){const i=[];for(const s of c){const{component,viewport:e}=s;e.Bt(component,t)&&i.push(e);const h=o.findIndex(value=>value===e);0>h||o.splice(h,1);const n=r.findIndex(value=>value===e);0>n||r.splice(n,1)}for(const s of o)s.Bt(this.Pt.clear,t)&&i.push(s);let s;for(;s=r.shift();)s.Bt(s.options.default,t)&&i.push(s);!i.length&&this.Ji&&(this.qi.cancel(),this.Ji=0);let e=await Promise.all(i.map(value=>value.Kt()));if(e.findIndex(value=>0==value)>=0)return this.qi.cancel(),this.Ti=null,Promise.resolve();if((e=await Promise.all(i.map(value=>value.Xt()))).findIndex(value=>0==value)>=0)return this.qi.cancel(),this.Ti=null,Promise.resolve();await Promise.all(i.map(value=>value.Yt())),i.reduce((t,i)=>!i.options.zt||t,l)&&(l=1);const h=this.ss.oi();let n;for(c=[];n=this.Bi.shift();)h.Hi.find(value=>value.viewport===n.viewport)||c.push(n);c=[...c,...h.Hi],a=h.Vi}this.es(t),l||this.qi.pop().catch(t=>{throw t}),this.Ti=null,this.Qi.length&&this.Gi().catch(t=>{throw t})}Gt(t,component){this.Ti&&this.Bi.push({viewport:t,component})}Zi(t){const i={};t.startsWith("/")&&(t=t.substring(1));const s=t.split(this.Pt.Ht);let e=0;for(;s.length;){const t=s.shift().split(this.Pt.scope),parts=t.pop().split(this.Pt.viewport),component=parts[0];t.push(parts.length?parts.join(this.Pt.viewport):`?${e++}`);const name=t.join(this.Pt.scope);component&&(i[name]=component)}return i}hs(t){return this.ts(),this.Ui(t)}Ni(name,t,i){return this.hs(t).Ni(name,t,i)}Si(t){const i=t.jt;i.Si(t)||this.ji(i)}ji(t){if(t!==this.ss){t.ji();const i=this._i.indexOf(t);0>i||this._i.splice(i,1)}}K(t,i,s){"string"==typeof t&&this.qi.K(t,i,s)}replace(t,i,s){"string"==typeof t&&this.qi.replace(t,i,s)}refresh(){this.qi.refresh()}back(){this.qi.back()}forward(){this.qi.forward()}Yi(t){const i=[];for(const s of t){let t=s.component;if(s.viewport&&(t+=this.Pt.viewport+s.viewport),s.t)for(const i in s.t)t+=this.Pt.t+s.t[i];i.push(t)}return i.join(this.Pt.Ht)}ns(t){const i=[],s=t.split(this.Pt.Ht);for(const t of s){let component,s,e;const[h,n]=t.split(this.Pt.viewport);void 0===n?[component,e]=h.split(this.Pt.t):(component=h,[s,e]=n.split(this.Pt.t));const o={component};s&&(o.viewport=s),e&&(o.t={id:e}),i.push(o)}return i}os(name,t){const i=this.rs(name);i&&(i.Vt=[]),this.ls(name,t)}ls(name,t){let i=this.Di[name];i||(i=this.Di[name]=new Nav(this,name)),i.Nt(t)}rs(name){return this.Di[name]}ts(){if(!this.ss){const t=this.vt.get(Aurelia).root().cs;this.ss=new Scope(this,t,null),this._i.push(this.ss)}}Ui(t){let i,s=Number.MAX_SAFE_INTEGER;for(const e of this._i){let h=t,n=0;for(;h&&h!==e.St;)n++,h=h.parentElement;s>n&&(s=n,i=e)}return i}as(t){let i=t.slice().sort((t,i)=>i.split(this.Pt.scope).length-t.split(this.Pt.scope).length),s=[];if((i=i.map(value=>`${this.Pt.scope}${value}${this.Pt.scope}`)).length)for(s.push(i.shift());i.length;){const t=i.shift();s.find(value=>-1===value.indexOf(t))&&s.push(t)}return(s=s.map(value=>value.substring(1,value.length-1))).sort((t,i)=>t.split(this.Pt.scope).length-i.split(this.Pt.scope).length),s}es(t){this.kt=this.ss.Ii(1,1),this.kt=this.as(this.kt);let i=this.ss.Ii(),s=(i=this.as(i)).join(this.Pt.Ht);this.options.us&&(s=this.options.us(this.ns(s),this));let e=this.ss.Ii(1);(e=this.as(e)).unshift(this.Pt.clear);const h=t.B&&t.B.length?`?${t.B}`:"";this.qi.Z(s+h,e.join(this.Pt.Ht)+h,t)}}Router.inject=[IContainer];class ViewportCustomElement{constructor(router,t){this.router=router,this.St=t,this.name="default",this.scope=null,this.qt=null,this.default=null,this.Wt=null,this.zt=null,this.viewport=null}fs(){const t={scope:this.St.hasAttribute("scope")};this.qt&&this.qt.length&&(t.qt=this.qt),this.default&&this.default.length&&(t.default=this.default),this.St.hasAttribute("no-link")&&(t.Wt=1),this.St.hasAttribute("no-history")&&(t.zt=1),this.viewport=this.router.Ni(this.name,this.St,t)}ds(){this.router.Si(this.viewport)}ai(t){this.viewport&&this.viewport.ai(t)}fi(t){this.viewport&&this.viewport.fi(t)}mi(t){this.viewport&&this.viewport.mi(t)}vi(t){this.viewport&&this.viewport.vi(t)}}ViewportCustomElement.inject=[Router,INode],__decorate([bindable],ViewportCustomElement.prototype,"name",void 0),__decorate([bindable],ViewportCustomElement.prototype,"scope",void 0),__decorate([bindable],ViewportCustomElement.prototype,"usedBy",void 0),__decorate([bindable],ViewportCustomElement.prototype,"default",void 0),__decorate([bindable],ViewportCustomElement.prototype,"noLink",void 0),__decorate([bindable],ViewportCustomElement.prototype,"noHistory",void 0),CustomElementResource.ms({name:"au-viewport",template:'<template><div class="viewport-header"> Viewport: <b>${name}</b> </div></template>'},ViewportCustomElement);let NavCustomElement=class{constructor(router){this.router=router,this.name=null,this.Vt=null,this.level=0}get ps(){const t=this.router.rs(this.name);return t?t.Vt:[]}active(t){return"Active"}};__decorate([bindable],NavCustomElement.prototype,"name",void 0),__decorate([bindable],NavCustomElement.prototype,"routes",void 0),__decorate([bindable],NavCustomElement.prototype,"level",void 0),NavCustomElement=__decorate([inject(Router,Element),customElement({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name}">\n    <au-nav routes.bind="navRoutes" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level}">\n    <li repeat.for="route of routes" class="${route.active} ${route.hasChildren}">\n      <a if.bind="route.link && route.link.length" href="${route.link}">${route.title}</a>\n      <a if.bind="!route.link || !route.link.length" click.delegate="route.toggleActive()" href="">${route.title}</a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" containerless></au-nav>\n    </li>\n  </ul>\n</template>'})],NavCustomElement);export{HistoryBrowser,LinkHandler,Nav,Router,Scope,Viewport,ViewportCustomElement,NavCustomElement};
