this.au=this.au||{},this.au.router=(function(t,runtime,kernel){"use strict";function i(t){const i={},s=[];if(!t||!t.length)return{t:i,list:s};const h=t.replace("+"," ").split("&");for(const t of h){const h=t.split("="),n=decodeURIComponent(h.shift());if(!h.length){s.push(n);continue}const value=decodeURIComponent(h.shift());i[n]=value}return{t:i,list:s}}function s(t,i,s,h){var n,e,r=arguments.length,o=3>r?i:null===h?h=Object.getOwnPropertyDescriptor(i,s):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,s,h);else for(e=t.length-1;e>=0;e--)(n=t[e])&&(o=(3>r?n(o):r>3?n(i,s,o):n(i,s))||o);return r>3&&o&&Object.defineProperty(i,s,o),o}class h{constructor(){this.i=(()=>{if(null!==this.s){const t=this.s;return this.s=null,void t()}const t=this.h(),i=this.o(),s={};let h,n=this.l("HistoryEntry");if(this.u&&this.u.path===t){s.p=1;const t=this.v?this.m.index:this.history.length-this.g;h=this.m,this.m=this.u,this.m.index=t,this.v?(this.$=0,this.O[this.m.index]=this.m,this.C?(s.P=1,this.C=0):this.j?(s.k=1,this.j=0):s.S=1,this.v=0):(this.$=1,this.O=this.O.slice(0,this.m.index),this.O.push(this.m)),this.R({H:this.O,V:this.g,N:this.m})}else this.O=this.O||this.l("HistoryEntries")||[],this.g=this.g||this.l("HistoryOffset")||0,n||this.m?n?this.m?n.index>this.m.index?s.A=1:this.m.index>n.index&&(s.I=1):s.k=1:s.p=1:(s.p=1,s.J=1,this.g=this.history.length),n||(this.O=this.O.slice(0,(n={path:t,L:null,index:this.history.length-this.g,T:i}).index),this.O.push(n),this.R({H:this.O,V:this.g,N:n})),this.$=this.m?n.index-this.m.index:0,h=this.m,this.m=n,this.C&&(s.P=1,this.C=0);this.u=null,this.D&&this.D--,this.F(this.m,s,h)}),this.location=window.location,this.history=window.history,this.m=null,this.O=null,this.g=null,this._=null,this.u=null,this.options=null,this.U=0,this.$=null,this.D=null,this.C=0,this.v=0,this.j=0,this.s=null}q(t){if(this.U)throw Error("History has already been activated.");return this.U=1,this.options=Object.assign({},t),window.addEventListener("popstate",this.i),Promise.resolve().then(()=>{this.B(this.h(),1)})}W(){window.removeEventListener("popstate",this.i),this.U=0}G(t,i,s){this.u={path:t,L:null,title:i,data:s},this.B(t)}replace(t,i,s){this.v=1,this.u={path:t,L:null,title:i,data:s},this.B(t,1)}K(t,i,s){this.D=this.$+1,this.replace(t,i,s)}refresh(){this.m&&(this.j=1,this.replace(this.m.path,this.m.title,this.m.data))}back(){this.history.go(-1)}forward(){this.history.go(1)}cancel(){this.C=1;const t=this.$||this.D;t?this.history.go(-t):this.replace(this._.path,this._.title,this._.data)}async pop(){let t,i=new Promise(t=>{this.s=t});this.history.go(-1),await i;const s=""+this.location;t=this.history.state,i=new Promise(t=>{this.s=t}),this.history.go(-1),await i,this.history.pushState(t,null,s)}R(t,value){const{pathname:i,search:s,hash:h}=this.location;let n=Object.assign({},this.history.state);"string"==typeof t?n[t]=JSON.parse(JSON.stringify(value)):n=Object.assign({},n,JSON.parse(JSON.stringify(t))),this.history.replaceState(n,null,`${i}${s}${h}`)}l(t){return Object.assign({},this.history.state)[t]}M(t){this.m.title=t,this.O[this.m.index]=this.m,this.R({H:this.O,N:this.m})}X(t,i,s){if(s.index!==this.m.index)return;const h=`#/${t}`,{pathname:n,search:e,hash:r}=this.location;if(h===r&&this.m.path===t&&this.m.L===i)return;this.m.path=t,this.m.L=i;const o=Object.assign({},this.history.state,{N:this.m,H:this.O});this.history.replaceState(o,null,`${n}${e}${h}`)}Y(t){t.startsWith("#")||(t=`#${t}`),this.location.hash=t}get Z(){return this.O?this.O.slice(0,this.m.index+1).map(value=>value.title):[]}h(){return this.location.hash.substring(1).split("?")[0]}B(t,i=0){if(this.m&&this.m.path===t&&!this.j)return;const{pathname:s,search:h}=this.location,n=`#${t}`;i?(this._=this.m,this.history.replaceState({},null,`${s}${h}${n}`)):this.history.pushState({},null,`${s}${h}${n}`),this.i()}o(){const t=this.location.hash.substring(1).split("?");return t.shift(),t.length>0?t.shift():""}F(t,i,s){const h=Object.assign({},t,i);h.tt=s,this.options.F&&this.options.F(h)}}class n{constructor(){this.U=0,this.it=(t=>{const i=n.st(t);i.ht&&(t.preventDefault(),this.options.F(i))}),this.document=document}static st(t){const i={ht:0,href:null,anchor:null},s=n.nt(t.target);if(!s||!n.et(s))return i;if(s.hasAttribute("external"))return i;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return i;const h=s.getAttribute("href");return i.anchor=s,i.href=h,i.ht=1===t.which,i}static nt(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static et(t){const i=t.getAttribute("target");return!i||i===n.window.name||"_self"===i}q(t){if(this.U)throw Error("LinkHandler has already been activated.");this.U=1,this.options=Object.assign({},t),this.document.addEventListener("click",this.it,1)}W(){this.document.removeEventListener("click",this.it,1),this.U=0}}class e{constructor(t,i){this.active="",this.rt=t,Object.assign(this,{ot:i.ot,title:i.title,children:null,lt:i.lt,active:""}),this.link=this.ct(this.ot),this.at=i.ut?this.ct(i.ut):this.link,this.ft=this.rt.router.dt.get(runtime.IObserverLocator),this.pt=this.ft.vt(runtime.LifecycleFlags.wt,this.rt.router,"activeComponents"),this.pt.subscribe(this)}get yt(){return this.children&&this.children.length?"nav-has-children":""}bt(){this.active=this.link&&this.link.length?this.gt():"nav-active"===this.active?"nav-active":this.$t()?"nav-active-child":""}gt(){const t=this.at.split(this.rt.router.Ot.add),i=this.rt.router.Ct;for(const component of t)if(0>component.indexOf(this.rt.router.Ot.viewport)){if(0>i.findIndex(value=>value.replace(/\@[^=]*/,"")===component))return""}else if(0>i.indexOf(component))return"";return"nav-active"}Pt(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}ct(t){return Array.isArray(t)?t.map(value=>this.jt(value)).join(this.rt.router.Ot.kt):this.jt(t)}$t(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.$t())return 1;return 0}jt(component){return component?"string"==typeof component?component:component.description?component.description.name:component.component?this.jt(component.component)+(component.viewport?`@${component.viewport}`:""):void 0:""}}class r{constructor(router,name){this.router=router,this.name=name,this.Et=[]}St(t){for(const i of t)this.Rt(this.Et,i)}Rt(t,i){const s=new e(this,i);if(t.push(s),i.children){s.children=[];for(const t of i.children)this.Rt(s.children,t)}}}class o{constructor(router,name,t,i,s,h,n){this.router=router,this.name=name,this.Ht=t,this.context=i,this.Vt=s,this.scope=h,this.options=n,this.clear=0,this.content=null,this.Nt=null,this.t=null,this.At=null,this.It=null,this.xt=null,this.component=null,this.Jt=null,this.Lt=null,this.Tt=null,this.Dt=0}Ft(t,i){let s;if(this.clear=0,"string"==typeof t)if(t===this.router.Ot.clear)this.clear=1,t=null;else{const i=t.split(this.router.Ot.t);t=i.shift(),s=i.length?i.join(this.router.Ot.t):null,this.context&&(t=this._t(t))}return this.Nt=t,this.xt=i,this.At=s,this.Dt=0,"string"==typeof t&&this.zt(this.content)!==t||"string"!=typeof t&&this.content!==t||this.t!==s||!this.It||this.It.T!==i.T||i.k?1:0}Ut(t,i,s){this.scope&&this.scope.parent&&!this.scope.viewport&&(this.scope.viewport=this),this.scope&&!this.scope.Ht&&(this.scope.Ht=t),this.Ht!==t&&(this.Tt=Object.assign({},this),this.qt(),this.Ht=t,s&&s.Bt&&(this.options.Bt=s.Bt),s&&s.default&&(this.options.default=s.default),s&&s.Wt&&(this.options.Wt=s.Wt),s&&s.Gt&&(this.options.Gt=s.Gt),this.Lt&&this.Lt()),this.context!==i&&(this.context=i),this.component||this.Jt||!this.options.default||this.router.Kt(this,this.options.default)}remove(t,i){return this.Ht===t&&this.context===i}async Mt(){if(!this.component)return 1;const component=this.component;return component.Mt?component.Mt(this.It,this.xt):1}async Qt(){if(this.clear)return 1;if(!this.Nt)return 0;if(await this.loadComponent(this.Nt),!this.Jt)return 0;const component=this.Jt;return component.Qt?component.Qt(this.xt,this.It):1}async Xt(){if(this.clear)return 1;if(!this.Jt)return 0;if(this.Jt.Xt){const t=(function(t,s,h){const n=i(s),e=i(t),r=Object.assign({},n.t,e.t),o=[...n.list,...e.list];if(o.length&&h&&h.length)for(const t of h)r[t]=o.shift();let l;return o.length&&Object.keys(r).length&&(r["Yt"]=o.splice(0,o.length)),{Zt:r,ti:o,ii:l=o.length?o:r}})(this.At,this.xt.T,this.Nt.t);this.xt.t=t.Zt,this.xt.ti=t.ti,await this.Jt.Xt(t.ii,this.xt,this.It),this.Dt=0}return this.si(this.Jt),1}async hi(){return this.component&&(this.component.ni&&await this.component.ni(this.It,this.xt),this.Jt||(this.ei(this.component),this.ri(this.component),this.oi(this.component))),this.Jt&&(this.component&&(this.ei(this.component),this.ri(this.component),this.oi(this.component)),this.addComponent(this.Jt),this.content=this.Nt,this.t=this.At,this.It=this.xt,this.component=this.Jt),this.clear&&(this.content=this.t=this.component=null,this.It=this.xt),this.Nt=this.At=this.xt=this.Jt=null,1}li(){this.Tt=null}async ci(){this.Dt&&await this.Jt.ni(),this.Tt&&Object.assign(this,this.Tt)}description(t=0){if(this.content){const component=this.zt(this.content),i=this.scope?this.router.Ot.ai:"",s=this.t?this.router.Ot.t+this.t:"";if(t||i.length||this.options.ui)return`${component}${this.router.Ot.viewport}${this.name}${i}${s}`;const h={};return h[component]=component,this.Vt.fi(h)?`${component}${s}`:`${component}${this.router.Ot.viewport}${this.name}${i}${s}`}}di(t=0){return[this.Vt.pi(t),this.description(t)].filter(value=>value&&value.length).join(this.router.Ot.scope)}vi(component){let t=this.options.Bt||[];return"string"==typeof t&&(t=t.split(",")),t.indexOf(component)>=0}mi(component){if("-"===component||null===component)return 1;let t=this.options.Bt;return t&&t.length?("string"==typeof t&&(t=t.split(",")),0>t.indexOf(component)?t.filter(value=>value.indexOf("*")>=0).length?1:0:1):1}wi(t){this.component&&this.component.yi(t)}bi(t){this.component&&this.component.gi(t)}$i(t){this.component&&this.component.Oi(t)}Ci(t){this.component&&this.component.Pi(t)}zt(component){return null===component?null:"string"==typeof component?component:component.description.name}_t(component){if(null===component)return null;if("string"!=typeof component)return component;{const t=this.context||this.router.dt,i=t.get(kernel.IContainer).ji(runtime.CustomElementResource.ki(component));return null!==i?i.Si(t.get(kernel.IContainer)).Ei:null}}Ri(component){if(null===component)return null;component=this.zt(component);const t=this.context||this.router.dt;return"string"!=typeof component?t.get(kernel.IContainer).get(component):t.get(kernel.IContainer).get(runtime.CustomElementResource.ki(component))}qt(){this.options={},this.content=null,this.t=null,this.It=null,this.component=null}async loadComponent(component){await this.Hi(),this.Jt=this.Ri(component),this.Jt.Vi(runtime.LifecycleFlags.wt,this.context||this.router.dt,this.Ht)}oi(component){}si(component){component.yi(runtime.LifecycleFlags.Ni|runtime.LifecycleFlags.Ai,null)}ri(component){component.Pi(runtime.LifecycleFlags.Ii|runtime.LifecycleFlags.xi)}addComponent(component){component.gi(runtime.LifecycleFlags.Ni)}ei(component){component.Oi(runtime.LifecycleFlags.Ii)}async Hi(){return this.Ht?Promise.resolve():new Promise(t=>{this.Lt=t})}}class Scope{constructor(router,t,i,s){this.router=router,this.Ht=t,this.context=i,this.parent=s,this.viewport=null,this.children=[],this.Ji={},this.Li={},this.Ti=null,this.parent&&this.parent.Di(this)}fi(t){const i=[];let s=0;t&&(this.Ti={},this.Li={}),this.Ti=Object.assign({},this.Ji,this.Ti);for(const i in t){const parts=i.split(this.router.Ot.scope),t=parts.shift();this.Li[t]||(this.Li[t]=[]),this.Li[t].push(parts)}for(const h in this.Li){const n=h.split(this.router.Ot.t),component=n.shift().split(this.router.Ot.viewport).shift(),e=component+(n.length?this.router.Ot.t+n.join(this.router.Ot.t):"");for(const name in this.Ti){const n=this.Ti[name];if(n&&n.vi(component)){const r=this.Fi(t,this.Li,h,e,n);i.push(...r._i),s=s||r.zi,this.Ti[name]=null,Reflect.deleteProperty(this.Li,h);break}}}for(const h in this.Li){const n=h.split(this.router.Ot.t),parts=n.shift().split(this.router.Ot.viewport),component=parts.shift(),e=component+(n.length?this.router.Ot.t+n.join(this.router.Ot.t):"");let name=parts.shift();if(!name||!name.length||name.startsWith("?"))continue;let r=0;name.endsWith(this.router.Ot.ai)&&(r=1,name=name.substring(0,name.length-1)),this.Ji[name]||(this.Ui(name,null,null,{scope:r,ui:1}),this.Ti[name]=this.Ji[name]);const o=this.Ti[name];if(o&&o.mi(component)){const n=this.Fi(t,this.Li,h,e,o);i.push(...n._i),s=s||n.zi,this.Ti[name]=null,Reflect.deleteProperty(this.Li,h)}}for(const h in this.Li){const n=h.split(this.router.Ot.t),component=n.shift().split(this.router.Ot.viewport).shift(),e=component+(n.length?this.router.Ot.t+n.join(this.router.Ot.t):""),r=[];for(const name in this.Ti){const t=this.Ti[name];t&&t.mi(component)&&r.push(t)}if(1===r.length){const n=r.shift(),o=this.Fi(t,this.Li,h,e,n);i.push(...o._i),s=s||o.zi,this.Ti[n.name]=null,Reflect.deleteProperty(this.Li,h);break}}if(s=s||Object.keys(this.Li).length>0,!t)for(const t of this.children){const h=t.fi();i.push(...h._i),s=s||h.zi}return{_i:i,zi:s}}Fi(t,i,s,component,h){const n=[{component,viewport:h}];let e=0;if(i[s].length){const r=h.scope||h.Vt;for(const h of i[s])if(h.length){const i=h.join(this.router.Ot.scope),o={};o[i]=t[s+this.router.Ot.scope+i];const l=r.fi(o);n.push(...l._i),e=e||l.zi}}return{_i:n,zi:e}}Ui(name,t,i,s){let h=this.Ji[name];if(!h){let n;s.scope&&(n=new Scope(this.router,t,i,this),this.router.qi.push(n)),h=this.Ji[name]=new o(this.router,name,t,i,this,n,s)}return(t||i)&&h.Ut(t,i,s),h}Bi(t,i,s){return(!i&&!s||t.remove(i,s))&&(t.scope&&this.router.Wi(t.scope),Reflect.deleteProperty(this.Ji,t.name)),Object.keys(this.Ji).length}Wi(){for(const t of this.children)t.Wi();for(const t in this.Ji)this.router.Bi(this.Ji[t],null,null)}Gi(t){return t.Qt().then(()=>t.hi())}Di(t){0>this.children.indexOf(t)&&this.children.push(t)}removeChild(t){this.children.splice(this.children.indexOf(t),1)}Ki(t=0,i=0){const s=[];for(const h in this.Ji){const n=this.Ji[h];(n.options.Gt||n.options.Wt&&!t)&&!i||s.push(n.di(t))}for(const i of this.children)s.push(...i.Ki(t));return s.filter(value=>value&&value.length)}Mi(){const t=[];for(const i in this.Ji)t.push(this.Ji[i]);for(const i of this.children)t.push(...i.Mi());return t}pi(t=0){if(!this.Ht||!this.parent)return"";const i=[];this.viewport&&i.unshift(this.viewport.description(t));let s=this.parent.Qi(this.context.get(kernel.IContainer).parent);for(;s&&s.Vt===this.parent;)i.unshift(s.description(t)),s=this.Qi(s.context.get(kernel.IContainer).parent);return i.unshift(this.parent.pi(t)),i.filter(value=>value&&value.length).join(this.router.Ot.scope)}Qi(t){const i=Object.values(this.Ji);for(;t;){const s=i.find(i=>i.context.get(kernel.IContainer)===t);if(s)return s;t=t.parent}return null}}class l{constructor(t){this.dt=t,this.Ji={},this.qi=[],this.Xi={},this.Ct=[],this.Yi=[],this.U=0,this.Zi=0,this.ts=[],this.ss=null,this.hs=(t=>{let i=t.href;if(i.startsWith("#")&&(i=i.substring(1)),!i.startsWith("/")){const s=this.ns(t.anchor).pi();s&&(i=`/${s}${this.Ot.scope}${i}`)}this.es.Y(i)}),this.es=new h,this.rs=new n}q(t){if(this.U)throw Error("Router has already been activated.");return this.U=1,this.options=Object.assign({F:t=>{this.os(t)}},t),this.Ot=Object.assign({viewport:"@",kt:"+",scope:"/",ai:"!",t:"=",add:"+",clear:"-",action:"."},this.options.Ot),this.rs.q({F:this.hs}),this.es.q(this.options).catch(t=>{throw t})}W(){if(!this.U)throw Error("Router has not been activated.");this.rs.W(),this.es.W()}os(t){this.ts.push(t),this.ls().catch(t=>{throw t})}async ls(){if(null!==this.ss||!this.ts.length)return Promise.resolve();const t=this.ts.shift();if(this.ss=t,this.options.cs&&this.options.cs(t),t.P)return this.ss=null,Promise.resolve();let s=0,h=0;(t.I||t.A)&&t.L&&(t.path=t.L,h=1);let n=t.path;this.options.as&&!h&&(n=this.options.as(n,this),Array.isArray(n)&&(n=this.us(n))),(n===this.Ot.clear||n.startsWith(this.Ot.clear+this.Ot.add))&&(s=1,n.startsWith(this.Ot.clear)&&(n=n.substring(1)));const e=i(t.T);t.t=e.t,t.ti=e.list;const r=this.fs(n);if(!r&&!Object.keys(r).length&&!s)return this.ss=null,Promise.resolve();this.ds();const o=s?this.ps.Mi().filter(value=>null!==value.component):[],l=this.ps.Mi().filter(value=>value.options.default&&null===value.component),c=[];let{_i:a,zi:u}=this.ps.fi(r),f=100;for(;a.length||u||l.length;){if(!f--)throw Error("Failed to resolve all viewports");const i=[];for(const s of a){const{component,viewport:h}=s;h.Ft(component,t)&&i.push(h);const n=o.findIndex(value=>value===h);0>n||o.splice(n,1);const e=l.findIndex(value=>value===h);0>e||l.splice(e,1)}for(const s of o)s.Ft(this.Ot.clear,t)&&i.push(s);let s;for(;s=l.shift();)s.Ft(s.options.default,t)&&i.push(s);!i.length&&this.Zi&&(this.es.cancel(),this.Zi=0);let h=await Promise.all(i.map(value=>value.Mt()));if(h.findIndex(value=>0==value)>=0)return this.es.cancel(),this.ss=null,Promise.resolve();if((h=await Promise.all(i.map(async value=>{const t=await value.Qt();return"boolean"==typeof t?t?value.Xt():0:1}))).some(t=>0==t))return this.es.cancel(),this.ss=null,Promise.resolve();await Promise.all(i.map(value=>value.hi())),c.push(...i);const n=this.ps.fi();let e;for(a=[];e=this.Yi.shift();)n._i.find(value=>value.viewport===e.viewport)||a.push(e);a=[...a,...n._i],u=n.zi}this.vs(t),!t.J&&c.every(t=>t.options.Gt)&&this.es.pop().catch(t=>{throw t}),c.forEach(t=>{t.li()}),this.ss=null,this.ts.length&&this.ls().catch(t=>{throw t})}Kt(t,component){this.ss&&this.Yi.push({viewport:t,component})}fs(t){const i={};t.startsWith("/")&&(t=t.substring(1));const s=t.split(this.Ot.kt);let h=0;for(;s.length;){const t=s.shift().split(this.Ot.scope),parts=t.pop().split(this.Ot.viewport),component=parts[0];t.push(parts.length?parts.join(this.Ot.viewport):`?${h++}`);const name=t.join(this.Ot.scope);component&&(i[name]=component)}return i}ms(t){return this.ds(),this.ns(t)}Ui(name,t,i,s){return this.ms(t).Ui(name,t,i,s)}Bi(t,i,s){const h=t.Vt;h.Bi(t,i,s)||this.Wi(h)}Wi(t){if(t!==this.ps){t.Wi();const i=this.qi.indexOf(t);0>i||this.qi.splice(i,1)}}G(t,i,s){"string"==typeof t&&this.es.G(t,i,s)}replace(t,i,s){"string"==typeof t&&this.es.replace(t,i,s)}refresh(){this.es.refresh()}back(){this.es.back()}forward(){this.es.forward()}us(t){const i=[];for(const s of t){let t=s.component;if(s.viewport&&(t+=this.Ot.viewport+s.viewport),s.t)for(const i in s.t)t+=this.Ot.t+s.t[i];i.push(t)}return i.join(this.Ot.kt)}ws(t){const i=[],s=t.split(this.Ot.kt);for(const t of s){let component,s,h;const[n,e]=t.split(this.Ot.viewport);void 0===e?[component,h]=n.split(this.Ot.t):(component=n,[s,h]=e.split(this.Ot.t));const r={component};s&&(r.viewport=s),h&&(r.t={id:h}),i.push(r)}return i}ys(name,t){const i=this.bs(name);i&&(i.Et=[]),this.gs(name,t)}gs(name,t){let i=this.Xi[name];i||(i=this.Xi[name]=new r(this,name)),i.St(t)}bs(name){return this.Xi[name]}ds(){if(!this.ps){const t=this.dt.get(runtime.Aurelia).root();this.ps=new Scope(this,t.$s,t.$context,null),this.qi.push(this.ps)}}ns(t){let i=(function(t){for(;t&&!t.$customElement;)t=t.parentElement;return t})(t).$customElement.$context.get(kernel.IContainer);for(;i;){const t=this.qi.find(t=>t.context.get(kernel.IContainer)===i);if(t)return t;i=i.parent}}Os(t){let i=t.slice().sort((t,i)=>i.split(this.Ot.scope).length-t.split(this.Ot.scope).length),s=[];if((i=i.map(value=>`${this.Ot.scope}${value}${this.Ot.scope}`)).length)for(s.push(i.shift());i.length;){const t=i.shift();s.find(value=>-1===value.indexOf(t))&&s.push(t)}return(s=s.map(value=>value.substring(1,value.length-1))).sort((t,i)=>t.split(this.Ot.scope).length-i.split(this.Ot.scope).length),s}vs(t){this.Ct=this.ps.Ki(1,1),this.Ct=this.Os(this.Ct);let i=this.ps.Ki(),s=(i=this.Os(i)).join(this.Ot.kt);this.options.Cs&&(s=this.options.Cs(this.ws(s),this));let h=this.ps.Ki(1);(h=this.Os(h)).unshift(this.Ot.clear);const n=t.T&&t.T.length?`?${t.T}`:"";this.es.X(s+n,h.join(this.Ot.kt)+n,t)}}l.inject=[kernel.IContainer];class c{constructor(router,t,i){this.router=router,this.Ht=t,this.Ps=i,this.name="default",this.scope=null,this.Bt=null,this.default=null,this.Wt=null,this.Gt=null,this.viewport=null}js(t,host,parts,i){const s=this.constructor,dom=i.get(runtime.IDOM),template=this.Ps.ks(dom,s.description,i,s);template.Es=runtime.createRenderContext(dom,i,s.description.dependencies,s),template.js(this,host,parts)}bound(){const t={scope:this.Ht.hasAttribute("scope")};this.Bt&&this.Bt.length&&(t.Bt=this.Bt),this.default&&this.default.length&&(t.default=this.default),this.Ht.hasAttribute("no-link")&&(t.Wt=1),this.Ht.hasAttribute("no-history")&&(t.Gt=1),this.viewport=this.router.Ui(this.name,this.Ht,this.$context,t)}Ss(){this.router.Bi(this.viewport,this.Ht,this.$context)}wi(t){this.viewport&&this.viewport.wi(t)}bi(t){this.viewport&&this.viewport.bi(t)}$i(t){this.viewport&&this.viewport.$i(t)}Ci(t){this.viewport&&this.viewport.Ci(t)}}return c.inject=[l,runtime.INode,runtime.IRenderingEngine],s([runtime.bindable],c.prototype,"name",void 0),s([runtime.bindable],c.prototype,"scope",void 0),s([runtime.bindable],c.prototype,"usedBy",void 0),s([runtime.bindable],c.prototype,"default",void 0),s([runtime.bindable],c.prototype,"noLink",void 0),s([runtime.bindable],c.prototype,"noHistory",void 0),runtime.CustomElementResource.Rs({name:"au-viewport",template:'<template><div class="viewport-header"> Viewport: <b>${name}</b> </div></template>'},c),t.Hs=class{constructor(router){this.router=router,this.name=null,this.Et=null,this.level=0}get Vs(){const t=this.router.bs(this.name);return t?t.Et:[]}active(t){return"Active"}},s([runtime.bindable],t.Hs.prototype,"name",void 0),s([runtime.bindable],t.Hs.prototype,"routes",void 0),s([runtime.bindable],t.Hs.prototype,"level",void 0),t.Hs=s([kernel.inject(l,Element),runtime.customElement({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name}">\n    <au-nav routes.bind="navRoutes" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level}">\n    <li repeat.for="route of routes" class="${route.active} ${route.hasChildren}">\n      <a if.bind="route.link && route.link.length" href="${route.link}">${route.title}</a>\n      <a if.bind="!route.link || !route.link.length" click.delegate="route.toggleActive()" href="">${route.title}</a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" containerless></au-nav>\n    </li>\n  </ul>\n</template>'})],t.Hs),t.Ns=h,t.As=n,t.Is=r,t.xs=l,t.Scope=Scope,t.Js=o,t.Ls=c,t})({},runtime,kernel);
