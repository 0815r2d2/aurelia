System.register("router",["@aurelia/runtime","@aurelia/kernel"],function(t){"use strict";var IObserverLocator,CustomElementResource,IDOM,IProjectorLocator,IRenderingEngine,LifecycleFlags,Aurelia,INode,bindable,customElement,IContainer,inject;return{t:[function(t){IObserverLocator=t.IObserverLocator,CustomElementResource=t.CustomElementResource,IDOM=t.IDOM,IProjectorLocator=t.IProjectorLocator,IRenderingEngine=t.IRenderingEngine,LifecycleFlags=t.LifecycleFlags,Aurelia=t.Aurelia,INode=t.INode,bindable=t.bindable,customElement=t.customElement},function(t){IContainer=t.IContainer,inject=t.inject}],s(){function s(t){const s={},i=[];if(!t||!t.length)return{i:s,list:i};const h=t.replace("+"," ").split("&");for(const t of h){const h=t.split("="),e=decodeURIComponent(h.shift());if(!h.length){i.push(e);continue}const value=decodeURIComponent(h.shift());s[e]=value}return{i:s,list:i}}function i(t,s,i,h){var e,n,o=arguments.length,r=3>o?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.h)r=Reflect.h(t,s,i,h);else for(n=t.length-1;n>=0;n--)(e=t[n])&&(r=(3>o?e(r):o>3?e(s,i,r):e(s,i))||r);return o>3&&r&&Object.defineProperty(s,i,r),r}class h{constructor(){this.o=(()=>{if(null!==this.l){const t=this.l;return this.l=null,void t()}const t=this.u(),s=this.p(),i={};let h,e=this.m("HistoryEntry");if(this.v&&this.v.path===t){i.$=1;const t=this.P?this.k.index:this.history.length-this.O;h=this.k,this.k=this.v,this.k.index=t,this.P?(this.S=0,this.j[this.k.index]=this.k,this.V?(i.H=1,this.V=0):this.C?(i.N=1,this.C=0):i.g=1,this.P=0):(this.S=1,this.j=this.j.slice(0,this.k.index),this.j.push(this.k)),this.A({J:this.j,L:this.O,D:this.k})}else this.j=this.j||this.m("HistoryEntries")||[],this.O=this.O||this.m("HistoryOffset")||0,e||this.k?e?this.k?e.index>this.k.index?i.T=1:this.k.index>e.index&&(i._=1):i.N=1:i.$=1:(i.$=1,i.B=1,this.O=this.history.length),e||(this.j=this.j.slice(0,(e={path:t,I:null,index:this.history.length-this.O,R:s}).index),this.j.push(e),this.A({J:this.j,L:this.O,D:e})),this.S=this.k?e.index-this.k.index:0,h=this.k,this.k=e,this.V&&(i.H=1,this.V=0);this.v=null,this.U&&this.U--,this.q(this.k,i,h)}),this.location=window.location,this.history=window.history,this.k=null,this.j=null,this.O=null,this.W=null,this.v=null,this.options=null,this.G=0,this.S=null,this.U=null,this.V=0,this.P=0,this.C=0,this.l=null}K(t){if(this.G)throw Error("History has already been activated.");return this.G=1,this.options=Object.assign({},t),window.addEventListener("popstate",this.o),Promise.resolve().then(()=>{this.X(this.u(),1)})}Y(){window.removeEventListener("popstate",this.o),this.G=0}Z(t,s,i){this.v={path:t,I:null,title:s,data:i},this.X(t)}replace(t,s,i){this.P=1,this.v={path:t,I:null,title:s,data:i},this.X(t,1)}M(t,s,i){this.U=this.S+1,this.replace(t,s,i)}refresh(){this.k&&(this.C=1,this.replace(this.k.path,this.k.title,this.k.data))}back(){this.history.go(-1)}forward(){this.history.go(1)}cancel(){this.V=1;const t=this.S||this.U;t?this.history.go(-t):this.replace(this.W.path,this.W.title,this.W.data)}async pop(){let t,s=new Promise(t=>{this.l=t});this.history.go(-1),await s;const i=""+this.location;t=this.history.state,s=new Promise(t=>{this.l=t}),this.history.go(-1),await s,this.history.pushState(t,null,i)}A(t,value){const{pathname:s,search:i,hash:h}=this.location;let e=Object.assign({},this.history.state);"string"==typeof t?e[t]=JSON.parse(JSON.stringify(value)):e=Object.assign({},e,JSON.parse(JSON.stringify(t))),this.history.replaceState(e,null,`${s}${i}${h}`)}m(t){return Object.assign({},this.history.state)[t]}F(t){this.k.title=t,this.j[this.k.index]=this.k,this.A({J:this.j,D:this.k})}tt(t,s,i){if(i.index!==this.k.index)return;const h=`#/${t}`,{pathname:e,search:n,hash:o}=this.location;if(h===o&&this.k.path===t&&this.k.I===s)return;this.k.path=t,this.k.I=s;const r=Object.assign({},this.history.state,{D:this.k,J:this.j});this.history.replaceState(r,null,`${e}${n}${h}`)}st(t){t.startsWith("#")||(t=`#${t}`),this.location.hash=t}get it(){return this.j?this.j.slice(0,this.k.index+1).map(value=>value.title):[]}u(){return this.location.hash.substring(1).split("?")[0]}X(t,s=0){if(this.k&&this.k.path===t&&!this.C)return;const{pathname:i,search:h}=this.location,e=`#${t}`;s?(this.W=this.k,this.history.replaceState({},null,`${i}${h}${e}`)):this.history.pushState({},null,`${i}${h}${e}`),this.o()}p(){const t=this.location.hash.substring(1).split("?");return t.shift(),t.length>0?t.shift():""}q(t,s,i){const h=Object.assign({},t,s);h.ht=i,this.options.q&&this.options.q(h)}}t("HistoryBrowser",h);class e{constructor(){this.G=0,this.et=(t=>{const s=e.nt(t);s.ot&&(t.preventDefault(),this.options.q(s))}),this.document=document}static nt(t){const s={ot:0,href:null,anchor:null},i=e.rt(t.target);if(!i||!e.lt(i))return s;if(i.hasAttribute("external"))return s;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return s;const h=i.getAttribute("href");return s.anchor=i,s.href=h,s.ot=1===t.which,s}static rt(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static lt(t){const s=t.getAttribute("target");return!s||s===e.window.name||"_self"===s}K(t){if(this.G)throw Error("LinkHandler has already been activated.");this.G=1,this.options=Object.assign({},t),this.document.addEventListener("click",this.et,1)}Y(){this.document.removeEventListener("click",this.et,1),this.G=0}}t("LinkHandler",e);class n{constructor(t,s){this.active="",this.ct=t,Object.assign(this,{at:s.at,title:s.title,children:null,ut:s.ut,active:""}),this.link=this.ft(this.at),this.dt=s.pt?this.ft(s.pt):this.link,this.vt=this.ct.router.wt.get(IObserverLocator),this.bt=this.vt.$t(this.ct.router,"activeComponents"),this.bt.subscribe(this)}get Pt(){return this.children&&this.children.length?"nav-has-children":""}kt(){this.active=this.link&&this.link.length?this.Ot():"nav-active"===this.active?"nav-active":this.St()?"nav-active-child":""}Ot(){const t=this.dt.split(this.ct.router.jt.add),s=this.ct.router.Vt;for(const component of t)if(0>component.indexOf(this.ct.router.jt.viewport)){if(0>s.findIndex(value=>value.replace(/\@[^=]*/,"")===component))return""}else if(0>s.indexOf(component))return"";return"nav-active"}Ht(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}ft(t){return Array.isArray(t)?t.map(value=>this.Ct(value)).join(this.ct.router.jt.Nt):this.Ct(t)}St(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.St())return 1;return 0}Ct(component){return component?"string"==typeof component?component:component.description?component.description.name:component.component?this.Ct(component.component)+(component.viewport?`@${component.viewport}`:""):void 0:""}}class o{constructor(router,name){this.router=router,this.name=name,this.gt=[]}At(t){for(const s of t)this.yt(this.gt,s)}yt(t,s){const i=new n(this,s);if(t.push(i),s.children){i.children=[];for(const t of s.children)this.yt(i.children,t)}}}t("Nav",o);class r{constructor(router,name,t,s,i,h){this.router=router,this.name=name,this.Jt=t,this.Lt=s,this.scope=i,this.options=h,this.clear=0,this.content=null,this.Dt=null,this.i=null,this.Tt=null,this._t=null,this.Bt=null,this.component=null,this.It=null,this.Rt=null}Ut(t,s){let i;if(this.clear=0,"string"==typeof t)if(t===this.router.jt.clear)this.clear=1,t=null;else{const s=t.split(this.router.jt.i);t=s.shift(),i=s.length?s.join(this.router.jt.i):null;const h=this.router.wt.qt(CustomElementResource.Wt(t));null!==h&&(t=h.Gt(this.router.wt).zt)}return this.Dt=t,this.Bt=s,this.Tt=i,this.content!==t||this.i!==i||!this._t||this._t.R!==s.R||s.N?1:0}Kt(t,s){this.scope&&this.scope.parent&&!this.scope.viewport&&(this.scope.viewport=this),this.scope&&!this.scope.Jt&&(this.scope.Jt=t),this.Jt||(this.Jt=t,s&&s.Qt&&(this.options.Qt=s.Qt),s&&s.default&&(this.options.default=s.default),s&&s.Xt&&(this.options.Xt=s.Xt),s&&s.Yt&&(this.options.Yt=s.Yt),this.Rt&&this.Rt()),this.component||this.It||!this.options.default||this.router.Zt(this,this.options.default)}Mt(){if(!this.component)return Promise.resolve(1);const component=this.component;if(!component.Mt)return Promise.resolve(1);const t=component.Mt(this._t,this.Bt);return"boolean"==typeof t?Promise.resolve(t):t}Ft(){if(this.clear)return Promise.resolve(1);if(!this.Dt)return Promise.resolve(0);if(this.loadComponent(this.Dt),!this.It)return Promise.resolve(0);const component=this.It;if(!component.Ft)return Promise.resolve(1);const t=component.Ft(this.Bt,this._t);return"boolean"==typeof t?Promise.resolve(t):t}async Et(){if(this.component&&(this.component.xt&&await this.component.xt(this._t,this.Bt),this.It||this.ts(this.component)),this.It){if(this.It.ss){const t=(function(t,i,h){const e=s(i),n=s(t),o=Object.assign({},e.i,n.i),r=[...e.list,...n.list];if(r.length&&h&&h.length)for(const t of h)o[t]=r.shift();let l;return r.length&&Object.keys(o).length&&(o["hs"]=r.splice(0,r.length)),{i:o,list:r,es:l=r.length?r:o}})(this.Tt,this.Bt.R,this.Dt.i);this.Bt.i=t.i,this.Bt.ns=t.list,await this.It.ss(t.es,this.Bt,this._t)}if(!this.Jt&&(await this.os(),!this.Jt))return Promise.resolve(0);this.component&&this.ts(this.component),this.rs(this.It),this.content=this.Dt,this.i=this.Tt,this._t=this.Bt,this.component=this.It}return this.clear&&(this.content=this.i=this.component=null,this._t=this.Bt),this.Dt=this.Tt=this.Bt=this.It=null,Promise.resolve(1)}description(t=0){if(this.content){const component=this.content.description.name,s=this.scope?this.router.jt.ls:"",i=this.i?this.router.jt.i+this.i:"";if(t||s.length||this.options.cs)return`${component}${this.router.jt.viewport}${this.name}${s}${i}`;const h={};return h[component]=component,this.Lt.as(h)?`${component}${i}`:`${component}${this.router.jt.viewport}${this.name}${s}${i}`}}us(t=0){return[this.Lt.context(t),this.description(t)].filter(value=>value&&value.length).join(this.router.jt.scope)}fs(component){let t=this.options.Qt||[];return"string"==typeof t&&(t=t.split(",")),t.indexOf(component)>=0}ds(component){if("-"===component||null===component)return 1;let t=this.options.Qt;return t&&t.length?("string"==typeof t&&(t=t.split(",")),0>t.indexOf(component)?t.filter(value=>value.indexOf("*")>=0).length?1:0:1):1}ps(t){this.component&&this.component.ms(t)}vs(t){this.component&&this.component.ws(t)}bs(t){this.component&&this.component.$s(t)}Ps(t){this.component&&this.component.ks(t)}loadComponent(component){this.It=this.router.wt.get(CustomElementResource.Wt(component.description.name))}rs(component){const host=this.Jt,t=this.router.wt,dom=t.get(IDOM),s=t.get(IProjectorLocator),i=t.get(IRenderingEngine);component.Os(dom,s,i,host,null),component.ms(LifecycleFlags.Ss|LifecycleFlags.js,null),component.ws(LifecycleFlags.Ss)}ts(component){component.$s(LifecycleFlags.Vs),component.ks(LifecycleFlags.Vs|LifecycleFlags.Hs)}async os(){return this.Jt?Promise.resolve():new Promise(t=>{this.Rt=t})}}t("Viewport",r);class Scope{constructor(router,t,s){this.router=router,this.Jt=t,this.parent=s,this.viewport=null,this.children=[],this.Cs={},this.Ns={},this.gs=null,this.parent&&this.parent.As(this)}as(t){const s=[];let i=0;t&&(this.gs={},this.Ns={}),this.gs=Object.assign({},this.Cs,this.gs);for(const s in t){const parts=s.split(this.router.jt.scope),t=parts.shift();this.Ns[t]||(this.Ns[t]=[]),this.Ns[t].push(parts)}for(const h in this.Ns){const e=h.split(this.router.jt.i),component=e.shift().split(this.router.jt.viewport).shift(),n=component+(e.length?this.router.jt.i+e.join(this.router.jt.i):"");for(const name in this.gs){const e=this.gs[name];if(e&&e.fs(component)){const o=this.ys(t,this.Ns,h,n,e);s.push(...o.Js),i=i||o.Ls,this.gs[name]=null,delete this.Ns[h];break}}}for(const h in this.Ns){const e=h.split(this.router.jt.i),parts=e.shift().split(this.router.jt.viewport),component=parts.shift(),n=component+(e.length?this.router.jt.i+e.join(this.router.jt.i):"");let name=parts.shift();if(!name||!name.length||name.startsWith("?"))continue;let o=0;name.endsWith(this.router.jt.ls)&&(o=1,name=name.substring(0,name.length-1)),this.Cs[name]||(this.Ds(name,null,{scope:o,cs:1}),this.gs[name]=this.Cs[name]);const r=this.gs[name];if(r&&r.ds(component)){const e=this.ys(t,this.Ns,h,n,r);s.push(...e.Js),i=i||e.Ls,this.gs[name]=null,delete this.Ns[h]}}for(const h in this.Ns){const e=h.split(this.router.jt.i),component=e.shift().split(this.router.jt.viewport).shift(),n=component+(e.length?this.router.jt.i+e.join(this.router.jt.i):""),o=[];for(const name in this.gs){const t=this.gs[name];t&&t.ds(component)&&o.push(t)}if(1===o.length){const e=o.shift(),r=this.ys(t,this.Ns,h,n,e);s.push(...r.Js),i=i||r.Ls,this.gs[e.name]=null,delete this.Ns[h];break}}if(i=i||Object.keys(this.Ns).length>0,!t)for(const t of this.children){const h=t.as();s.push(...h.Js),i=i||h.Ls}return{Js:s,Ls:i}}ys(t,s,i,component,h){const e=[{component,viewport:h}];let n=0;if(s[i].length){const o=h.scope||h.Lt;for(const h of s[i])if(h.length){const s=h.join(this.router.jt.scope),r={};r[s]=t[i+this.router.jt.scope+s];const l=o.as(r);e.push(...l.Js),n=n||l.Ls}}return{Js:e,Ls:n}}Ds(name,t,s){let i=this.Cs[name];if(!i){let h;s.scope&&(h=new Scope(this.router,t,this),this.router.Ts.push(h)),i=this.Cs[name]=new r(this.router,name,t,this,h,s)}return t&&i.Kt(t,s),i}_s(t){return t.scope&&this.router.Bs(t.scope),delete this.Cs[t.name],Object.keys(this.Cs).length}Bs(){for(const t of this.children)t.Bs();for(const t in this.Cs)this.router._s(this.Cs[t])}Is(t){return t.Ft().then(()=>t.Et())}As(t){0>this.children.indexOf(t)&&this.children.push(t)}removeChild(t){this.children.splice(this.children.indexOf(t),1)}Rs(t=0,s=0){const i=[];for(const h in this.Cs){const e=this.Cs[h];(e.options.Yt||e.options.Xt&&!t)&&!s||i.push(e.us(t))}for(const s of this.children)i.push(...s.Rs(t));return i.filter(value=>value&&value.length)}Us(){const t=[];for(const s in this.Cs)t.push(this.Cs[s]);for(const s of this.children)t.push(...s.Us());return t}context(t=0){if(!this.Jt||!this.parent)return"";const s=[];this.viewport&&s.unshift(this.viewport.description(t));let i=this.parent.qs(this.Jt.parentElement);for(;i&&i.Lt===this.parent;)s.unshift(i.description(t)),i=this.qs(i.Jt.parentElement);return s.unshift(this.parent.context(t)),s.filter(value=>value&&value.length).join(this.router.jt.scope)}Ws(component){if("string"==typeof component){const t=this.router.wt.qt(CustomElementResource.Wt(component));null!==t&&(component=t.Gt(this.router.wt).zt)}return component}qs(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h in this.Cs){const e=this.Cs[h].Jt;let n=t,o=0;for(;n&&n!==e;)o++,n=n.parentElement;i>o&&(i=o,s=this.Cs[h])}return s}}t("Scope",Scope);class l{constructor(t){this.wt=t,this.Cs={},this.Ts=[],this.zs={},this.Vt=[],this.Gs=[],this.G=0,this.Ks=0,this.Qs=[],this.Xs=null,this.Ys=(t=>{let s=t.href;if(s.startsWith("#")&&(s=s.substring(1)),!s.startsWith("/")){const i=this.Zs(t.anchor).context();i&&(s=`/${i}${this.jt.scope}${s}`)}this.Ms.st(s)}),this.Ms=new h,this.Fs=new e}K(t){if(this.G)throw Error("Router has already been activated.");return this.G=1,this.options=Object.assign({q:t=>{this.Es(t)}},t),this.jt=Object.assign({viewport:"@",Nt:"+",scope:"/",ls:"!",i:"=",add:"+",clear:"-",action:"."},this.options.jt),this.Fs.K({q:this.Ys}),this.Ms.K(this.options).catch(t=>{throw t})}Y(){if(!this.G)throw Error("Router has not been activated.");this.Fs.Y(),this.Ms.Y()}Es(t){this.Qs.push(t),this.xs().catch(t=>{throw t})}async xs(){if(null!==this.Xs||!this.Qs.length)return Promise.resolve();const t=this.Qs.shift();if(this.Xs=t,this.options.ti&&this.options.ti(t),t.H)return this.Xs=null,Promise.resolve();let i=0,h=0;(t._||t.T)&&t.I&&(t.path=t.I,h=1);let e=t.path;this.options.si&&!h&&(e=this.options.si(e,this),Array.isArray(e)&&(e=this.ii(e))),(e===this.jt.clear||e.startsWith(this.jt.clear+this.jt.add))&&(i=1,e.startsWith(this.jt.clear)&&(e=e.substring(1)));const n=s(t.R);t.i=n.i,t.ns=n.list;const o=this.hi(e);if(!o&&!Object.keys(o).length&&!i)return this.Xs=null,Promise.resolve();this.ei();const r=i?this.ni.Us().filter(value=>null!==value.component):[],l=this.ni.Us().filter(value=>value.options.default&&null===value.component);let c=t.B,{Js:a,Ls:u}=this.ni.as(o),f=100;for(;(a.length||u||l.length)&&f--;){const s=[];for(const i of a){const{component,viewport:h}=i;h.Ut(component,t)&&s.push(h);const e=r.findIndex(value=>value===h);0>e||r.splice(e,1);const n=l.findIndex(value=>value===h);0>n||l.splice(n,1)}for(const i of r)i.Ut(this.jt.clear,t)&&s.push(i);let i;for(;i=l.shift();)i.Ut(i.options.default,t)&&s.push(i);!s.length&&this.Ks&&(this.Ms.cancel(),this.Ks=0);let h=await Promise.all(s.map(value=>value.Mt()));if(h.findIndex(value=>0==value)>=0)return this.Ms.cancel(),this.Xs=null,Promise.resolve();if((h=await Promise.all(s.map(value=>value.Ft()))).findIndex(value=>0==value)>=0)return this.Ms.cancel(),this.Xs=null,Promise.resolve();await Promise.all(s.map(value=>value.Et())),s.reduce((t,s)=>!s.options.Yt||t,c)&&(c=1);const e=this.ni.as();let n;for(a=[];n=this.Gs.shift();)e.Js.find(value=>value.viewport===n.viewport)||a.push(n);a=[...a,...e.Js],u=e.Ls}this.oi(t),c||this.Ms.pop().catch(t=>{throw t}),this.Xs=null,this.Qs.length&&this.xs().catch(t=>{throw t})}Zt(t,component){this.Xs&&this.Gs.push({viewport:t,component})}hi(t){const s={};t.startsWith("/")&&(t=t.substring(1));const i=t.split(this.jt.Nt);let h=0;for(;i.length;){const t=i.shift().split(this.jt.scope),parts=t.pop().split(this.jt.viewport),component=parts[0];t.push(parts.length?parts.join(this.jt.viewport):`?${h++}`);const name=t.join(this.jt.scope);component&&(s[name]=component)}return s}ri(t){return this.ei(),this.Zs(t)}Ds(name,t,s){return this.ri(t).Ds(name,t,s)}_s(t){const s=t.Lt;s._s(t)||this.Bs(s)}Bs(t){if(t!==this.ni){t.Bs();const s=this.Ts.indexOf(t);0>s||this.Ts.splice(s,1)}}Z(t,s,i){"string"==typeof t&&this.Ms.Z(t,s,i)}replace(t,s,i){"string"==typeof t&&this.Ms.replace(t,s,i)}refresh(){this.Ms.refresh()}back(){this.Ms.back()}forward(){this.Ms.forward()}ii(t){const s=[];for(const i of t){let t=i.component;if(i.viewport&&(t+=this.jt.viewport+i.viewport),i.i)for(const s in i.i)t+=this.jt.i+i.i[s];s.push(t)}return s.join(this.jt.Nt)}li(t){const s=[],i=t.split(this.jt.Nt);for(const t of i){let component,i,h;const[e,n]=t.split(this.jt.viewport);void 0===n?[component,h]=e.split(this.jt.i):(component=e,[i,h]=n.split(this.jt.i));const o={component};i&&(o.viewport=i),h&&(o.i={id:h}),s.push(o)}return s}ci(name,t){const s=this.ai(name);s&&(s.gt=[]),this.ui(name,t)}ui(name,t){let s=this.zs[name];s||(s=this.zs[name]=new o(this,name)),s.At(t)}ai(name){return this.zs[name]}ei(){if(!this.ni){const t=this.wt.get(Aurelia).root().fi;this.ni=new Scope(this,t,null),this.Ts.push(this.ni)}}Zs(t){let s,i=Number.MAX_SAFE_INTEGER;for(const h of this.Ts){let e=t,n=0;for(;e&&e!==h.Jt;)n++,e=e.parentElement;i>n&&(i=n,s=h)}return s}di(t){let s=t.slice().sort((t,s)=>s.split(this.jt.scope).length-t.split(this.jt.scope).length),i=[];if((s=s.map(value=>`${this.jt.scope}${value}${this.jt.scope}`)).length)for(i.push(s.shift());s.length;){const t=s.shift();i.find(value=>-1===value.indexOf(t))&&i.push(t)}return(i=i.map(value=>value.substring(1,value.length-1))).sort((t,s)=>t.split(this.jt.scope).length-s.split(this.jt.scope).length),i}oi(t){this.Vt=this.ni.Rs(1,1),this.Vt=this.di(this.Vt);let s=this.ni.Rs(),i=(s=this.di(s)).join(this.jt.Nt);this.options.pi&&(i=this.options.pi(this.li(i),this));let h=this.ni.Rs(1);(h=this.di(h)).unshift(this.jt.clear);const e=t.R&&t.R.length?`?${t.R}`:"";this.Ms.tt(i+e,h.join(this.jt.Nt)+e,t)}}t("Router",l),l.inject=[IContainer];class c{constructor(router,t){this.router=router,this.Jt=t,this.name="default",this.scope=null,this.Qt=null,this.default=null,this.Xt=null,this.Yt=null,this.viewport=null}mi(){const t={scope:this.Jt.hasAttribute("scope")};this.Qt&&this.Qt.length&&(t.Qt=this.Qt),this.default&&this.default.length&&(t.default=this.default),this.Jt.hasAttribute("no-link")&&(t.Xt=1),this.Jt.hasAttribute("no-history")&&(t.Yt=1),this.viewport=this.router.Ds(this.name,this.Jt,t)}vi(){this.router._s(this.viewport)}ps(t){this.viewport&&this.viewport.ps(t)}vs(t){this.viewport&&this.viewport.vs(t)}bs(t){this.viewport&&this.viewport.bs(t)}Ps(t){this.viewport&&this.viewport.Ps(t)}}t("ViewportCustomElement",c),c.inject=[l,INode],i([bindable],c.prototype,"name",void 0),i([bindable],c.prototype,"scope",void 0),i([bindable],c.prototype,"usedBy",void 0),i([bindable],c.prototype,"default",void 0),i([bindable],c.prototype,"noLink",void 0),i([bindable],c.prototype,"noHistory",void 0),CustomElementResource.wi({name:"au-viewport",template:'<template><div class="viewport-header"> Viewport: <b>${name}</b> </div></template>'},c);let a=t("NavCustomElement",class{constructor(router){this.router=router,this.name=null,this.gt=null,this.level=0}get bi(){const t=this.router.ai(this.name);return t?t.gt:[]}active(t){return"Active"}});i([bindable],a.prototype,"name",void 0),i([bindable],a.prototype,"routes",void 0),i([bindable],a.prototype,"level",void 0),a=t("NavCustomElement",i([inject(l,Element),customElement({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name}">\n    <au-nav routes.bind="navRoutes" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level}">\n    <li repeat.for="route of routes" class="${route.active} ${route.hasChildren}">\n      <a if.bind="route.link && route.link.length" href="${route.link}">${route.title}</a>\n      <a if.bind="!route.link || !route.link.length" click.delegate="route.toggleActive()" href="">${route.title}</a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" containerless></au-nav>\n    </li>\n  </ul>\n</template>'})],a))}}});
