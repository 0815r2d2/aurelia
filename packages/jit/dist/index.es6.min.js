function validatePrototype(e,t){for(const def of t)def.pattern in e?"function"!=typeof e[def.pattern]&&Reporter.write(402,def):Reporter.write(401,def)}function attributePattern(...e){return function(t){const n=t.prototype;return validatePrototype(n,e),n.t=e,t.register=function(e){return Registration.singleton(IAttributePattern,t).register(e,IAttributePattern)},t}}function register(e){const t=BindingCommandResource.i(this.description.name);e.register(Registration.singleton(t,this))}function bindingCommand(e){return t=>BindingCommandResource.o(e,t)}function keyFrom(name){return`${this.name}:${name}`}function isType(e){return e.kind===this}function define(e,t){const n=t,r="string"==typeof e?{name:e,target:null}:e;return n.kind=BindingCommandResource,n.description=r,n.register=register,n}function getTarget(e,t){return 256&e.flags?e.bindable.s:t?PLATFORM.l(e.u.target):e.u.target}function getMode(e){return 256&e.flags?e.bindable.mode:commandToMode[e.u.command]}function unescapeCode(e){switch(e){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return e}}function parseExpression(e,t){return $state.input=e,$state.length=e.length,$state.index=0,$state.m=e.charCodeAt(0),parse($state,0,61,void 0===t?53:t)}function parse(e,t,n,r){if(0===e.index){if(2048&r)return parseInterpolation(e);if(nextToken(e),1048576&e.h)throw Reporter.error(100,{state:e})}e.p=448>n;let i=void 0;if(32768&e.h){const n=TokenValues[63&e.h];nextToken(e),i=new Unary(n,parse(e,t,449,r)),e.p=0}else{e:switch(e.h){case 3077:e.p=0;do{if(nextToken(e),t++,!consumeOpt(e,16392)){if(524288&e.h){const e=511&t;i=0===e?$this:1===e?$parent:new AccessThis(e),t=512;break e}throw Reporter.error(103,{state:e})}if(16392===e.h)throw Reporter.error(102,{state:e});if(1572864===e.h)throw Reporter.error(105,{state:e})}while(3077===e.h);case 1024:512&r?i=new BindingIdentifier(e.g):(i=new AccessScope(e.g,511&t),t=1024),e.p=1,nextToken(e);break;case 3076:e.p=0,nextToken(e),i=$this,t=512;break;case 671750:nextToken(e),i=parse(e,0,62,r),consume(e,1835018),t=0;break;case 671756:i=parseArrayLiteralExpression(e,t,r),t=0;break;case 131079:i=parseObjectLiteralExpression(e,r),t=0;break;case 540713:i=new Template([e.g]),e.p=0,nextToken(e),t=0;break;case 540714:i=parseTemplate(e,t,r,i,0),t=0;break;case 4096:case 8192:i=new PrimitiveLiteral(e.g),e.p=0,nextToken(e),t=0;break;case 2050:case 2051:case 2049:case 2048:i=TokenValues[63&e.h],e.p=0,nextToken(e),t=0;break;default:throw Reporter.error(e.length>e.index?101:104,{state:e})}if(512&r)return parseForOfStatement(e,i);if(n>449)return i;let name=e.g;for(;(16384&e.h)>0;)switch(e.h){case 16392:if(e.p=1,nextToken(e),0==(3072&e.h))throw Reporter.error(105,{state:e});if(name=e.g,nextToken(e),t=(1536&t)<<1|2048&t|(4096&t)>>1,671750===e.h){0===t&&(t=2048);continue}i=1024&t?new AccessScope(name,i.C):new AccessMember(i,name);continue;case 671756:e.p=1,nextToken(e),t=4096,i=new AccessKeyed(i,parse(e,0,62,r)),consume(e,1835021);break;case 671750:e.p=0,nextToken(e);const n=[];for(;1835018!==e.h&&(n.push(parse(e,0,62,r)),consumeOpt(e,1572875)););consume(e,1835018),i=1024&t?new CallScope(name,n,i.C):2048&t?new CallMember(i,name,n):new CallFunction(i,n),t=0;break;case 540713:e.p=0;const o=[e.g];i=new TaggedTemplate(o,o,i),nextToken(e);break;case 540714:i=parseTemplate(e,t,r,i,1)}}if(n>448)return i;for(;(65536&e.h)>0;){const o=e.h;if(n>=(448&o))break;nextToken(e),i=new Binary(TokenValues[63&o],i,parse(e,t,448&o,r)),e.p=0}if(n>63)return i;if(consumeOpt(e,1572879)){const n=parse(e,t,62,r);consume(e,1572878),i=new Conditional(i,n,parse(e,t,62,r)),e.p=0}if(n>62)return i;if(consumeOpt(e,1048615)){if(!e.p)throw Reporter.error(150,{state:e});i=new Assign(i,parse(e,t,62,r))}if(n>61)return i;for(;consumeOpt(e,1572883);){if(1572864===e.h)throw Reporter.error(112);const name=e.g;nextToken(e);const n=[];for(;consumeOpt(e,1572878);)n.push(parse(e,t,62,r));i=new ValueConverter(i,name,n)}for(;consumeOpt(e,1572880);){if(1572864===e.h)throw Reporter.error(113);const name=e.g;nextToken(e);const n=[];for(;consumeOpt(e,1572878);)n.push(parse(e,t,62,r));i=new BindingBehavior(i,name,n)}if(1572864!==e.h){if(2048&r)return i;if("of"===e.T)throw Reporter.error(151,{state:e});throw Reporter.error(101,{state:e})}return i}function parseArrayLiteralExpression(e,t,n){nextToken(e);const r=[];for(;1835021!==e.h;)if(consumeOpt(e,1572875)){if(r.push($undefined),1835021===e.h){r.push($undefined);break}}else{if(r.push(parse(e,t,62,-513&n)),!consumeOpt(e,1572875))break;if(1835021===e.h){r.push($undefined);break}}return consume(e,1835021),512&n?new ArrayBindingPattern(r):(e.p=0,new ArrayLiteral(r))}function parseForOfStatement(e,t){if(0==(65536&t.B))throw Reporter.error(106,{state:e});if(1051179!==e.h)throw Reporter.error(106,{state:e});nextToken(e);const n=t,r=parse(e,0,61,0);return new ForOfStatement(n,r)}function parseObjectLiteralExpression(e,t){const n=[],r=[];for(nextToken(e);1835017!==e.h;){if(n.push(e.g),12288&e.h)nextToken(e),consume(e,1572878),r.push(parse(e,0,62,-513&t));else{if(!(3072&e.h))throw Reporter.error(107,{state:e});{const{m:n,h:i,index:o}=e;nextToken(e),consumeOpt(e,1572878)?r.push(parse(e,0,62,-513&t)):(e.m=n,e.h=i,e.index=o,r.push(parse(e,0,450,-513&t)))}}1835017!==e.h&&consume(e,1572875)}return consume(e,1835017),512&t?new ObjectBindingPattern(n,r):(e.p=0,new ObjectLiteral(n,r))}function parseInterpolation(e){const parts=[],t=[],n=e.length;let r="";for(;n>e.index;){switch(e.m){case 36:if(123===e.input.charCodeAt(e.index+1)){parts.push(r),r="",e.index+=2,e.m=e.input.charCodeAt(e.index),nextToken(e);const n=parse(e,0,61,2048);t.push(n);continue}r+="$";break;case 92:r+=String.fromCharCode(unescapeCode(nextChar(e)));break;default:r+=String.fromCharCode(e.m)}nextChar(e)}return t.length?(parts.push(r),new Interpolation(parts,t)):null}function parseTemplate(e,t,n,r,i){const o=[e.g];consume(e,540714);const s=[parse(e,t,62,n)];for(;540713!==(e.h=scanTemplateTail(e));)o.push(e.g),consume(e,540714),s.push(parse(e,t,62,n));return o.push(e.g),e.p=0,i?(nextToken(e),new TaggedTemplate(o,o,r,s)):(nextToken(e),new Template(o,s))}function nextToken(e){for(;e.length>e.index;)if(e.S=e.index,null!==(e.h=CharScanners[e.m](e)))return;e.h=1572864}function nextChar(e){return e.m=e.input.charCodeAt(++e.index)}function scanIdentifier(e){for(;IdParts[nextChar(e)];);const t=KeywordLookup[e.g=e.T];return void 0===t?1024:t}function scanNumber(e,t){let n=e.m;if(0==t){do{n=nextChar(e)}while(57>=n&&n>=48);if(46!==n)return e.g=parseInt(e.T,10),8192;if(n=nextChar(e),e.index>=e.length)return e.g=parseInt(e.T.slice(0,-1),10),8192}if(n>57||48>n)e.m=e.input.charCodeAt(--e.index);else do{n=nextChar(e)}while(57>=n&&n>=48);return e.g=parseFloat(e.T),8192}function scanString(e){const t=e.m;nextChar(e);let n=0;const r=[];let i=e.index;for(;e.m!==t;)if(92===e.m)r.push(e.input.slice(i,e.index)),nextChar(e),n=unescapeCode(e.m),nextChar(e),r.push(String.fromCharCode(n)),i=e.index;else{if(e.index>=e.length)throw Reporter.error(108,{state:e});nextChar(e)}const o=e.input.slice(i,e.index);nextChar(e),r.push(o);const s=r.join("");return e.g=s,4096}function scanTemplate(e){let t=1,n="";for(;96!==nextChar(e);)if(36===e.m){if(e.length>e.index+1&&123===e.input.charCodeAt(e.index+1)){e.index++,t=0;break}n+="$"}else if(92===e.m)n+=String.fromCharCode(unescapeCode(nextChar(e)));else{if(e.index>=e.length)throw Reporter.error(109,{state:e});n+=String.fromCharCode(e.m)}return nextChar(e),e.g=n,t?540713:540714}function scanTemplateTail(e){if(e.index>=e.length)throw Reporter.error(109,{state:e});return e.index--,scanTemplate(e)}function consumeOpt(e,t){return e.h===t?(nextToken(e),1):0}function consume(e,t){if(e.h!==t)throw Reporter.error(110,{state:e,P:t});nextToken(e)}function decompress(e,t,n,value){const r=n.length;for(let i=0;r>i;i+=2){const r=n[i];let o=n[i+1];if(o=o>0?o:r+1,e&&e.fill(value,r,o),t)for(let e=r;o>e;e++)t.add(e)}}function returnToken(e){return t=>(nextChar(t),e)}function createElementInfo(def){const e=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=BindingMode.A;let bindable,t,n,mode;for(t in bindables)void 0!==(bindable=bindables[t]).R&&(t=bindable.R),n=void 0!==bindable.k?bindable.k:PLATFORM.I(t),e.bindables[n]=new BindableInfo(t,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode);return e}function createAttributeInfo(def){const e=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==BindingMode.default?def.defaultBindingMode:BindingMode.A;let bindable,t,mode,n=0;for(t in bindables)++n,void 0!==(bindable=bindables[t]).R&&(t=bindable.R),e.bindables[t]=new BindableInfo(t,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode),null===e.bindable&&(e.bindable=e.bindables[t]);return null===e.bindable&&(e.bindable=new BindableInfo("value",defaultBindingMode)),(def.L||n>1)&&(e.L=1),e}function createMarker(dom){const e=dom.createElement("au-m");return dom.O(e),e}var Access,Precedence,Token,Char,SyntaxError,SemanticError,SymbolFlags;import{PLATFORM,DI,Registration,Reporter,Profiler,all}from"@aurelia/kernel";import{OneTimeBindingInstruction,ToViewBindingInstruction,FromViewBindingInstruction,TwoWayBindingInstruction,BindingMode,CallBindingInstruction,IteratorBindingInstruction,PrimitiveLiteral,AccessThis,Unary,BindingIdentifier,AccessScope,Template,AccessMember,AccessKeyed,CallScope,CallMember,CallFunction,TaggedTemplate,Binary,Conditional,Assign,ValueConverter,BindingBehavior,ArrayBindingPattern,ArrayLiteral,ForOfStatement,ObjectBindingPattern,ObjectLiteral,Interpolation,IExpressionParser,BasicConfiguration,CustomElementResource,CustomAttributeResource}from"@aurelia/runtime";class AttrSyntax{constructor(e,t,n,r){this.F=e,this.v=t,this.target=n,this.command=r}}class CharSpec{constructor(e,t,n,r){if(this.M=e,this.repeat=t,this.D=n,this.U=r,r)switch(e.length){case 0:this.has=this.$;break;case 1:this.has=this.V;break;default:this.has=this.K}else switch(e.length){case 0:this.has=this.N;break;case 1:this.has=this.q;break;default:this.has=this.W}}H(e){return this.M===e.M&&this.repeat===e.repeat&&this.D===e.D&&this.U===e.U}W(e){return-1!==this.M.indexOf(e)}q(e){return this.M===e}N(e){return 0}K(e){return-1===this.M.indexOf(e)}V(e){return this.M!==e}$(e){return 1}}class Interpretation{get pattern(){const value=this.G;return""===value?null:value}set pattern(value){null===value?(this.G="",this.parts=PLATFORM.Z):(this.G=value,this.parts=this.j[value])}constructor(){this.G="",this.parts=PLATFORM.Z,this.J={},this.j={}}append(e,t){const{J:n}=this;void 0===n[e]?n[e]=t:n[e]+=t}next(e){const{J:t}=this;if(void 0!==t[e]){const{j:n}=this;void 0===n[e]?n[e]=[t[e]]:n[e].push(t[e]),t[e]=void 0}}}class State{get pattern(){return this.X?this.Y[0]:null}constructor(e,...t){this._=e,this.ee=[],this.types=null,this.Y=t,this.X=0}te(e){const t=this.ee,n=t.length;let r=null;for(let i=0;n>i;++i)if(e.H((r=t[i])._))return r;return null}append(e,t){const{Y:n}=this;-1===n.indexOf(t)&&n.push(t);let r=this.te(e);return null===r&&(r=new State(e,t),this.ee.push(r),e.repeat&&r.ee.push(r)),r}ne(e,t){const n=[],r=this.ee,i=r.length;let o=0,s=null,a=0,c=0;for(;i>a;++a)if((s=r[a])._.has(e))if(n.push(s),o=s.Y.length,c=0,s._.D)for(;o>c;++c)t.next(s.Y[c]);else for(;o>c;++c)t.append(s.Y[c],e);return n}}class StaticSegment{constructor(e){this.text=e;const t=this.re=e.length,n=this.ie=[];for(let r=0;t>r;++r)n.push(new CharSpec(e[r],0,0,0))}oe(e){const{re:t,ie:n}=this;for(let r=0;t>r;++r)e(n[r])}}class DynamicSegment{constructor(e){this.text="PART",this.se=new CharSpec(e,1,0,1)}oe(e){e(this.se)}}class SymbolSegment{constructor(e){this.text=e,this.se=new CharSpec(e,0,1,0)}oe(e){e(this.se)}}class SegmentTypes{constructor(){this.ae=0,this.ce=0,this.symbols=0}}const ISyntaxInterpreter=DI.ue("ISyntaxInterpreter").le(e=>e.singleton(SyntaxInterpreter));class SyntaxInterpreter{constructor(){this.de=new State(null),this.me=[this.de]}add(e){let t=0;if(Array.isArray(e)){const n=e.length;for(;n>t;++t)this.add(e[t]);return}let n=this.de;const def=e,r=def.pattern,i=new SegmentTypes,o=this.parse(def,i),s=o.length,a=e=>{n=n.append(e,r)};for(t=0;s>t;++t)o[t].oe(a);n.types=i,n.X=1}he(name){const e=new Interpretation;let t=this.me;const n=name.length;for(let r=0;n>r&&0!==(t=this.pe(t,name.charAt(r),e)).length;++r);if(t.sort((e,t)=>{if(!e.X)return t.X?1:0;if(!t.X)return-1;const n=e.types,r=t.types;return n.ae!==r.ae?r.ae-n.ae:n.ce!==r.ce?r.ce-n.ce:n.symbols!==r.symbols?r.symbols-n.symbols:0}),t.length>0){const n=t[0];n._.D||e.next(n.pattern),e.pattern=n.pattern}return e}pe(e,t,n){const r=[];let i=null;const o=e.length;for(let s=0;o>s;++s)r.push(...(i=e[s]).ne(t,n));return r}parse(def,e){const t=[],n=def.pattern,r=n.length;let i=0,o=0,s="";for(;r>i;)s=n.charAt(i),-1===def.symbols.indexOf(s)?i===o&&"P"===s&&"PART"===n.slice(i,i+4)?(o=i+=4,t.push(new DynamicSegment(def.symbols)),++e.ce):++i:i!==o?(t.push(new StaticSegment(n.slice(o,i))),++e.ae,o=i):(t.push(new SymbolSegment(n.slice(o,i+1))),++e.symbols,o=++i);return o!==i&&(t.push(new StaticSegment(n.slice(o,i))),++e.ae),t}}const IAttributePattern=DI.ue("IAttributePattern").ge();class DotSeparatedAttributePattern{fe(e,t,parts){return new AttrSyntax(e,t,parts[0],parts[1])}Ce(e,t,parts){return new AttrSyntax(e,t,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{Te(e,t,parts){return new AttrSyntax(e,t,"ref",null)}we(e,t,parts){return new AttrSyntax(e,t,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{Be(e,t,parts){return new AttrSyntax(e,t,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{Se(e,t,parts){return new AttrSyntax(e,t,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=DI.ue("IAttributeParser").le(e=>e.singleton(AttributeParser)),{Pe:enter,be:leave}=Profiler.Ae("AttributeParser");class AttributeParser{constructor(e,t){this.ye=e,this.cache={};const n=this.Y={};t.forEach(t=>{const r=t.t;e.add(r),r.forEach(def=>{n[def.pattern]=t})})}parse(name,value){let e=this.cache[name];void 0===e&&(e=this.cache[name]=this.ye.he(name));const t=e.pattern;return null===t?new AttrSyntax(name,value,name,null):this.Y[t][t](name,value,e.parts)}}AttributeParser.inject=[ISyntaxInterpreter,all(IAttributePattern)];const BindingCommandResource={name:"binding-command",i:keyFrom,Re:isType,o:define};class OneTimeBindingCommand{constructor(){this.xe=49}compile(e){return new OneTimeBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.o("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.xe=50}compile(e){return new ToViewBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.o("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.xe=51}compile(e){return new FromViewBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.o("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.xe=52}compile(e){return new TwoWayBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.o("two-way",TwoWayBindingCommand);const modeToProperty=["","$1","$2","","$4","","$6"],commandToMode={bind:BindingMode.A,Ie:BindingMode.oneTime,Le:BindingMode.A,Ee:BindingMode.Oe,Fe:BindingMode.ve};class DefaultBindingCommand{constructor(){this.xe=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(e){return this[modeToProperty[getMode(e)]](e)}}BindingCommandResource.o("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.xe=153}compile(e){return new CallBindingInstruction(e.ke,getTarget(e,1))}}BindingCommandResource.o("call",CallBindingCommand);class ForBindingCommand{constructor(){this.xe=539}compile(e){return new IteratorBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.o("for",ForBindingCommand),(function(e){e[e.Me=0]="Reset",e[e.De=511]="Ancestor",e[e.Ue=512]="This",e[e.Scope=1024]="Scope",e[e.$e=2048]="Member",e[e.Ve=4096]="Keyed"})(Access||(Access={})),(function(e){e[e.Ke=61]="Variadic",e[e.Assign=62]="Assign",e[e.Conditional=63]="Conditional",e[e.Ne=64]="LogicalOR",e[e.qe=128]="LogicalAND",e[e.We=192]="Equality",e[e.Qe=256]="Relational",e[e.He=320]="Additive",e[e.Ge=384]="Multiplicative",e[e.Binary=448]="Binary",e[e.Ze=449]="LeftHandSide",e[e.je=450]="Primary",e[e.Unary=451]="Unary"})(Precedence||(Precedence={})),(function(e){e[e.Je=1572864]="EOF",e[e.Xe=1048576]="ExpressionTerminal",e[e.Ye=524288]="AccessScopeTerminal",e[e.ze=262144]="ClosingToken",e[e._e=131072]="OpeningToken",e[e.et=65536]="BinaryOp",e[e.tt=32768]="UnaryOp",e[e.Ze=16384]="LeftHandSide",e[e.nt=12288]="StringOrNumericLiteral",e[e.rt=8192]="NumericLiteral",e[e.it=4096]="StringLiteral",e[e.ot=3072]="IdentifierName",e[e.st=2048]="Keyword",e[e.at=1024]="Identifier",e[e.ct=512]="Contextual",e[e.lt=448]="Precedence",e[e.ut=63]="Type",e[e.dt=2048]="FalseKeyword",e[e.ht=2049]="TrueKeyword",e[e.pt=2050]="NullKeyword",e[e.gt=2051]="UndefinedKeyword",e[e.ft=3076]="ThisScope",e[e.Ct=3077]="ParentScope",e[e.Tt=671750]="OpenParen",e[e.wt=131079]="OpenBrace",e[e.Bt=16392]="Dot",e[e.St=1835017]="CloseBrace",e[e.Pt=1835018]="CloseParen",e[e.bt=1572875]="Comma",e[e.At=671756]="OpenBracket",e[e.yt=1835021]="CloseBracket",e[e.Rt=1572878]="Colon",e[e.xt=1572879]="Question",e[e.kt=1572880]="Ampersand",e[e.It=1572883]="Bar",e[e.Lt=1638548]="BarBar",e[e.Et=1638613]="AmpersandAmpersand",e[e.Ot=1638678]="EqualsEquals",e[e.Ft=1638679]="ExclamationEquals",e[e.vt=1638680]="EqualsEqualsEquals",e[e.Mt=1638681]="ExclamationEqualsEquals",e[e.Dt=1638746]="LessThan",e[e.Ut=1638747]="GreaterThan",e[e.$t=1638748]="LessThanEquals",e[e.Vt=1638749]="GreaterThanEquals",e[e.Kt=1640798]="InKeyword",e[e.Nt=1640799]="InstanceOfKeyword",e[e.qt=623008]="Plus",e[e.Wt=623009]="Minus",e[e.Qt=34850]="TypeofKeyword",e[e.Ht=34851]="VoidKeyword",e[e.Gt=1638884]="Asterisk",e[e.Zt=1638885]="Percent",e[e.jt=1638886]="Slash",e[e.Jt=1048615]="Equals",e[e.Xt=32808]="Exclamation",e[e.Yt=540713]="TemplateTail",e[e.zt=540714]="TemplateContinuation",e[e._t=1051179]="OfKeyword"})(Token||(Token={})),(function(e){e[e.en=0]="Null",e[e.tn=8]="Backspace",e[e.nn=9]="Tab",e[e.rn=10]="LineFeed",e[e.in=11]="VerticalTab",e[e.on=12]="FormFeed",e[e.sn=13]="CarriageReturn",e[e.an=32]="Space",e[e.Xt=33]="Exclamation",e[e.cn=34]="DoubleQuote",e[e.ln=36]="Dollar",e[e.Zt=37]="Percent",e[e.kt=38]="Ampersand",e[e.un=39]="SingleQuote",e[e.Tt=40]="OpenParen",e[e.Pt=41]="CloseParen",e[e.Gt=42]="Asterisk",e[e.qt=43]="Plus",e[e.bt=44]="Comma",e[e.Wt=45]="Minus",e[e.Bt=46]="Dot",e[e.jt=47]="Slash",e[e.dn=59]="Semicolon",e[e.mn=96]="Backtick",e[e.At=91]="OpenBracket",e[e.hn=92]="Backslash",e[e.yt=93]="CloseBracket",e[e.pn=94]="Caret",e[e.gn=95]="Underscore",e[e.wt=123]="OpenBrace",e[e.It=124]="Bar",e[e.St=125]="CloseBrace",e[e.Rt=58]="Colon",e[e.Dt=60]="LessThan",e[e.Jt=61]="Equals",e[e.Ut=62]="GreaterThan",e[e.xt=63]="Question",e[e.fn=48]="Zero",e[e.Cn=49]="One",e[e.Tn=50]="Two",e[e.wn=51]="Three",e[e.Bn=52]="Four",e[e.Sn=53]="Five",e[e.Pn=54]="Six",e[e.bn=55]="Seven",e[e.An=56]="Eight",e[e.yn=57]="Nine",e[e.Rn=65]="UpperA",e[e.xn=66]="UpperB",e[e.kn=67]="UpperC",e[e.In=68]="UpperD",e[e.Ln=69]="UpperE",e[e.En=70]="UpperF",e[e.On=71]="UpperG",e[e.Fn=72]="UpperH",e[e.vn=73]="UpperI",e[e.Mn=74]="UpperJ",e[e.Dn=75]="UpperK",e[e.Un=76]="UpperL",e[e.$n=77]="UpperM",e[e.Vn=78]="UpperN",e[e.Kn=79]="UpperO",e[e.Nn=80]="UpperP",e[e.qn=81]="UpperQ",e[e.Wn=82]="UpperR",e[e.Qn=83]="UpperS",e[e.Hn=84]="UpperT",e[e.Gn=85]="UpperU",e[e.Zn=86]="UpperV",e[e.jn=87]="UpperW",e[e.Jn=88]="UpperX",e[e.Xn=89]="UpperY",e[e.Yn=90]="UpperZ",e[e.zn=97]="LowerA",e[e._n=98]="LowerB",e[e.er=99]="LowerC",e[e.tr=100]="LowerD",e[e.nr=101]="LowerE",e[e.rr=102]="LowerF",e[e.ir=103]="LowerG",e[e.or=104]="LowerH",e[e.sr=105]="LowerI",e[e.ar=106]="LowerJ",e[e.cr=107]="LowerK",e[e.lr=108]="LowerL",e[e.ur=109]="LowerM",e[e.dr=110]="LowerN",e[e.mr=111]="LowerO",e[e.hr=112]="LowerP",e[e.pr=113]="LowerQ",e[e.gr=114]="LowerR",e[e.Cr=115]="LowerS",e[e.Tr=116]="LowerT",e[e.wr=117]="LowerU",e[e.Br=118]="LowerV",e[e.Sr=119]="LowerW",e[e.Pr=120]="LowerX",e[e.br=121]="LowerY",e[e.Ar=122]="LowerZ"})(Char||(Char={}));const{Pe:enter$1,be:leave$1}=Profiler.Ae("ExpressionParser"),$false=PrimitiveLiteral.yr,$true=PrimitiveLiteral.Rr,$null=PrimitiveLiteral.xr,$undefined=PrimitiveLiteral.kr,$this=AccessThis.Ir,$parent=AccessThis.Lr;class ParserState{get T(){return this.input.slice(this.S,this.index)}constructor(e){this.index=0,this.S=0,this.lastIndex=0,this.input=e,this.length=e.length,this.h=1572864,this.g="",this.m=e.charCodeAt(0),this.p=1}}const $state=new ParserState("");(function(e){e[e.Er=100]="InvalidExpressionStart",e[e.Or=101]="UnconsumedToken",e[e.Fr=102]="DoubleDot",e[e.vr=103]="InvalidMemberExpression",e[e.Mr=104]="UnexpectedEndOfExpression",e[e.Dr=105]="ExpectedIdentifier",e[e.Ur=106]="InvalidForDeclaration",e[e.$r=107]="InvalidObjectLiteralPropertyDefinition",e[e.Vr=108]="UnterminatedQuote",e[e.Kr=109]="UnterminatedTemplate",e[e.Nr=110]="MissingExpectedToken",e[e.qr=111]="UnexpectedCharacter",e[e.Wr=112]="MissingValueConverter",e[e.Qr=113]="MissingBindingBehavior"})(SyntaxError||(SyntaxError={})),(function(e){e[e.Hr=150]="NotAssignable",e[e.Gr=151]="UnexpectedForOf"})(SemanticError||(SemanticError={}));const TokenValues=[$false,$true,$null,$undefined,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],KeywordLookup=Object.create(null);KeywordLookup.true=2049,KeywordLookup.null=2050,KeywordLookup.false=2048,KeywordLookup.undefined=2051,KeywordLookup.Ir=3076,KeywordLookup.Lr=3077,KeywordLookup.Zr=1640798,KeywordLookup.jr=1640799,KeywordLookup.Jr=34850,KeywordLookup.Xr=34851,KeywordLookup.of=1051179;const codes={Yr:[36,0,48,58,65,91,95,0,97,123],zr:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],_r:[48,58],ei:[0,33,127,161]},unexpectedCharacter=e=>{throw Reporter.error(111,{state:e})};unexpectedCharacter.ti=1;const AsciiIdParts=new Set;decompress(null,AsciiIdParts,codes.Yr,1);const IdParts=new Uint8Array(65535);decompress(IdParts,null,codes.zr,1),decompress(IdParts,null,codes._r,1);const CharScanners=Array(65535);CharScanners.fill(unexpectedCharacter,0,65535),decompress(CharScanners,null,codes.ei,e=>(nextChar(e),null)),decompress(CharScanners,null,codes.zr,scanIdentifier),decompress(CharScanners,null,codes._r,e=>scanNumber(e,0)),CharScanners[34]=CharScanners[39]=(e=>scanString(e)),CharScanners[96]=(e=>scanTemplate(e)),CharScanners[33]=(e=>61!==nextChar(e)?32808:61!==nextChar(e)?1638679:(nextChar(e),1638681)),CharScanners[61]=(e=>61!==nextChar(e)?1048615:61!==nextChar(e)?1638678:(nextChar(e),1638680)),CharScanners[38]=(e=>38!==nextChar(e)?1572880:(nextChar(e),1638613)),CharScanners[124]=(e=>124!==nextChar(e)?1572883:(nextChar(e),1638548)),CharScanners[46]=(e=>nextChar(e)>57||48>e.m?16392:scanNumber(e,1)),CharScanners[60]=(e=>61!==nextChar(e)?1638746:(nextChar(e),1638748)),CharScanners[62]=(e=>61!==nextChar(e)?1638747:(nextChar(e),1638749)),CharScanners[37]=returnToken(1638885),CharScanners[40]=returnToken(671750),CharScanners[41]=returnToken(1835018),CharScanners[42]=returnToken(1638884),CharScanners[43]=returnToken(623008),CharScanners[44]=returnToken(1572875),CharScanners[45]=returnToken(623009),CharScanners[47]=returnToken(1638886),CharScanners[58]=returnToken(1572878),CharScanners[63]=returnToken(1572879),CharScanners[91]=returnToken(671756),CharScanners[93]=returnToken(1835021),CharScanners[123]=returnToken(131079),CharScanners[125]=returnToken(1835017);const IExpressionParserRegistration={register(e){e.ni(IExpressionParser,e=>(e.ri=parseExpression,e))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration$1={register:e=>BasicConfiguration.register(e).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),ii(){return this.register(DI.ii())}};class ResourceModel{constructor(e){this.oi=e,this.si={},this.ai={},this.ci={}}li(name){let e=this.si[name];if(void 0===e){const def=this.oi.find(CustomElementResource,name);e=null===def?null:createElementInfo(def),this.si[name]=e}return e}ui(e){const name=PLATFORM.l(e.target);let t=this.ai[name];if(void 0===t){const def=this.oi.find(CustomAttributeResource,name);t=null===def?null:createAttributeInfo(def),this.ai[name]=t}return t}di(e){const name=e.command;if(null===name)return null;let t=this.ci[name];if(void 0===t){if(null===(t=this.oi.create(BindingCommandResource,name)))throw Reporter.error(0);this.ci[name]=t}return t}}class BindableInfo{constructor(e,mode){this.s=e,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.L=0}}(function(SymbolFlags){SymbolFlags[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.mi=2]="isReplacePart",SymbolFlags[SymbolFlags.hi=4]="isCustomAttribute",SymbolFlags[SymbolFlags.pi=8]="isPlainAttribute",SymbolFlags[SymbolFlags.gi=16]="isCustomElement",SymbolFlags[SymbolFlags.fi=32]="isLetElement",SymbolFlags[SymbolFlags.Ci=64]="isPlainElement",SymbolFlags[SymbolFlags.Ti=128]="isText",SymbolFlags[SymbolFlags.wi=256]="isBinding",SymbolFlags[SymbolFlags.Bi=512]="hasMarker",SymbolFlags[SymbolFlags.Si=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.Pi=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.bi=16384]="hasParts"})(SymbolFlags||(SymbolFlags={}));class TemplateControllerSymbol{get Ai(){return null===this.yi&&(this.yi=[],this.flags|=4096),this.yi}constructor(dom,e,t,n){this.flags=513,this.res=t.name,this.Ri=n,this.xi=null,this.u=e,this.template=null,this.templateController=null,this.marker=createMarker(dom),this.yi=null}}class ReplacePartSymbol{constructor(name){this.flags=2,this.name=name,this.xi=null,this.parent=null,this.template=null}}class CustomAttributeSymbol{get Ai(){return null===this.yi&&(this.yi=[],this.flags|=4096),this.yi}constructor(e,t){this.flags=4,this.res=t.name,this.u=e,this.yi=null}}class PlainAttributeSymbol{constructor(e,t,n){this.flags=8,this.u=e,this.command=t,this.ke=n}}class BindingSymbol{constructor(e,bindable,t,n,r){this.flags=256,this.command=e,this.bindable=bindable,this.ke=t,this.v=n,this.target=r}}class CustomElementSymbol{get attributes(){return null===this.ki&&(this.ki=[],this.flags|=2048),this.ki}get Ai(){return null===this.yi&&(this.yi=[],this.flags|=4096),this.yi}get childNodes(){return null===this.Ii&&(this.Ii=[],this.flags|=8192),this.Ii}get parts(){return null===this.Li&&(this.Li=[],this.flags|=16384),this.Li}constructor(dom,e,t){this.flags=16,this.res=t.name,this.xi=e,this.bindables=t.bindables,this.Ei=1,this.templateController=null,t.containerless?(this.Oi=1,this.marker=createMarker(dom),this.flags|=512):(this.Oi=0,this.marker=null),this.ki=null,this.yi=null,this.Ii=null,this.Li=null}}class LetElementSymbol{get Ai(){return null===this.yi&&(this.yi=[],this.flags|=4096),this.yi}constructor(dom,e){this.flags=544,this.xi=e,this.toViewModel=0,this.marker=createMarker(dom),this.yi=null}}class PlainElementSymbol{get attributes(){return null===this.ki&&(this.ki=[],this.flags|=2048),this.ki}get childNodes(){return null===this.Ii&&(this.Ii=[],this.flags|=8192),this.Ii}constructor(e){this.flags=64,this.xi=e,this.Ei=0,this.templateController=null,this.ki=null,this.Ii=null}}class TextSymbol{constructor(dom,e,t){this.flags=640,this.xi=e,this.Fi=t,this.marker=createMarker(dom)}}export{AttrSyntax,IAttributeParser,AtPrefixedTriggerAttributePattern,attributePattern,ColonPrefixedBindAttributePattern,DotSeparatedAttributePattern,IAttributePattern,Interpretation,ISyntaxInterpreter,RefAttributePattern,bindingCommand,BindingCommandResource,CallBindingCommand,DefaultBindingCommand,ForBindingCommand,FromViewBindingCommand,getMode,getTarget,OneTimeBindingCommand,ToViewBindingCommand,TwoWayBindingCommand,IExpressionParserRegistration,DefaultComponents,RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration,DefaultBindingSyntax,AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration,ShortHandBindingSyntax,CallBindingCommandRegistration,DefaultBindingCommandRegistration,ForBindingCommandRegistration,FromViewBindingCommandRegistration,OneTimeBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,DefaultBindingLanguage,BasicConfiguration$1 as BasicConfiguration,parseExpression,ResourceModel,BindableInfo,ElementInfo,AttrInfo,BindingSymbol,CustomAttributeSymbol,CustomElementSymbol,LetElementSymbol,PlainAttributeSymbol,PlainElementSymbol,ReplacePartSymbol,SymbolFlags,TemplateControllerSymbol,TextSymbol};
