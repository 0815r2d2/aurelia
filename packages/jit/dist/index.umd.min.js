(function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@aurelia/kernel"),require("@aurelia/runtime")):"function"==typeof define&&define.t?define(["exports","@aurelia/kernel","@aurelia/runtime"],r):r((t=t||self).jit={},t.kernel,t.runtime)})(this,function(t,kernel,runtime){"use strict";function attributePattern(...t){return function(r){const e=r.prototype;return(function(t,r){for(const def of r)def.pattern in t?"function"!=typeof t[def.pattern]&&kernel.Reporter.write(402,def):kernel.Reporter.write(401,def)})(e,t),e.s=t,r.register=function(t){return kernel.Registration.singleton(IAttributePattern,r).register(t,IAttributePattern)},r}}function r(t){const r=BindingCommandResource.i(this.description.name);t.register(kernel.Registration.singleton(r,this))}function getTarget(t,r){return 256&t.flags?t.bindable.o:r?kernel.PLATFORM.l(t.u.target):t.u.target}function getMode(t){return 256&t.flags?t.bindable.mode:S[t.u.command]}function e(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}function parseExpression(t,r){return $state.input=t,$state.length=t.length,$state.index=0,$state.h=t.charCodeAt(0),s($state,0,61,void 0===r?53:r)}function s(t,r,c,l){if(0===t.index){if(2048&l)return(function(t){const parts=[],r=[],n=t.length;let c="";for(;n>t.index;){switch(t.h){case 36:if(123===t.input.charCodeAt(t.index+1)){parts.push(c),c="",t.index+=2,t.h=t.input.charCodeAt(t.index),i(t);const e=s(t,0,61,2048);r.push(e);continue}c+="$";break;case 92:c+=String.fromCharCode(e(o(t)));break;default:c+=String.fromCharCode(t.h)}o(t)}return r.length?(parts.push(c),new runtime.Interpolation(parts,r)):null})(t);if(i(t),1048576&t.p)throw kernel.Reporter.error(100,{state:t})}t.m=448>c;let u=void 0;if(32768&t.p){const e=K[63&t.p];i(t),u=new runtime.Unary(e,s(t,r,449,l)),t.m=0}else{t:switch(t.p){case 3077:t.m=0;do{if(i(t),r++,!h(t,16392)){if(524288&t.p){const t=511&r;u=0===t?N:1===t?F:new runtime.AccessThis(t),r=512;break t}throw kernel.Reporter.error(103,{state:t})}if(16392===t.p)throw kernel.Reporter.error(102,{state:t});if(1572864===t.p)throw kernel.Reporter.error(105,{state:t})}while(3077===t.p);case 1024:512&l?u=new runtime.BindingIdentifier(t.P):(u=new runtime.AccessScope(t.P,511&r),r=1024),t.m=1,i(t);break;case 3076:t.m=0,i(t),u=N,r=512;break;case 671750:i(t),u=s(t,0,62,l),a(t,1835018),r=0;break;case 671756:u=(function(t,r,e){i(t);const n=[];for(;1835021!==t.p;)if(h(t,1572875)){if(n.push(I),1835021===t.p){n.push(I);break}}else{if(n.push(s(t,r,62,-513&e)),!h(t,1572875))break;if(1835021===t.p){n.push(I);break}}return a(t,1835021),512&e?new runtime.ArrayBindingPattern(n):(t.m=0,new runtime.ArrayLiteral(n))})(t,r,l),r=0;break;case 131079:u=(function(t,r){const e=[],n=[];for(i(t);1835017!==t.p;){if(e.push(t.P),12288&t.p)i(t),a(t,1572878),n.push(s(t,0,62,-513&r));else{if(!(3072&t.p))throw kernel.Reporter.error(107,{state:t});{const{h:e,p:o,index:c}=t;i(t),h(t,1572878)?n.push(s(t,0,62,-513&r)):(t.h=e,t.p=o,t.index=c,n.push(s(t,0,450,-513&r)))}}1835017!==t.p&&a(t,1572875)}return a(t,1835017),512&r?new runtime.ObjectBindingPattern(e,n):(t.m=0,new runtime.ObjectLiteral(e,n))})(t,l),r=0;break;case 540713:u=new runtime.Template([t.P]),t.m=0,i(t),r=0;break;case 540714:u=n(t,r,l,u,0),r=0;break;case 4096:case 8192:u=new runtime.PrimitiveLiteral(t.P),t.m=0,i(t),r=0;break;case 2050:case 2051:case 2049:case 2048:u=K[63&t.p],t.m=0,i(t),r=0;break;default:throw kernel.Reporter.error(t.length>t.index?101:104,{state:t})}if(512&l)return(function(t,r){if(0==(65536&r.g))throw kernel.Reporter.error(106,{state:t});if(1051179!==t.p)throw kernel.Reporter.error(106,{state:t});i(t);const e=r,n=s(t,0,61,0);return new runtime.ForOfStatement(e,n)})(t,u);if(c>449)return u;let name=t.P;for(;(16384&t.p)>0;)switch(t.p){case 16392:if(t.m=1,i(t),0==(3072&t.p))throw kernel.Reporter.error(105,{state:t});if(name=t.P,i(t),r=(1536&r)<<1|2048&r|(4096&r)>>1,671750===t.p){0===r&&(r=2048);continue}u=1024&r?new runtime.AccessScope(name,u.L):new runtime.AccessMember(u,name);continue;case 671756:t.m=1,i(t),r=4096,u=new runtime.AccessKeyed(u,s(t,0,62,l)),a(t,1835021);break;case 671750:t.m=0,i(t);const e=[];for(;1835018!==t.p&&(e.push(s(t,0,62,l)),h(t,1572875)););a(t,1835018),u=1024&r?new runtime.CallScope(name,e,u.L):2048&r?new runtime.CallMember(u,name,e):new runtime.CallFunction(u,e),r=0;break;case 540713:t.m=0;const o=[t.P];u=new runtime.TaggedTemplate(o,o,u),i(t);break;case 540714:u=n(t,r,l,u,1)}}if(c>448)return u;for(;(65536&t.p)>0;){const e=t.p;if(c>=(448&e))break;i(t),u=new runtime.Binary(K[63&e],u,s(t,r,448&e,l)),t.m=0}if(c>63)return u;if(h(t,1572879)){const e=s(t,r,62,l);a(t,1572878),u=new runtime.Conditional(u,e,s(t,r,62,l)),t.m=0}if(c>62)return u;if(h(t,1048615)){if(!t.m)throw kernel.Reporter.error(150,{state:t});u=new runtime.Assign(u,s(t,r,62,l))}if(c>61)return u;for(;h(t,1572883);){if(1572864===t.p)throw kernel.Reporter.error(112);const name=t.P;i(t);const e=[];for(;h(t,1572878);)e.push(s(t,r,62,l));u=new runtime.ValueConverter(u,name,e)}for(;h(t,1572880);){if(1572864===t.p)throw kernel.Reporter.error(113);const name=t.P;i(t);const e=[];for(;h(t,1572878);)e.push(s(t,r,62,l));u=new runtime.BindingBehavior(u,name,e)}if(1572864!==t.p){if(2048&l)return u;if("of"===t.A)throw kernel.Reporter.error(151,{state:t});throw kernel.Reporter.error(101,{state:t})}return u}function n(t,r,e,n,o){const c=[t.P];a(t,540714);const l=[s(t,r,62,e)];for(;540713!==(t.p=u(t));)c.push(t.P),a(t,540714),l.push(s(t,r,62,e));return c.push(t.P),t.m=0,o?(i(t),new runtime.TaggedTemplate(c,c,n,l)):(i(t),new runtime.Template(c,l))}function i(t){for(;t.length>t.index;)if(t.U=t.index,null!==(t.p=G[t.h](t)))return;t.p=1572864}function o(t){return t.h=t.input.charCodeAt(++t.index)}function c(t,r){let e=t.h;if(0==r){do{e=o(t)}while(57>=e&&e>=48);if(46!==e)return t.P=parseInt(t.A,10),8192;if(e=o(t),t.index>=t.length)return t.P=parseInt(t.A.slice(0,-1),10),8192}if(e>57||48>e)t.h=t.input.charCodeAt(--t.index);else do{e=o(t)}while(57>=e&&e>=48);return t.P=parseFloat(t.A),8192}function l(t){let r=1,s="";for(;96!==o(t);)if(36===t.h){if(t.length>t.index+1&&123===t.input.charCodeAt(t.index+1)){t.index++,r=0;break}s+="$"}else if(92===t.h)s+=String.fromCharCode(e(o(t)));else{if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});s+=String.fromCharCode(t.h)}return o(t),t.P=s,r?540713:540714}function u(t){if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});return t.index--,l(t)}function h(t,r){return t.p===r?(i(t),1):0}function a(t,r){if(t.p!==r)throw kernel.Reporter.error(110,{state:t,T:r});i(t)}function f(t,r,e,value){const s=e.length;for(let n=0;s>n;n+=2){const s=e[n];let i=e[n+1];if(i=i>0?i:s+1,t&&t.fill(value,s,i),r)for(let t=s;i>t;t++)r.add(t)}}function w(t){return r=>(o(r),t)}function p(dom){const t=dom.createElement("au-m");return dom.k(t),t}var d,b,m,P,g,L,SymbolFlags;class AttrSyntax{constructor(t,r,e,s){this.v=t,this.R=r,this.target=e,this.command=s}}class A{constructor(t,r,e,s){if(this.S=t,this.repeat=r,this.B=e,this.O=s,s)switch(t.length){case 0:this.has=this.q;break;case 1:this.has=this.I;break;default:this.has=this.N}else switch(t.length){case 0:this.has=this.F;break;case 1:this.has=this.K;break;default:this.has=this.M}}D(t){return this.S===t.S&&this.repeat===t.repeat&&this.B===t.B&&this.O===t.O}M(t){return-1!==this.S.indexOf(t)}K(t){return this.S===t}F(t){return 0}N(t){return-1===this.S.indexOf(t)}I(t){return this.S!==t}q(t){return 1}}class Interpretation{get pattern(){const value=this.$;return""===value?null:value}set pattern(value){null===value?(this.$="",this.parts=kernel.PLATFORM.C):(this.$=value,this.parts=this.G[value])}constructor(){this.$="",this.parts=kernel.PLATFORM.C,this.H={},this.G={}}append(t,r){const{H:e}=this;void 0===e[t]?e[t]=r:e[t]+=r}next(t){const{H:r}=this;if(void 0!==r[t]){const{G:e}=this;void 0===e[t]?e[t]=[r[t]]:e[t].push(r[t]),r[t]=void 0}}}class State{get pattern(){return this.V?this.Z[0]:null}constructor(t,...r){this.J=t,this.W=[],this.types=null,this.Z=r,this.V=0}X(t){const r=this.W,e=r.length;let s=null;for(let n=0;e>n;++n)if(t.D((s=r[n]).J))return s;return null}append(t,r){const{Z:e}=this;-1===e.indexOf(r)&&e.push(r);let s=this.X(t);return null===s&&(s=new State(t,r),this.W.push(s),t.repeat&&s.W.push(s)),s}Y(t,r){const e=[],s=this.W,n=s.length;let i=0,o=null,c=0,l=0;for(;n>c;++c)if((o=s[c]).J.has(t))if(e.push(o),i=o.Z.length,l=0,o.J.B)for(;i>l;++l)r.next(o.Z[l]);else for(;i>l;++l)r.append(o.Z[l],t);return e}}class U{constructor(t){this.text=t;const r=this._=t.length,e=this.j=[];for(let s=0;r>s;++s)e.push(new A(t[s],0,0,0))}tt(t){const{_:r,j:e}=this;for(let s=0;r>s;++s)t(e[s])}}class T{constructor(t){this.text="PART",this.rt=new A(t,1,0,1)}tt(t){t(this.rt)}}class y{constructor(t){this.text=t,this.rt=new A(t,0,1,0)}tt(t){t(this.rt)}}class E{constructor(){this.et=0,this.st=0,this.symbols=0}}const ISyntaxInterpreter=kernel.DI.it("ISyntaxInterpreter").nt(t=>t.singleton(k));class k{constructor(){this.ot=new State(null),this.ct=[this.ot]}add(t){let r=0;if(Array.isArray(t)){const e=t.length;for(;e>r;++r)this.add(t[r]);return}let e=this.ot;const def=t,s=def.pattern,n=new E,i=this.parse(def,n),o=i.length,c=t=>{e=e.append(t,s)};for(r=0;o>r;++r)i[r].tt(c);e.types=n,e.V=1}lt(name){const t=new Interpretation;let r=this.ct;const e=name.length;for(let s=0;e>s&&0!==(r=this.ut(r,name.charAt(s),t)).length;++s);if(r.sort((t,r)=>{if(!t.V)return r.V?1:0;if(!r.V)return-1;const e=t.types,s=r.types;return e.et!==s.et?s.et-e.et:e.st!==s.st?s.st-e.st:e.symbols!==s.symbols?s.symbols-e.symbols:0}),r.length>0){const e=r[0];e.J.B||t.next(e.pattern),t.pattern=e.pattern}return t}ut(t,r,e){const s=[];let n=null;const i=t.length;for(let o=0;i>o;++o)s.push(...(n=t[o]).Y(r,e));return s}parse(def,t){const r=[],e=def.pattern,s=e.length;let n=0,i=0,o="";for(;s>n;)o=e.charAt(n),-1===def.symbols.indexOf(o)?n===i&&"P"===o&&"PART"===e.slice(n,n+4)?(i=n+=4,r.push(new T(def.symbols)),++t.st):++n:n!==i?(r.push(new U(e.slice(i,n))),++t.et,i=n):(r.push(new y(e.slice(i,n+1))),++t.symbols,i=++n);return i!==n&&(r.push(new U(e.slice(i,n))),++t.et),r}}const IAttributePattern=kernel.DI.it("IAttributePattern").ht();class DotSeparatedAttributePattern{at(t,r,parts){return new AttrSyntax(t,r,parts[0],parts[1])}ft(t,r,parts){return new AttrSyntax(t,r,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{wt(t,r,parts){return new AttrSyntax(t,r,"ref",null)}pt(t,r,parts){return new AttrSyntax(t,r,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{dt(t,r,parts){return new AttrSyntax(t,r,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{bt(t,r,parts){return new AttrSyntax(t,r,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=kernel.DI.it("IAttributeParser").nt(t=>t.singleton(v));kernel.Profiler.Pt("AttributeParser");class v{constructor(t,r){this.gt=t,this.cache={};const e=this.Z={};r.forEach(r=>{const s=r.s;t.add(s),s.forEach(def=>{e[def.pattern]=r})})}parse(name,value){let t=this.cache[name];void 0===t&&(t=this.cache[name]=this.gt.lt(name));const r=t.pattern;return null===r?new AttrSyntax(name,value,name,null):this.Z[r][r](name,value,t.parts)}}v.inject=[ISyntaxInterpreter,kernel.all(IAttributePattern)];const BindingCommandResource={name:"binding-command",i(name){return`${this.name}:${name}`},Lt(t){return t.kind===this},At(t,e){const s=e,n="string"==typeof t?{name:t,target:null}:t;return s.kind=BindingCommandResource,s.description=n,s.register=r,s}};class OneTimeBindingCommand{constructor(){this.Ut=49}compile(t){return new runtime.OneTimeBindingInstruction(t.Tt,getTarget(t,0))}}BindingCommandResource.At("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.Ut=50}compile(t){return new runtime.ToViewBindingInstruction(t.Tt,getTarget(t,0))}}BindingCommandResource.At("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.Ut=51}compile(t){return new runtime.FromViewBindingInstruction(t.Tt,getTarget(t,0))}}BindingCommandResource.At("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.Ut=52}compile(t){return new runtime.TwoWayBindingInstruction(t.Tt,getTarget(t,0))}}BindingCommandResource.At("two-way",TwoWayBindingCommand);const R=["","$1","$2","","$4","","$6"],S={bind:runtime.BindingMode.yt,Et:runtime.BindingMode.oneTime,kt:runtime.BindingMode.yt,vt:runtime.BindingMode.Rt,St:runtime.BindingMode.Bt};class DefaultBindingCommand{constructor(){this.Ut=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(t){return this[R[getMode(t)]](t)}}BindingCommandResource.At("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.Ut=153}compile(t){return new runtime.CallBindingInstruction(t.Tt,getTarget(t,1))}}BindingCommandResource.At("call",CallBindingCommand);class ForBindingCommand{constructor(){this.Ut=539}compile(t){return new runtime.IteratorBindingInstruction(t.Tt,getTarget(t,0))}}BindingCommandResource.At("for",ForBindingCommand),(function(t){t[t.Ot=0]="Reset",t[t.qt=511]="Ancestor",t[t.It=512]="This",t[t.Scope=1024]="Scope",t[t.Nt=2048]="Member",t[t.Ft=4096]="Keyed"})(d||(d={})),(function(t){t[t.Kt=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.Mt=64]="LogicalOR",t[t.Dt=128]="LogicalAND",t[t.Qt=192]="Equality",t[t.$t=256]="Relational",t[t.Ct=320]="Additive",t[t.Gt=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.Ht=449]="LeftHandSide",t[t.Vt=450]="Primary",t[t.Unary=451]="Unary"})(b||(b={})),(function(t){t[t.Zt=1572864]="EOF",t[t.Jt=1048576]="ExpressionTerminal",t[t.Wt=524288]="AccessScopeTerminal",t[t.Xt=262144]="ClosingToken",t[t.Yt=131072]="OpeningToken",t[t._t=65536]="BinaryOp",t[t.xt=32768]="UnaryOp",t[t.Ht=16384]="LeftHandSide",t[t.zt=12288]="StringOrNumericLiteral",t[t.jt=8192]="NumericLiteral",t[t.tr=4096]="StringLiteral",t[t.rr=3072]="IdentifierName",t[t.er=2048]="Keyword",t[t.sr=1024]="Identifier",t[t.nr=512]="Contextual",t[t.ir=448]="Precedence",t[t.or=63]="Type",t[t.cr=2048]="FalseKeyword",t[t.lr=2049]="TrueKeyword",t[t.ur=2050]="NullKeyword",t[t.hr=2051]="UndefinedKeyword",t[t.ar=3076]="ThisScope",t[t.wr=3077]="ParentScope",t[t.pr=671750]="OpenParen",t[t.dr=131079]="OpenBrace",t[t.br=16392]="Dot",t[t.mr=1835017]="CloseBrace",t[t.Pr=1835018]="CloseParen",t[t.gr=1572875]="Comma",t[t.Lr=671756]="OpenBracket",t[t.Ar=1835021]="CloseBracket",t[t.Ur=1572878]="Colon",t[t.Tr=1572879]="Question",t[t.yr=1572880]="Ampersand",t[t.Er=1572883]="Bar",t[t.kr=1638548]="BarBar",t[t.vr=1638613]="AmpersandAmpersand",t[t.Rr=1638678]="EqualsEquals",t[t.Sr=1638679]="ExclamationEquals",t[t.Br=1638680]="EqualsEqualsEquals",t[t.Or=1638681]="ExclamationEqualsEquals",t[t.qr=1638746]="LessThan",t[t.Ir=1638747]="GreaterThan",t[t.Nr=1638748]="LessThanEquals",t[t.Fr=1638749]="GreaterThanEquals",t[t.Kr=1640798]="InKeyword",t[t.Mr=1640799]="InstanceOfKeyword",t[t.Dr=623008]="Plus",t[t.Qr=623009]="Minus",t[t.$r=34850]="TypeofKeyword",t[t.Cr=34851]="VoidKeyword",t[t.Gr=1638884]="Asterisk",t[t.Hr=1638885]="Percent",t[t.Vr=1638886]="Slash",t[t.Zr=1048615]="Equals",t[t.Jr=32808]="Exclamation",t[t.Wr=540713]="TemplateTail",t[t.Xr=540714]="TemplateContinuation",t[t.Yr=1051179]="OfKeyword"})(m||(m={})),(function(t){t[t._r=0]="Null",t[t.xr=8]="Backspace",t[t.zr=9]="Tab",t[t.jr=10]="LineFeed",t[t.te=11]="VerticalTab",t[t.re=12]="FormFeed",t[t.ee=13]="CarriageReturn",t[t.se=32]="Space",t[t.Jr=33]="Exclamation",t[t.ne=34]="DoubleQuote",t[t.ie=36]="Dollar",t[t.Hr=37]="Percent",t[t.yr=38]="Ampersand",t[t.oe=39]="SingleQuote",t[t.pr=40]="OpenParen",t[t.Pr=41]="CloseParen",t[t.Gr=42]="Asterisk",t[t.Dr=43]="Plus",t[t.gr=44]="Comma",t[t.Qr=45]="Minus",t[t.br=46]="Dot",t[t.Vr=47]="Slash",t[t.ce=59]="Semicolon",t[t.le=96]="Backtick",t[t.Lr=91]="OpenBracket",t[t.ue=92]="Backslash",t[t.Ar=93]="CloseBracket",t[t.he=94]="Caret",t[t.ae=95]="Underscore",t[t.dr=123]="OpenBrace",t[t.Er=124]="Bar",t[t.mr=125]="CloseBrace",t[t.Ur=58]="Colon",t[t.qr=60]="LessThan",t[t.Zr=61]="Equals",t[t.Ir=62]="GreaterThan",t[t.Tr=63]="Question",t[t.fe=48]="Zero",t[t.we=49]="One",t[t.pe=50]="Two",t[t.de=51]="Three",t[t.be=52]="Four",t[t.me=53]="Five",t[t.Pe=54]="Six",t[t.ge=55]="Seven",t[t.Le=56]="Eight",t[t.Ae=57]="Nine",t[t.Ue=65]="UpperA",t[t.Te=66]="UpperB",t[t.ye=67]="UpperC",t[t.Ee=68]="UpperD",t[t.ke=69]="UpperE",t[t.ve=70]="UpperF",t[t.Re=71]="UpperG",t[t.Se=72]="UpperH",t[t.Be=73]="UpperI",t[t.Oe=74]="UpperJ",t[t.qe=75]="UpperK",t[t.Ie=76]="UpperL",t[t.Ne=77]="UpperM",t[t.Fe=78]="UpperN",t[t.Ke=79]="UpperO",t[t.Me=80]="UpperP",t[t.De=81]="UpperQ",t[t.Qe=82]="UpperR",t[t.$e=83]="UpperS",t[t.Ce=84]="UpperT",t[t.Ge=85]="UpperU",t[t.He=86]="UpperV",t[t.Ve=87]="UpperW",t[t.Ze=88]="UpperX",t[t.Je=89]="UpperY",t[t.We=90]="UpperZ",t[t.Xe=97]="LowerA",t[t.Ye=98]="LowerB",t[t._e=99]="LowerC",t[t.xe=100]="LowerD",t[t.ze=101]="LowerE",t[t.je=102]="LowerF",t[t.ts=103]="LowerG",t[t.rs=104]="LowerH",t[t.es=105]="LowerI",t[t.ss=106]="LowerJ",t[t.ns=107]="LowerK",t[t.os=108]="LowerL",t[t.cs=109]="LowerM",t[t.ls=110]="LowerN",t[t.us=111]="LowerO",t[t.hs=112]="LowerP",t[t.as=113]="LowerQ",t[t.fs=114]="LowerR",t[t.ws=115]="LowerS",t[t.ps=116]="LowerT",t[t.ds=117]="LowerU",t[t.bs=118]="LowerV",t[t.ms=119]="LowerW",t[t.Ps=120]="LowerX",t[t.gs=121]="LowerY",t[t.Ls=122]="LowerZ"})(P||(P={})),kernel.Profiler.Pt("ExpressionParser");const B=runtime.PrimitiveLiteral.As,O=runtime.PrimitiveLiteral.Us,q=runtime.PrimitiveLiteral.Ts,I=runtime.PrimitiveLiteral.ys,N=runtime.AccessThis.Es,F=runtime.AccessThis.ks,$state=new class{get A(){return this.input.slice(this.U,this.index)}constructor(t){this.index=0,this.U=0,this.lastIndex=0,this.input=t,this.length=t.length,this.p=1572864,this.P="",this.h=t.charCodeAt(0),this.m=1}}("");(function(t){t[t.vs=100]="InvalidExpressionStart",t[t.Rs=101]="UnconsumedToken",t[t.Ss=102]="DoubleDot",t[t.Bs=103]="InvalidMemberExpression",t[t.Os=104]="UnexpectedEndOfExpression",t[t.qs=105]="ExpectedIdentifier",t[t.Is=106]="InvalidForDeclaration",t[t.Ns=107]="InvalidObjectLiteralPropertyDefinition",t[t.Fs=108]="UnterminatedQuote",t[t.Ks=109]="UnterminatedTemplate",t[t.Ms=110]="MissingExpectedToken",t[t.Ds=111]="UnexpectedCharacter",t[t.Qs=112]="MissingValueConverter",t[t.$s=113]="MissingBindingBehavior"})(g||(g={})),(function(t){t[t.Cs=150]="NotAssignable",t[t.Gs=151]="UnexpectedForOf"})(L||(L={}));const K=[B,O,q,I,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],M=Object.create(null);M.true=2049,M.null=2050,M.false=2048,M.undefined=2051,M.Es=3076,M.ks=3077,M.Hs=1640798,M.Vs=1640799,M.Zs=34850,M.Js=34851,M.of=1051179;const D=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Q=[48,58],$=t=>{throw kernel.Reporter.error(111,{state:t})};$.Ws=1,f(null,new Set,[36,0,48,58,65,91,95,0,97,123],1);const C=new Uint8Array(65535);f(C,null,D,1),f(C,null,Q,1);const G=Array(65535);G.fill($,0,65535),f(G,null,[0,33,127,161],t=>(o(t),null)),f(G,null,D,function(t){for(;C[o(t)];);const r=M[t.P=t.A];return void 0===r?1024:r}),f(G,null,Q,t=>c(t,0)),G[34]=G[39]=(t=>(function(t){const r=t.h;o(t);let s=0;const n=[];let i=t.index;for(;t.h!==r;)if(92===t.h)n.push(t.input.slice(i,t.index)),o(t),s=e(t.h),o(t),n.push(String.fromCharCode(s)),i=t.index;else{if(t.index>=t.length)throw kernel.Reporter.error(108,{state:t});o(t)}const c=t.input.slice(i,t.index);o(t),n.push(c);const l=n.join("");return t.P=l,4096})(t)),G[96]=(t=>l(t)),G[33]=(t=>61!==o(t)?32808:61!==o(t)?1638679:(o(t),1638681)),G[61]=(t=>61!==o(t)?1048615:61!==o(t)?1638678:(o(t),1638680)),G[38]=(t=>38!==o(t)?1572880:(o(t),1638613)),G[124]=(t=>124!==o(t)?1572883:(o(t),1638548)),G[46]=(t=>o(t)>57||48>t.h?16392:c(t,1)),G[60]=(t=>61!==o(t)?1638746:(o(t),1638748)),G[62]=(t=>61!==o(t)?1638747:(o(t),1638749)),G[37]=w(1638885),G[40]=w(671750),G[41]=w(1835018),G[42]=w(1638884),G[43]=w(623008),G[44]=w(1572875),G[45]=w(623009),G[47]=w(1638886),G[58]=w(1572878),G[63]=w(1572879),G[91]=w(671756),G[93]=w(1835021),G[123]=w(131079),G[125]=w(1835017);const IExpressionParserRegistration={register(t){t.Xs(runtime.IExpressionParser,t=>(t.Ys=parseExpression,t))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:t=>runtime.BasicConfiguration.register(t).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),_s(){return this.register(kernel.DI._s())}};class BindableInfo{constructor(t,mode){this.o=t,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.xs=0}}(SymbolFlags=t.SymbolFlags||(t.SymbolFlags={}))[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.zs=2]="isReplacePart",SymbolFlags[SymbolFlags.js=4]="isCustomAttribute",SymbolFlags[SymbolFlags.tn=8]="isPlainAttribute",SymbolFlags[SymbolFlags.rn=16]="isCustomElement",SymbolFlags[SymbolFlags.en=32]="isLetElement",SymbolFlags[SymbolFlags.sn=64]="isPlainElement",SymbolFlags[SymbolFlags.nn=128]="isText",SymbolFlags[SymbolFlags.in=256]="isBinding",SymbolFlags[SymbolFlags.on=512]="hasMarker",SymbolFlags[SymbolFlags.cn=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.ln=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.un=16384]="hasParts",t.AttrSyntax=AttrSyntax,t.IAttributeParser=IAttributeParser,t.AtPrefixedTriggerAttributePattern=AtPrefixedTriggerAttributePattern,t.attributePattern=attributePattern,t.ColonPrefixedBindAttributePattern=ColonPrefixedBindAttributePattern,t.DotSeparatedAttributePattern=DotSeparatedAttributePattern,t.IAttributePattern=IAttributePattern,t.Interpretation=Interpretation,t.ISyntaxInterpreter=ISyntaxInterpreter,t.RefAttributePattern=RefAttributePattern,t.bindingCommand=function(t){return r=>BindingCommandResource.At(t,r)},t.BindingCommandResource=BindingCommandResource,t.CallBindingCommand=CallBindingCommand,t.DefaultBindingCommand=DefaultBindingCommand,t.ForBindingCommand=ForBindingCommand,t.FromViewBindingCommand=FromViewBindingCommand,t.getMode=getMode,t.getTarget=getTarget,t.OneTimeBindingCommand=OneTimeBindingCommand,t.ToViewBindingCommand=ToViewBindingCommand,t.TwoWayBindingCommand=TwoWayBindingCommand,t.IExpressionParserRegistration=IExpressionParserRegistration,t.DefaultComponents=DefaultComponents,t.RefAttributePatternRegistration=RefAttributePatternRegistration,t.DotSeparatedAttributePatternRegistration=DotSeparatedAttributePatternRegistration,t.DefaultBindingSyntax=DefaultBindingSyntax,t.AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePatternRegistration,t.ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePatternRegistration,t.ShortHandBindingSyntax=ShortHandBindingSyntax,t.CallBindingCommandRegistration=CallBindingCommandRegistration,t.DefaultBindingCommandRegistration=DefaultBindingCommandRegistration,t.ForBindingCommandRegistration=ForBindingCommandRegistration,t.FromViewBindingCommandRegistration=FromViewBindingCommandRegistration,t.OneTimeBindingCommandRegistration=OneTimeBindingCommandRegistration,t.ToViewBindingCommandRegistration=ToViewBindingCommandRegistration,t.TwoWayBindingCommandRegistration=TwoWayBindingCommandRegistration,t.DefaultBindingLanguage=DefaultBindingLanguage,t.BasicConfiguration=BasicConfiguration,t.parseExpression=parseExpression,t.ResourceModel=class{constructor(t){this.hn=t,this.an={},this.fn={},this.wn={}}pn(name){let t=this.an[name];if(void 0===t){const def=this.hn.find(runtime.CustomElementResource,name);t=null===def?null:(function(def){const t=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=runtime.BindingMode.yt;let bindable,r,e,mode;for(r in bindables)void 0!==(bindable=bindables[r]).dn&&(r=bindable.dn),e=void 0!==bindable.bn?bindable.bn:kernel.PLATFORM.mn(r),t.bindables[e]=new BindableInfo(r,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode);return t})(def),this.an[name]=t}return t}Pn(t){const name=kernel.PLATFORM.l(t.target);let r=this.fn[name];if(void 0===r){const def=this.hn.find(runtime.CustomAttributeResource,name);r=null===def?null:(function(def){const t=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==runtime.BindingMode.default?def.defaultBindingMode:runtime.BindingMode.yt;let bindable,r,mode,e=0;for(r in bindables)++e,void 0!==(bindable=bindables[r]).dn&&(r=bindable.dn),t.bindables[r]=new BindableInfo(r,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode),null===t.bindable&&(t.bindable=t.bindables[r]);return null===t.bindable&&(t.bindable=new BindableInfo("value",defaultBindingMode)),(def.xs||e>1)&&(t.xs=1),t})(def),this.fn[name]=r}return r}gn(t){const name=t.command;if(null===name)return null;let r=this.wn[name];if(void 0===r){if(null===(r=this.hn.create(BindingCommandResource,name)))throw kernel.Reporter.error(0);this.wn[name]=r}return r}},t.BindableInfo=BindableInfo,t.ElementInfo=ElementInfo,t.AttrInfo=AttrInfo,t.BindingSymbol=class{constructor(t,bindable,r,e,s){this.flags=256,this.command=t,this.bindable=bindable,this.Tt=r,this.R=e,this.target=s}},t.CustomAttributeSymbol=class{get Ln(){return null===this.An&&(this.An=[],this.flags|=4096),this.An}constructor(t,r){this.flags=4,this.res=r.name,this.u=t,this.An=null}},t.CustomElementSymbol=class{get attributes(){return null===this.Un&&(this.Un=[],this.flags|=2048),this.Un}get Ln(){return null===this.An&&(this.An=[],this.flags|=4096),this.An}get childNodes(){return null===this.Tn&&(this.Tn=[],this.flags|=8192),this.Tn}get parts(){return null===this.yn&&(this.yn=[],this.flags|=16384),this.yn}constructor(dom,t,r){this.flags=16,this.res=r.name,this.En=t,this.bindables=r.bindables,this.kn=1,this.templateController=null,r.containerless?(this.vn=1,this.marker=p(dom),this.flags|=512):(this.vn=0,this.marker=null),this.Un=null,this.An=null,this.Tn=null,this.yn=null}},t.LetElementSymbol=class{get Ln(){return null===this.An&&(this.An=[],this.flags|=4096),this.An}constructor(dom,t){this.flags=544,this.En=t,this.toViewModel=0,this.marker=p(dom),this.An=null}},t.PlainAttributeSymbol=class{constructor(t,r,e){this.flags=8,this.u=t,this.command=r,this.Tt=e}},t.PlainElementSymbol=class{get attributes(){return null===this.Un&&(this.Un=[],this.flags|=2048),this.Un}get childNodes(){return null===this.Tn&&(this.Tn=[],this.flags|=8192),this.Tn}constructor(t){this.flags=64,this.En=t,this.kn=0,this.templateController=null,this.Un=null,this.Tn=null}},t.ReplacePartSymbol=class{constructor(name){this.flags=2,this.name=name,this.En=null,this.parent=null,this.template=null}},t.TemplateControllerSymbol=class{get Ln(){return null===this.An&&(this.An=[],this.flags|=4096),this.An}constructor(dom,t,r,e){this.flags=513,this.res=r.name,this.Rn=e,this.En=null,this.u=t,this.template=null,this.templateController=null,this.marker=p(dom),this.An=null}},t.TextSymbol=class{constructor(dom,t,r){this.flags=640,this.En=t,this.Sn=r,this.marker=p(dom)}},Object.defineProperty(t,"Bn",{value:1})});
