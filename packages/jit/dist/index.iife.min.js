this.au=this.au||{},this.au.jit=(function(t,kernel,runtime){"use strict";function attributePattern(...t){return function(r){const s=r.prototype;return(function(t,r){for(const def of r)def.pattern in t?"function"!=typeof t[def.pattern]&&kernel.Reporter.write(402,def):kernel.Reporter.write(401,def)})(s,t),s.t=t,r.register=function(t){return kernel.Registration.singleton(IAttributePattern,r).register(t,IAttributePattern)},r}}function r(t){const r=BindingCommandResource.s(this.description.name);t.register(kernel.Registration.singleton(r,this))}function getTarget(t,r){return 256&t.flags?t.bindable.i:r?kernel.PLATFORM.o(t.l.target):t.l.target}function getMode(t){return 256&t.flags?t.bindable.mode:S[t.l.command]}function s(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}function parseExpression(t,r){return $state.input=t,$state.length=t.length,$state.index=0,$state.h=t.charCodeAt(0),n($state,0,61,void 0===r?53:r)}function n(t,r,c,l){if(0===t.index){if(2048&l)return(function(t){const parts=[],r=[],i=t.length;let c="";for(;i>t.index;){switch(t.h){case 36:if(123===t.input.charCodeAt(t.index+1)){parts.push(c),c="",t.index+=2,t.h=t.input.charCodeAt(t.index),e(t);const s=n(t,0,61,2048);r.push(s);continue}c+="$";break;case 92:c+=String.fromCharCode(s(o(t)));break;default:c+=String.fromCharCode(t.h)}o(t)}return r.length?(parts.push(c),new runtime.Interpolation(parts,r)):null})(t);if(e(t),1048576&t.u)throw kernel.Reporter.error(100,{state:t})}t.p=448>c;let h=void 0;if(32768&t.u){const s=K[63&t.u];e(t),h=new runtime.Unary(s,n(t,r,449,l)),t.p=0}else{t:switch(t.u){case 3077:t.p=0;do{if(e(t),r++,!u(t,16392)){if(524288&t.u){const t=511&r;h=0===t?N:1===t?F:new runtime.AccessThis(t),r=512;break t}throw kernel.Reporter.error(103,{state:t})}if(16392===t.u)throw kernel.Reporter.error(102,{state:t});if(1572864===t.u)throw kernel.Reporter.error(105,{state:t})}while(3077===t.u);case 1024:512&l?h=new runtime.BindingIdentifier(t.m):(h=new runtime.AccessScope(t.m,511&r),r=1024),t.p=1,e(t);break;case 3076:t.p=0,e(t),h=N,r=512;break;case 671750:e(t),h=n(t,0,62,l),a(t,1835018),r=0;break;case 671756:h=(function(t,r,s){e(t);const i=[];for(;1835021!==t.u;)if(u(t,1572875)){if(i.push(q),1835021===t.u){i.push(q);break}}else{if(i.push(n(t,r,62,-513&s)),!u(t,1572875))break;if(1835021===t.u){i.push(q);break}}return a(t,1835021),512&s?new runtime.ArrayBindingPattern(i):(t.p=0,new runtime.ArrayLiteral(i))})(t,r,l),r=0;break;case 131079:h=(function(t,r){const s=[],i=[];for(e(t);1835017!==t.u;){if(s.push(t.m),12288&t.u)e(t),a(t,1572878),i.push(n(t,0,62,-513&r));else{if(!(3072&t.u))throw kernel.Reporter.error(107,{state:t});{const{h:s,u:o,index:c}=t;e(t),u(t,1572878)?i.push(n(t,0,62,-513&r)):(t.h=s,t.u=o,t.index=c,i.push(n(t,0,450,-513&r)))}}1835017!==t.u&&a(t,1572875)}return a(t,1835017),512&r?new runtime.ObjectBindingPattern(s,i):(t.p=0,new runtime.ObjectLiteral(s,i))})(t,l),r=0;break;case 540713:h=new runtime.Template([t.m]),t.p=0,e(t),r=0;break;case 540714:h=i(t,r,l,h,0),r=0;break;case 4096:case 8192:h=new runtime.PrimitiveLiteral(t.m),t.p=0,e(t),r=0;break;case 2050:case 2051:case 2049:case 2048:h=K[63&t.u],t.p=0,e(t),r=0;break;default:throw kernel.Reporter.error(t.length>t.index?101:104,{state:t})}if(512&l)return(function(t,r){if(0==(65536&r.P))throw kernel.Reporter.error(106,{state:t});if(1051179!==t.u)throw kernel.Reporter.error(106,{state:t});e(t);const s=r,i=n(t,0,61,0);return new runtime.ForOfStatement(s,i)})(t,h);if(c>449)return h;let name=t.m;for(;(16384&t.u)>0;)switch(t.u){case 16392:if(t.p=1,e(t),0==(3072&t.u))throw kernel.Reporter.error(105,{state:t});if(name=t.m,e(t),r=(1536&r)<<1|2048&r|(4096&r)>>1,671750===t.u){0===r&&(r=2048);continue}h=1024&r?new runtime.AccessScope(name,h.g):new runtime.AccessMember(h,name);continue;case 671756:t.p=1,e(t),r=4096,h=new runtime.AccessKeyed(h,n(t,0,62,l)),a(t,1835021);break;case 671750:t.p=0,e(t);const s=[];for(;1835018!==t.u&&(s.push(n(t,0,62,l)),u(t,1572875)););a(t,1835018),h=1024&r?new runtime.CallScope(name,s,h.g):2048&r?new runtime.CallMember(h,name,s):new runtime.CallFunction(h,s),r=0;break;case 540713:t.p=0;const o=[t.m];h=new runtime.TaggedTemplate(o,o,h),e(t);break;case 540714:h=i(t,r,l,h,1)}}if(c>448)return h;for(;(65536&t.u)>0;){const s=t.u;if(c>=(448&s))break;e(t),h=new runtime.Binary(K[63&s],h,n(t,r,448&s,l)),t.p=0}if(c>63)return h;if(u(t,1572879)){const s=n(t,r,62,l);a(t,1572878),h=new runtime.Conditional(h,s,n(t,r,62,l)),t.p=0}if(c>62)return h;if(u(t,1048615)){if(!t.p)throw kernel.Reporter.error(150,{state:t});h=new runtime.Assign(h,n(t,r,62,l))}if(c>61)return h;for(;u(t,1572883);){if(1572864===t.u)throw kernel.Reporter.error(112);const name=t.m;e(t);const s=[];for(;u(t,1572878);)s.push(n(t,r,62,l));h=new runtime.ValueConverter(h,name,s)}for(;u(t,1572880);){if(1572864===t.u)throw kernel.Reporter.error(113);const name=t.m;e(t);const s=[];for(;u(t,1572878);)s.push(n(t,r,62,l));h=new runtime.BindingBehavior(h,name,s)}if(1572864!==t.u){if(2048&l)return h;if("of"===t.L)throw kernel.Reporter.error(151,{state:t});throw kernel.Reporter.error(101,{state:t})}return h}function i(t,r,s,i,o){const c=[t.m];a(t,540714);const l=[n(t,r,62,s)];for(;540713!==(t.u=h(t));)c.push(t.m),a(t,540714),l.push(n(t,r,62,s));return c.push(t.m),t.p=0,o?(e(t),new runtime.TaggedTemplate(c,c,i,l)):(e(t),new runtime.Template(c,l))}function e(t){for(;t.length>t.index;)if(t.A=t.index,null!==(t.u=G[t.h](t)))return;t.u=1572864}function o(t){return t.h=t.input.charCodeAt(++t.index)}function c(t,r){let s=t.h;if(0==r){do{s=o(t)}while(57>=s&&s>=48);if(46!==s)return t.m=parseInt(t.L,10),8192;if(s=o(t),t.index>=t.length)return t.m=parseInt(t.L.slice(0,-1),10),8192}if(s>57||48>s)t.h=t.input.charCodeAt(--t.index);else do{s=o(t)}while(57>=s&&s>=48);return t.m=parseFloat(t.L),8192}function l(t){let r=1,n="";for(;96!==o(t);)if(36===t.h){if(t.length>t.index+1&&123===t.input.charCodeAt(t.index+1)){t.index++,r=0;break}n+="$"}else if(92===t.h)n+=String.fromCharCode(s(o(t)));else{if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});n+=String.fromCharCode(t.h)}return o(t),t.m=n,r?540713:540714}function h(t){if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});return t.index--,l(t)}function u(t,r){return t.u===r?(e(t),1):0}function a(t,r){if(t.u!==r)throw kernel.Reporter.error(110,{state:t,U:r});e(t)}function f(t,r,s,value){const n=s.length;for(let i=0;n>i;i+=2){const n=s[i];let e=s[i+1];if(e=e>0?e:n+1,t&&t.fill(value,n,e),r)for(let t=n;e>t;t++)r.add(t)}}function w(t){return r=>(o(r),t)}function p(dom){const t=dom.createElement("au-m");return dom.T(t),t}var d,b,m,P,g,L,SymbolFlags;class AttrSyntax{constructor(t,r,s,n){this.k=t,this.v=r,this.target=s,this.command=n}}class A{constructor(t,r,s,n){if(this.R=t,this.repeat=r,this.S=s,this.B=n,n)switch(t.length){case 0:this.has=this.O;break;case 1:this.has=this.I;break;default:this.has=this.q}else switch(t.length){case 0:this.has=this.N;break;case 1:this.has=this.F;break;default:this.has=this.K}}M(t){return this.R===t.R&&this.repeat===t.repeat&&this.S===t.S&&this.B===t.B}K(t){return-1!==this.R.indexOf(t)}F(t){return this.R===t}N(t){return 0}q(t){return-1===this.R.indexOf(t)}I(t){return this.R!==t}O(t){return 1}}class Interpretation{get pattern(){const value=this.D;return""===value?null:value}set pattern(value){null===value?(this.D="",this.parts=kernel.PLATFORM.$):(this.D=value,this.parts=this.C[value])}constructor(){this.D="",this.parts=kernel.PLATFORM.$,this.G={},this.C={}}append(t,r){const{G:s}=this;void 0===s[t]?s[t]=r:s[t]+=r}next(t){const{G:r}=this;if(void 0!==r[t]){const{C:s}=this;void 0===s[t]?s[t]=[r[t]]:s[t].push(r[t]),r[t]=void 0}}}class State{get pattern(){return this.H?this.V[0]:null}constructor(t,...r){this.Z=t,this.J=[],this.types=null,this.V=r,this.H=0}W(t){const r=this.J,s=r.length;let n=null;for(let i=0;s>i;++i)if(t.M((n=r[i]).Z))return n;return null}append(t,r){const{V:s}=this;-1===s.indexOf(r)&&s.push(r);let n=this.W(t);return null===n&&(n=new State(t,r),this.J.push(n),t.repeat&&n.J.push(n)),n}X(t,r){const s=[],n=this.J,i=n.length;let e=0,o=null,c=0,l=0;for(;i>c;++c)if((o=n[c]).Z.has(t))if(s.push(o),e=o.V.length,l=0,o.Z.S)for(;e>l;++l)r.next(o.V[l]);else for(;e>l;++l)r.append(o.V[l],t);return s}}class U{constructor(t){this.text=t;const r=this.Y=t.length,s=this._=[];for(let n=0;r>n;++n)s.push(new A(t[n],0,0,0))}j(t){const{Y:r,_:s}=this;for(let n=0;r>n;++n)t(s[n])}}class T{constructor(t){this.text="PART",this.tt=new A(t,1,0,1)}j(t){t(this.tt)}}class E{constructor(t){this.text=t,this.tt=new A(t,0,1,0)}j(t){t(this.tt)}}class y{constructor(){this.rt=0,this.st=0,this.symbols=0}}const ISyntaxInterpreter=kernel.DI.it("ISyntaxInterpreter").nt(t=>t.singleton(k));class k{constructor(){this.et=new State(null),this.ot=[this.et]}add(t){let r=0;if(Array.isArray(t)){const s=t.length;for(;s>r;++r)this.add(t[r]);return}let s=this.et;const def=t,n=def.pattern,i=new y,e=this.parse(def,i),o=e.length,c=t=>{s=s.append(t,n)};for(r=0;o>r;++r)e[r].j(c);s.types=i,s.H=1}ct(name){const t=new Interpretation;let r=this.ot;const s=name.length;for(let n=0;s>n&&0!==(r=this.lt(r,name.charAt(n),t)).length;++n);if(r.sort((t,r)=>{if(!t.H)return r.H?1:0;if(!r.H)return-1;const s=t.types,n=r.types;return s.rt!==n.rt?n.rt-s.rt:s.st!==n.st?n.st-s.st:s.symbols!==n.symbols?n.symbols-s.symbols:0}),r.length>0){const s=r[0];s.Z.S||t.next(s.pattern),t.pattern=s.pattern}return t}lt(t,r,s){const n=[];let i=null;const e=t.length;for(let o=0;e>o;++o)n.push(...(i=t[o]).X(r,s));return n}parse(def,t){const r=[],s=def.pattern,n=s.length;let i=0,e=0,o="";for(;n>i;)o=s.charAt(i),-1===def.symbols.indexOf(o)?i===e&&"P"===o&&"PART"===s.slice(i,i+4)?(e=i+=4,r.push(new T(def.symbols)),++t.st):++i:i!==e?(r.push(new U(s.slice(e,i))),++t.rt,e=i):(r.push(new E(s.slice(e,i+1))),++t.symbols,e=++i);return e!==i&&(r.push(new U(s.slice(e,i))),++t.rt),r}}const IAttributePattern=kernel.DI.it("IAttributePattern").ht();class DotSeparatedAttributePattern{ut(t,r,parts){return new AttrSyntax(t,r,parts[0],parts[1])}at(t,r,parts){return new AttrSyntax(t,r,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{ft(t,r,parts){return new AttrSyntax(t,r,"ref",null)}wt(t,r,parts){return new AttrSyntax(t,r,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{pt(t,r,parts){return new AttrSyntax(t,r,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{dt(t,r,parts){return new AttrSyntax(t,r,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=kernel.DI.it("IAttributeParser").nt(t=>t.singleton(v));kernel.Profiler.bt("AttributeParser");class v{constructor(t,r){this.Pt=t,this.cache={};const s=this.V={};r.forEach(r=>{const n=r.t;t.add(n),n.forEach(def=>{s[def.pattern]=r})})}parse(name,value){let t=this.cache[name];void 0===t&&(t=this.cache[name]=this.Pt.ct(name));const r=t.pattern;return null===r?new AttrSyntax(name,value,name,null):this.V[r][r](name,value,t.parts)}}v.inject=[ISyntaxInterpreter,kernel.all(IAttributePattern)];const BindingCommandResource={name:"binding-command",s(name){return`${this.name}:${name}`},gt(t){return t.kind===this},Lt(t,s){const n=s,i="string"==typeof t?{name:t,target:null}:t;return n.kind=BindingCommandResource,n.description=i,n.register=r,n}};class OneTimeBindingCommand{constructor(){this.At=49}compile(t){return new runtime.OneTimeBindingInstruction(t.Ut,getTarget(t,0))}}BindingCommandResource.Lt("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.At=50}compile(t){return new runtime.ToViewBindingInstruction(t.Ut,getTarget(t,0))}}BindingCommandResource.Lt("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.At=51}compile(t){return new runtime.FromViewBindingInstruction(t.Ut,getTarget(t,0))}}BindingCommandResource.Lt("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.At=52}compile(t){return new runtime.TwoWayBindingInstruction(t.Ut,getTarget(t,0))}}BindingCommandResource.Lt("two-way",TwoWayBindingCommand);const R=["","$1","$2","","$4","","$6"],S={bind:runtime.BindingMode.Tt,Et:runtime.BindingMode.oneTime,yt:runtime.BindingMode.Tt,kt:runtime.BindingMode.vt,Rt:runtime.BindingMode.St};class DefaultBindingCommand{constructor(){this.At=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(t){return this[R[getMode(t)]](t)}}BindingCommandResource.Lt("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.At=153}compile(t){return new runtime.CallBindingInstruction(t.Ut,getTarget(t,1))}}BindingCommandResource.Lt("call",CallBindingCommand);class ForBindingCommand{constructor(){this.At=539}compile(t){return new runtime.IteratorBindingInstruction(t.Ut,getTarget(t,0))}}BindingCommandResource.Lt("for",ForBindingCommand),(function(t){t[t.Bt=0]="Reset",t[t.Ot=511]="Ancestor",t[t.It=512]="This",t[t.Scope=1024]="Scope",t[t.qt=2048]="Member",t[t.Nt=4096]="Keyed"})(d||(d={})),(function(t){t[t.Ft=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.Kt=64]="LogicalOR",t[t.Mt=128]="LogicalAND",t[t.Dt=192]="Equality",t[t.Qt=256]="Relational",t[t.$t=320]="Additive",t[t.Ct=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.Gt=449]="LeftHandSide",t[t.Ht=450]="Primary",t[t.Unary=451]="Unary"})(b||(b={})),(function(t){t[t.Vt=1572864]="EOF",t[t.Zt=1048576]="ExpressionTerminal",t[t.Jt=524288]="AccessScopeTerminal",t[t.Wt=262144]="ClosingToken",t[t.Xt=131072]="OpeningToken",t[t.Yt=65536]="BinaryOp",t[t.zt=32768]="UnaryOp",t[t.Gt=16384]="LeftHandSide",t[t._t=12288]="StringOrNumericLiteral",t[t.xt=8192]="NumericLiteral",t[t.jt=4096]="StringLiteral",t[t.tr=3072]="IdentifierName",t[t.rr=2048]="Keyword",t[t.sr=1024]="Identifier",t[t.nr=512]="Contextual",t[t.ir=448]="Precedence",t[t.er=63]="Type",t[t.or=2048]="FalseKeyword",t[t.cr=2049]="TrueKeyword",t[t.lr=2050]="NullKeyword",t[t.hr=2051]="UndefinedKeyword",t[t.ur=3076]="ThisScope",t[t.ar=3077]="ParentScope",t[t.wr=671750]="OpenParen",t[t.pr=131079]="OpenBrace",t[t.dr=16392]="Dot",t[t.br=1835017]="CloseBrace",t[t.mr=1835018]="CloseParen",t[t.Pr=1572875]="Comma",t[t.gr=671756]="OpenBracket",t[t.Lr=1835021]="CloseBracket",t[t.Ar=1572878]="Colon",t[t.Ur=1572879]="Question",t[t.Tr=1572880]="Ampersand",t[t.Er=1572883]="Bar",t[t.yr=1638548]="BarBar",t[t.kr=1638613]="AmpersandAmpersand",t[t.vr=1638678]="EqualsEquals",t[t.Rr=1638679]="ExclamationEquals",t[t.Sr=1638680]="EqualsEqualsEquals",t[t.Br=1638681]="ExclamationEqualsEquals",t[t.Or=1638746]="LessThan",t[t.Ir=1638747]="GreaterThan",t[t.qr=1638748]="LessThanEquals",t[t.Nr=1638749]="GreaterThanEquals",t[t.Fr=1640798]="InKeyword",t[t.Kr=1640799]="InstanceOfKeyword",t[t.Mr=623008]="Plus",t[t.Dr=623009]="Minus",t[t.Qr=34850]="TypeofKeyword",t[t.$r=34851]="VoidKeyword",t[t.Cr=1638884]="Asterisk",t[t.Gr=1638885]="Percent",t[t.Hr=1638886]="Slash",t[t.Vr=1048615]="Equals",t[t.Zr=32808]="Exclamation",t[t.Jr=540713]="TemplateTail",t[t.Wr=540714]="TemplateContinuation",t[t.Xr=1051179]="OfKeyword"})(m||(m={})),(function(t){t[t.Yr=0]="Null",t[t.zr=8]="Backspace",t[t._r=9]="Tab",t[t.xr=10]="LineFeed",t[t.jr=11]="VerticalTab",t[t.ts=12]="FormFeed",t[t.rs=13]="CarriageReturn",t[t.ss=32]="Space",t[t.Zr=33]="Exclamation",t[t.ns=34]="DoubleQuote",t[t.es=36]="Dollar",t[t.Gr=37]="Percent",t[t.Tr=38]="Ampersand",t[t.os=39]="SingleQuote",t[t.wr=40]="OpenParen",t[t.mr=41]="CloseParen",t[t.Cr=42]="Asterisk",t[t.Mr=43]="Plus",t[t.Pr=44]="Comma",t[t.Dr=45]="Minus",t[t.dr=46]="Dot",t[t.Hr=47]="Slash",t[t.cs=59]="Semicolon",t[t.ls=96]="Backtick",t[t.gr=91]="OpenBracket",t[t.hs=92]="Backslash",t[t.Lr=93]="CloseBracket",t[t.us=94]="Caret",t[t.as=95]="Underscore",t[t.pr=123]="OpenBrace",t[t.Er=124]="Bar",t[t.br=125]="CloseBrace",t[t.Ar=58]="Colon",t[t.Or=60]="LessThan",t[t.Vr=61]="Equals",t[t.Ir=62]="GreaterThan",t[t.Ur=63]="Question",t[t.fs=48]="Zero",t[t.ws=49]="One",t[t.ps=50]="Two",t[t.ds=51]="Three",t[t.bs=52]="Four",t[t.ms=53]="Five",t[t.Ps=54]="Six",t[t.gs=55]="Seven",t[t.Ls=56]="Eight",t[t.As=57]="Nine",t[t.Us=65]="UpperA",t[t.Ts=66]="UpperB",t[t.Es=67]="UpperC",t[t.ys=68]="UpperD",t[t.ks=69]="UpperE",t[t.vs=70]="UpperF",t[t.Rs=71]="UpperG",t[t.Ss=72]="UpperH",t[t.Bs=73]="UpperI",t[t.Os=74]="UpperJ",t[t.Is=75]="UpperK",t[t.qs=76]="UpperL",t[t.Ns=77]="UpperM",t[t.Fs=78]="UpperN",t[t.Ks=79]="UpperO",t[t.Ms=80]="UpperP",t[t.Ds=81]="UpperQ",t[t.Qs=82]="UpperR",t[t.$s=83]="UpperS",t[t.Cs=84]="UpperT",t[t.Gs=85]="UpperU",t[t.Hs=86]="UpperV",t[t.Vs=87]="UpperW",t[t.Zs=88]="UpperX",t[t.Js=89]="UpperY",t[t.Ws=90]="UpperZ",t[t.Xs=97]="LowerA",t[t.Ys=98]="LowerB",t[t.zs=99]="LowerC",t[t._s=100]="LowerD",t[t.xs=101]="LowerE",t[t.js=102]="LowerF",t[t.tn=103]="LowerG",t[t.rn=104]="LowerH",t[t.sn=105]="LowerI",t[t.nn=106]="LowerJ",t[t.in=107]="LowerK",t[t.en=108]="LowerL",t[t.on=109]="LowerM",t[t.cn=110]="LowerN",t[t.ln=111]="LowerO",t[t.hn=112]="LowerP",t[t.un=113]="LowerQ",t[t.an=114]="LowerR",t[t.fn=115]="LowerS",t[t.wn=116]="LowerT",t[t.pn=117]="LowerU",t[t.dn=118]="LowerV",t[t.bn=119]="LowerW",t[t.mn=120]="LowerX",t[t.Pn=121]="LowerY",t[t.gn=122]="LowerZ"})(P||(P={})),kernel.Profiler.bt("ExpressionParser");const B=runtime.PrimitiveLiteral.Ln,O=runtime.PrimitiveLiteral.An,I=runtime.PrimitiveLiteral.Un,q=runtime.PrimitiveLiteral.Tn,N=runtime.AccessThis.En,F=runtime.AccessThis.yn,$state=new class{get L(){return this.input.slice(this.A,this.index)}constructor(t){this.index=0,this.A=0,this.lastIndex=0,this.input=t,this.length=t.length,this.u=1572864,this.m="",this.h=t.charCodeAt(0),this.p=1}}("");(function(t){t[t.kn=100]="InvalidExpressionStart",t[t.vn=101]="UnconsumedToken",t[t.Rn=102]="DoubleDot",t[t.Sn=103]="InvalidMemberExpression",t[t.Bn=104]="UnexpectedEndOfExpression",t[t.On=105]="ExpectedIdentifier",t[t.In=106]="InvalidForDeclaration",t[t.qn=107]="InvalidObjectLiteralPropertyDefinition",t[t.Nn=108]="UnterminatedQuote",t[t.Fn=109]="UnterminatedTemplate",t[t.Kn=110]="MissingExpectedToken",t[t.Mn=111]="UnexpectedCharacter",t[t.Dn=112]="MissingValueConverter",t[t.Qn=113]="MissingBindingBehavior"})(g||(g={})),(function(t){t[t.$n=150]="NotAssignable",t[t.Cn=151]="UnexpectedForOf"})(L||(L={}));const K=[B,O,I,q,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],M=Object.create(null);M.true=2049,M.null=2050,M.false=2048,M.undefined=2051,M.En=3076,M.yn=3077,M.Gn=1640798,M.Hn=1640799,M.Vn=34850,M.Zn=34851,M.of=1051179;const D=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Q=[48,58],$=t=>{throw kernel.Reporter.error(111,{state:t})};$.Jn=1,f(null,new Set,[36,0,48,58,65,91,95,0,97,123],1);const C=new Uint8Array(65535);f(C,null,D,1),f(C,null,Q,1);const G=Array(65535);G.fill($,0,65535),f(G,null,[0,33,127,161],t=>(o(t),null)),f(G,null,D,function(t){for(;C[o(t)];);const r=M[t.m=t.L];return void 0===r?1024:r}),f(G,null,Q,t=>c(t,0)),G[34]=G[39]=(t=>(function(t){const r=t.h;o(t);let n=0;const i=[];let e=t.index;for(;t.h!==r;)if(92===t.h)i.push(t.input.slice(e,t.index)),o(t),n=s(t.h),o(t),i.push(String.fromCharCode(n)),e=t.index;else{if(t.index>=t.length)throw kernel.Reporter.error(108,{state:t});o(t)}const c=t.input.slice(e,t.index);o(t),i.push(c);const l=i.join("");return t.m=l,4096})(t)),G[96]=(t=>l(t)),G[33]=(t=>61!==o(t)?32808:61!==o(t)?1638679:(o(t),1638681)),G[61]=(t=>61!==o(t)?1048615:61!==o(t)?1638678:(o(t),1638680)),G[38]=(t=>38!==o(t)?1572880:(o(t),1638613)),G[124]=(t=>124!==o(t)?1572883:(o(t),1638548)),G[46]=(t=>o(t)>57||48>t.h?16392:c(t,1)),G[60]=(t=>61!==o(t)?1638746:(o(t),1638748)),G[62]=(t=>61!==o(t)?1638747:(o(t),1638749)),G[37]=w(1638885),G[40]=w(671750),G[41]=w(1835018),G[42]=w(1638884),G[43]=w(623008),G[44]=w(1572875),G[45]=w(623009),G[47]=w(1638886),G[58]=w(1572878),G[63]=w(1572879),G[91]=w(671756),G[93]=w(1835021),G[123]=w(131079),G[125]=w(1835017);const IExpressionParserRegistration={register(t){t.Wn(runtime.IExpressionParser,t=>(t.Xn=parseExpression,t))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:t=>runtime.BasicConfiguration.register(t).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),Yn(){return this.register(kernel.DI.Yn())}};class BindableInfo{constructor(t,mode){this.i=t,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.zn=0}}return(SymbolFlags=t.SymbolFlags||(t.SymbolFlags={}))[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags._n=2]="isReplacePart",SymbolFlags[SymbolFlags.xn=4]="isCustomAttribute",SymbolFlags[SymbolFlags.jn=8]="isPlainAttribute",SymbolFlags[SymbolFlags.ti=16]="isCustomElement",SymbolFlags[SymbolFlags.ri=32]="isLetElement",SymbolFlags[SymbolFlags.si=64]="isPlainElement",SymbolFlags[SymbolFlags.ni=128]="isText",SymbolFlags[SymbolFlags.ii=256]="isBinding",SymbolFlags[SymbolFlags.ei=512]="hasMarker",SymbolFlags[SymbolFlags.oi=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.ci=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.li=16384]="hasParts",t.AttrSyntax=AttrSyntax,t.IAttributeParser=IAttributeParser,t.AtPrefixedTriggerAttributePattern=AtPrefixedTriggerAttributePattern,t.attributePattern=attributePattern,t.ColonPrefixedBindAttributePattern=ColonPrefixedBindAttributePattern,t.DotSeparatedAttributePattern=DotSeparatedAttributePattern,t.IAttributePattern=IAttributePattern,t.Interpretation=Interpretation,t.ISyntaxInterpreter=ISyntaxInterpreter,t.RefAttributePattern=RefAttributePattern,t.bindingCommand=function(t){return r=>BindingCommandResource.Lt(t,r)},t.BindingCommandResource=BindingCommandResource,t.CallBindingCommand=CallBindingCommand,t.DefaultBindingCommand=DefaultBindingCommand,t.ForBindingCommand=ForBindingCommand,t.FromViewBindingCommand=FromViewBindingCommand,t.getMode=getMode,t.getTarget=getTarget,t.OneTimeBindingCommand=OneTimeBindingCommand,t.ToViewBindingCommand=ToViewBindingCommand,t.TwoWayBindingCommand=TwoWayBindingCommand,t.IExpressionParserRegistration=IExpressionParserRegistration,t.DefaultComponents=DefaultComponents,t.RefAttributePatternRegistration=RefAttributePatternRegistration,t.DotSeparatedAttributePatternRegistration=DotSeparatedAttributePatternRegistration,t.DefaultBindingSyntax=DefaultBindingSyntax,t.AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePatternRegistration,t.ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePatternRegistration,t.ShortHandBindingSyntax=ShortHandBindingSyntax,t.CallBindingCommandRegistration=CallBindingCommandRegistration,t.DefaultBindingCommandRegistration=DefaultBindingCommandRegistration,t.ForBindingCommandRegistration=ForBindingCommandRegistration,t.FromViewBindingCommandRegistration=FromViewBindingCommandRegistration,t.OneTimeBindingCommandRegistration=OneTimeBindingCommandRegistration,t.ToViewBindingCommandRegistration=ToViewBindingCommandRegistration,t.TwoWayBindingCommandRegistration=TwoWayBindingCommandRegistration,t.DefaultBindingLanguage=DefaultBindingLanguage,t.BasicConfiguration=BasicConfiguration,t.parseExpression=parseExpression,t.ResourceModel=class{constructor(t){this.hi=t,this.ui={},this.ai={},this.fi={}}wi(name){let t=this.ui[name];if(void 0===t){const def=this.hi.find(runtime.CustomElementResource,name);t=null===def?null:(function(def){const t=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=runtime.BindingMode.Tt;let bindable,r,s,mode;for(r in bindables)void 0!==(bindable=bindables[r]).pi&&(r=bindable.pi),s=void 0!==bindable.di?bindable.di:kernel.PLATFORM.bi(r),t.bindables[s]=new BindableInfo(r,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode);return t})(def),this.ui[name]=t}return t}mi(t){const name=kernel.PLATFORM.o(t.target);let r=this.ai[name];if(void 0===r){const def=this.hi.find(runtime.CustomAttributeResource,name);r=null===def?null:(function(def){const t=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==runtime.BindingMode.default?def.defaultBindingMode:runtime.BindingMode.Tt;let bindable,r,mode,s=0;for(r in bindables)++s,void 0!==(bindable=bindables[r]).pi&&(r=bindable.pi),t.bindables[r]=new BindableInfo(r,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode),null===t.bindable&&(t.bindable=t.bindables[r]);return null===t.bindable&&(t.bindable=new BindableInfo("value",defaultBindingMode)),(def.zn||s>1)&&(t.zn=1),t})(def),this.ai[name]=r}return r}Pi(t){const name=t.command;if(null===name)return null;let r=this.fi[name];if(void 0===r){if(null===(r=this.hi.create(BindingCommandResource,name)))throw kernel.Reporter.error(0);this.fi[name]=r}return r}},t.BindableInfo=BindableInfo,t.ElementInfo=ElementInfo,t.AttrInfo=AttrInfo,t.BindingSymbol=class{constructor(t,bindable,r,s,n){this.flags=256,this.command=t,this.bindable=bindable,this.Ut=r,this.v=s,this.target=n}},t.CustomAttributeSymbol=class{get gi(){return null===this.Li&&(this.Li=[],this.flags|=4096),this.Li}constructor(t,r){this.flags=4,this.res=r.name,this.l=t,this.Li=null}},t.CustomElementSymbol=class{get attributes(){return null===this.Ai&&(this.Ai=[],this.flags|=2048),this.Ai}get gi(){return null===this.Li&&(this.Li=[],this.flags|=4096),this.Li}get childNodes(){return null===this.Ui&&(this.Ui=[],this.flags|=8192),this.Ui}get parts(){return null===this.Ti&&(this.Ti=[],this.flags|=16384),this.Ti}constructor(dom,t,r){this.flags=16,this.res=r.name,this.Ei=t,this.bindables=r.bindables,this.yi=1,this.templateController=null,r.containerless?(this.ki=1,this.marker=p(dom),this.flags|=512):(this.ki=0,this.marker=null),this.Ai=null,this.Li=null,this.Ui=null,this.Ti=null}},t.LetElementSymbol=class{get gi(){return null===this.Li&&(this.Li=[],this.flags|=4096),this.Li}constructor(dom,t){this.flags=544,this.Ei=t,this.toViewModel=0,this.marker=p(dom),this.Li=null}},t.PlainAttributeSymbol=class{constructor(t,r,s){this.flags=8,this.l=t,this.command=r,this.Ut=s}},t.PlainElementSymbol=class{get attributes(){return null===this.Ai&&(this.Ai=[],this.flags|=2048),this.Ai}get childNodes(){return null===this.Ui&&(this.Ui=[],this.flags|=8192),this.Ui}constructor(t){this.flags=64,this.Ei=t,this.yi=0,this.templateController=null,this.Ai=null,this.Ui=null}},t.ReplacePartSymbol=class{constructor(name){this.flags=2,this.name=name,this.Ei=null,this.parent=null,this.template=null}},t.TemplateControllerSymbol=class{get gi(){return null===this.Li&&(this.Li=[],this.flags|=4096),this.Li}constructor(dom,t,r,s){this.flags=513,this.res=r.name,this.vi=s,this.Ei=null,this.l=t,this.template=null,this.templateController=null,this.marker=p(dom),this.Li=null}},t.TextSymbol=class{constructor(dom,t,r){this.flags=640,this.Ei=t,this.Ri=r,this.marker=p(dom)}},t})({},kernel,runtime);
