this.au=this.au||{},this.au.runtime=(function(t,kernel){"use strict";function s(t,s,i,h){var n,r,e=arguments.length,o=3>e?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.t)o=Reflect.t(t,s,i,h);else for(r=t.length-1;r>=0;r--)(n=t[r])&&(o=(3>e?n(o):e>3?n(s,i,o):n(s,i))||o);return e>3&&o&&Object.defineProperty(s,i,o),o}function subscriberCollection(s){return function(c){const u=c.prototype;u.s=0,u.i=null,u.h=null,u.o=null,u.u=null,u.l=i,u.p=h,u.m=o,u.v=e,u.g=s===t.MutationKind.C?n:r}}function i(t){if(this.m(t))return 0;const s=this.s;return 1&s?2&s?4&s?8&s?(this.u.push(t),1):(this.u=[t],this.s|=8,1):(this.o=t,this.s|=4,1):(this.h=t,this.s|=2,1):(this.i=t,this.s|=1,1)}function h(t){const s=this.s;if(1&s&&this.i===t)return this.i=null,this.s&=-2,1;if(2&s&&this.h===t)return this.h=null,this.s&=-3,1;if(4&s&&this.o===t)return this.o=null,this.s&=-5,1;if(8&s){const s=this.u;for(let i=0,h=s.length;h>i;++i)if(s[i]===t)return s.splice(i,1),1===h&&(this.s&=-9),1}return 0}function n(t,s,i){const h=this.i,n=this.h,r=this.o;let e=this.u;null!==e&&(e=e.slice()),null!==h&&h.j(t,s,i),null!==n&&n.j(t,s,i),null!==r&&r.j(t,s,i);const o=e&&e.length;if(void 0!==o&&o>0)for(let h=0;o>h;++h){const n=e[h];null!==n&&n.j(t,s,i)}}function r(t,s,i){const h=this.i,n=this.h,r=this.o;let e=this.u;null!==e&&(e=e.slice()),null!==h&&h.j(t,s,i),null!==n&&n.j(t,s,i),null!==r&&r.j(t,s,i);const o=e&&e.length;if(void 0!==o&&o>0)for(let h=0;o>h;++h){const n=e[h];null!==n&&n.j(t,s,i)}this.T.A(this).catch(t=>{throw t})}function e(){return 0!==this.s}function o(t){const s=this.s;if(1&s&&this.i===t)return 1;if(2&s&&this.h===t)return 1;if(4&s&&this.o===t)return 1;if(8&s){const s=this.u;for(let i=0,h=s.length;h>i;++i)if(s[i]===t)return 1}return 0}function batchedSubscriberCollection(){return function(t){const s=t.prototype;s.O=0,s.I=null,s.S=null,s.P=null,s.V=null,s.R=c,s.k=u,s.D=a,s.B=f,s.F=l}}function c(t){if(this.D(t))return 0;const s=this.O;return 1&s?2&s?4&s?8&s?(this.V.push(t),1):(this.V=[t],this.O|=8,1):(this.P=t,this.O|=4,1):(this.S=t,this.O|=2,1):(this.I=t,this.O|=1,1)}function u(t){const s=this.O;if(1&s&&this.I===t)return this.I=null,this.O&=-2,1;if(2&s&&this.S===t)return this.S=null,this.O&=-3,1;if(4&s&&this.P===t)return this.P=null,this.O&=-5,1;if(8&s){const s=this.V;for(let i=0,h=s.length;h>i;++i)if(s[i]===t)return s.splice(i,1),1===h&&(this.O&=-9),1}return 0}function l(t){const s=this.I,i=this.S,h=this.P;let n=this.V;null!==n&&(n=n.slice()),null!==s&&s.U(t),null!==i&&i.U(t),null!==h&&h.U(t);const r=n&&n.length;if(void 0!==r&&r>0)for(let s=0;r>s;++s){const i=n[s];null!==i&&i.U(t)}}function f(){return 0!==this.O}function a(t){const s=this.O;if(1&s&&this.I===t)return 1;if(2&s&&this.S===t)return 1;if(4&s&&this.P===t)return 1;if(8&s){const s=this.V;for(let i=0,h=s.length;h>i;++i)if(s[i]===t)return 1}return 0}function d(s){if(0==this.N){this.N=1;const{M:s,$:i}=this;this.q=s[i],Tt.get=(()=>this.H()),Tt.set=(value=>{this.W(value,t.LifecycleFlags.K)}),At(s,i,Tt)||kernel.Reporter.write(1,i,s)}this.l(s)}function b(){delete this.M[this.$],this.M=null,this.$=null,this.q=null}function propertyObserver(){return function(s){subscriberCollection(t.MutationKind.C)(s);const i=s.prototype;i.N=0,i.M=null,i.$=null,i.q=Symbol(),i.subscribe=i.subscribe||d,i.unsubscribe=i.unsubscribe||i.p,i._=i._||b}}function p(t){const s=BindingBehaviorResource.G(this.description.name);t.register(kernel.Registration.singleton(s,this))}function m(t){const s=this.kind.G(this.description.name);t.register(kernel.Registration.singleton(s,this))}function hasBind(t){return 2048==(2048&t.J)}function hasUnbind(t){return 4096==(4096&t.J)}function isLiteral(t){return 16384==(16384&t.J)}function arePureLiterals(t){if(void 0===t||0===t.length)return 1;for(let s=0;t.length>s;++s)if(!isPureLiteral(t[s]))return 0;return 1}function isPureLiteral(t){if(isLiteral(t))switch(t.J){case 17955:return arePureLiterals(t.elements);case 17956:return arePureLiterals(t.values);case 17958:return arePureLiterals(t.L);case 17925:return 1}return 0}function v(t,s,i,h){const n=h.length,r=Array(n);for(let e=0;n>e;++e)r[e]=h[e].evaluate(t,s,i);return r}function w(s,i,name){const h=null==i?null:i[name];if("function"==typeof h)return h;if(!(s&t.LifecycleFlags.X)&&null==h)return null;throw kernel.Reporter.error(207,i,name,h)}function g(t){if(t===Ut){const s=Bt.length=Ft.length=(Ut+=5)+1;for(let i=t+1;s>i;++i)Bt[i]=`_observer${i}`,Ft[i]=`_observerVersion${i}`}}function y(t){const s=void 0===this.Y?0:this.Y;let i=s;for(;i--&&this[Bt[i]]!==t;);if(-1===i){for(i=0;this[Bt[i]];)i++;this[Bt[i]]=t,t.subscribe(this),i===s&&(this.Y=i+1)}void 0===this.version&&(this.version=0),this[Ft[i]]=this.version,g(i)}function C(t,s){const i=this.tt.Z(t,s);this.st(i)}function j(all){const t=this.Y;let s,i;if(1==all)for(let h=0;t>h;++h)null!=(i=this[s=Bt[h]])&&(this[s]=null,i.unsubscribe(this));else{const h=this.version;for(let n=0;t>n;++n)this[Ft[n]]!==h&&null!=(i=this[s=Bt[n]])&&(this[s]=null,i.unsubscribe(this))}}function A(t){const s=t.prototype;return s.hasOwnProperty("observeProperty")||(s.it=C),s.hasOwnProperty("unobserve")||(s.unobserve=j),s.hasOwnProperty("addObserver")||(s.st=y),t}function connectable(t){return void 0===t?A:A(t)}function T(s,i){if(this.q!==(s=null==s?this.defaultValue:s)){if(this.q=s,!(i&(t.LifecycleFlags.ht|t.LifecycleFlags.nt))||this.rt&&i&t.LifecycleFlags.et)return this.ot=i,this.T.A(this);this.ct(s,i)}return Promise.resolve()}function O(s){if(this.rt&&s&t.LifecycleFlags.et)return void this.T.A(this).catch(t=>{throw t});const i=this.q;this.oldValue!==i&&(this.ct(i,this.ot|s|t.LifecycleFlags.K),this.oldValue=this.q)}function I(){this.q=null,this.oldValue=null,this.defaultValue=null,this.M=null,this.$=""}function targetObserver(s=null){return function(i){subscriberCollection(t.MutationKind.C)(i);const h=i.prototype;h.ut=null,h.q=s,h.oldValue=s,h.defaultValue=s,h.M=null,h.$="",h.W=h.W||T,h.flush=h.flush||O,h._=h._||I}}function S(){this.F(this.lt),this.ft&&this.ft.at(t.LifecycleFlags.ht|t.LifecycleFlags.K),this.dt()}function P(){this.pt.bt=void 0,this.pt=null,this.lt=null}function V(){const t=this.pt.length,s=this.lt=Array(t);let i=0;for(;t>i;)s[i]=i++;s.vt=[]}function R(){const t=this.pt.size,s=this.lt=Array(t);let i=0;for(;t>i;)s[i]=i++;s.vt=[]}function k(){return void 0===this.ft?this.ft=new t.CollectionLengthObserver(this,this.wt):this.ft}function collectionObserver(s){return function(i){subscriberCollection(t.MutationKind.pt)(i),batchedSubscriberCollection()(i);const h=i.prototype;h.ut=null,h.pt=null,h.lt=null,h.gt=0,h.wt=8&s?"length":"size",h.yt=s,h.dt=8&s?V:R,h.flush=S,h._=P,h.Ct=k,h.subscribe=h.subscribe||h.l,h.unsubscribe=h.unsubscribe||h.p,h.jt=h.jt||h.R,h.At=h.At||h.k}}function D(t,s){return t===s?0:(s=null===s?"null":""+s)>(t=null===t?"null":""+t)?-1:1}function B(t,s){return void 0===t?void 0===s?0:1:void 0===s?-1:0}function F(t,s,from,to,i){let h,n,r,e,o,c,u;for(c=from+1;to>c;c++){for(h=t[c],n=s[c],u=c-1;u>=from&&(e=s[u],(o=i(r=t[u],h))>0);u--)t[u+1]=r,s[u+1]=e;t[u+1]=h,s[u+1]=n}}function U(t,s,from,to,i){let h,n,r,e,o,c,u,l,f,a,d,b,p,m,v,w,g,y,C,j=0,A=0;for(;;){if(10>=to-from)return void F(t,s,from,to,i);e=s[from],o=s[to-1],r=t[j=from+(to-from>>1)],c=s[j],(u=i(h=t[from],n=t[to-1]))>0&&(a=h,d=e,h=n,e=o,n=a,o=d),0>(l=i(h,r))?(f=i(n,r))>0&&(a=n,d=o,n=r,o=c,r=a,c=d):(a=h,d=e,h=r,e=c,r=n,c=o,n=a,o=d),t[from]=h,s[from]=e,t[to-1]=r,s[to-1]=c,b=n,p=o,v=to-1,t[j]=t[m=from+1],s[j]=s[m],t[m]=b,s[m]=p;t:for(A=m+1;v>A;A++)if(g=s[A],0>(y=i(w=t[A],b)))t[A]=t[m],s[A]=s[m],t[m]=w,s[m]=g,m++;else if(y>0){do{if(--v==A)break t;y=i(C=t[v],b)}while(y>0);t[A]=t[v],s[A]=s[v],t[v]=w,s[v]=g,0>y&&(w=t[A],g=s[A],t[A]=t[m],s[A]=s[m],t[m]=w,s[m]=g,m++)}m-from>to-v?(U(t,s,v,to,i),to=m):(U(t,s,from,m,i),from=v)}}function enableArrayObservation(){for(const t of Zt)1!=Ht[t].N&&def(Ht,t,Object.assign({},xt,{value:Et[t]}))}function N(s,i){return i.bt||new t.ArrayObserver(s,i)}function enableMapObservation(){for(const t of rs)1!=ts[t].N&&cs(ts,t,Object.assign({},os,{value:es[t]}))}function M(s,i){return i.bt||new t.MapObserver(s,i)}function enableSetObservation(){for(const t of bs)1!=us[t].N&&vs(us,t,Object.assign({},ms,{value:ps[t]}))}function $(s,i){return i.bt||new t.SetObserver(s,i)}function getCollectionObserver(t,s){switch(js.call(s)){case"[object Array]":return N(t,s);case"[object Map]":return M(t,s);case"[object Set]":return $(t,s)}return null}function z(t,s,i){const h=this.Tt;kernel.PLATFORM.global.clearTimeout(h.Ot),h.Ot=kernel.PLATFORM.global.setTimeout(()=>{this.It(t,s,i)},h.St)}function Q(t,s,i){const h=this.Tt;if(kernel.PLATFORM.global.clearTimeout(h.Ot),!(i&h.Pt))return h.oldValue=Vs,void this.It(t,s,i);h.oldValue===Vs&&(h.oldValue=s);const n=kernel.PLATFORM.global.setTimeout(()=>{const s=h.oldValue;h.oldValue=Vs,this.It(t,s,i)},h.St);h.Ot=n}function q(t){const s=this.Vt,i=+new Date-s.Rt;if(i>=s.St)return kernel.PLATFORM.global.clearTimeout(s.Ot),s.Ot=-1,s.Rt=+new Date,void this.kt(t);if(s.newValue=t,-1===s.Ot){const t=kernel.PLATFORM.global.setTimeout(()=>{s.Ot=-1,s.Rt=+new Date,this.kt(s.newValue)},s.St-i);s.Ot=t}}function H(name){return`${ks}:${name}`}function W(t){return void 0===t.$customElement?null:t.$customElement}function K(name){return`${Ds}:${name}`}function buildTemplateDefinition(t,s,template,cache,build,bindables,instructions,dependencies,surrogates,containerless,shadowOptions,hasSlots){const def=new Us,i=arguments.length;switch(i){case 12:null!==hasSlots&&(def.hasSlots=hasSlots);case 11:null!==shadowOptions&&(def.shadowOptions=shadowOptions);case 10:null!==containerless&&(def.containerless=containerless);case 9:null!==surrogates&&(def.surrogates=kernel.PLATFORM.toArray(surrogates));case 8:null!==dependencies&&(def.dependencies=kernel.PLATFORM.toArray(dependencies));case 7:null!==instructions&&(def.instructions=kernel.PLATFORM.toArray(instructions));case 6:null!==bindables&&(def.bindables=Object.assign({},bindables));case 5:null!==build&&(def.build=1==build?Bs:0==build?Fs:Object.assign({},build));case 4:null!==cache&&(def.cache=cache);case 3:null!==template&&(def.template=template);case 2:null!==t&&(t.bindables&&(def.bindables=Object.assign({},t.bindables)),t.containerless&&(def.containerless=t.containerless),t.shadowOptions&&(def.shadowOptions=t.shadowOptions)),"string"==typeof s?s.length>0&&(def.name=s):null!==s&&(Ns.forEach(t=>{s[t]&&(def[t]=s[t])}),Ms.forEach(t=>{s[t]&&(def[t]=kernel.PLATFORM.toArray(s[t]))}),s.bindables&&(def.bindables===kernel.PLATFORM.Dt?def.bindables=Object.assign({},s.bindables):Object.assign(def.bindables,s.bindables)))}return 2!==i||null===t||"string"!=typeof s&&"build"in s||(def.build=Bs),def}function _(s){if(8&this.$state)return;const i=this.$lifecycle;i.Bt(),this.$state|=4,s|=t.LifecycleFlags.Ft;const h=this.$hooks;16&h&&this.Ut(s),this.$state|=8,this.$state&=-5,32&h&&i.Nt(this),i.Mt(s)}function G(s){if(8&this.$state)return;const i=this.$lifecycle;i.Bt(),this.$state|=4,s|=t.LifecycleFlags.Ft;const h=this.$hooks;16&h&&this.Ut(s);let n=this.$t;for(;null!==n;)n.zt(s),n=n.Qt;i.qt(this),this.$state|=8,this.$state&=-5,32&h&&i.Nt(this),i.Mt(s)}function J(s){if(8&this.$state)return;this.$state|=4,s|=t.LifecycleFlags.Ft;let i=this.$t;for(;null!==i;)i.zt(s),i=i.Qt;this.$lifecycle.qt(this),this.$state|=8,this.$state&=-5}function L(s){if(8&this.$state){const i=this.$lifecycle;i.Ht(),this.$state|=32,s|=t.LifecycleFlags.Wt;const h=this.$hooks;64&h&&this.Kt(s),this.$state&=-41,128&h&&i._t(this),i.Gt(s)}}function X(s){if(8&this.$state){const i=this.$lifecycle;i.Ht(),this.$state|=32,(s|=t.LifecycleFlags.Wt)&t.LifecycleFlags.Jt^t.LifecycleFlags.Jt|s&t.LifecycleFlags.Lt&&(i.Xt(this),s|=t.LifecycleFlags.Jt);const h=this.$hooks;64&h&&this.Kt(s);let n=this.Yt;for(;null!==n;)n.Zt(s),n=n.Et;this.$state&=-41,128&h&&i._t(this),i.Gt(s)}}function Y(s){if(8&this.$state){this.$state|=32,(s|=t.LifecycleFlags.Wt)&t.LifecycleFlags.Jt^t.LifecycleFlags.Jt|s&t.LifecycleFlags.Lt&&(this.$lifecycle.Xt(this),s|=t.LifecycleFlags.Jt);let i=this.Yt;for(;null!==i;)i.Zt(s),i=i.Et;this.$state&=-41}}function Z(s){2048&this.$hooks&&this.xt(s|=t.LifecycleFlags.ts)}function E(s){s|=t.LifecycleFlags.ts,2048&this.$hooks&&this.xt(s);let i=this.Yt;for(;null!==i;)i.ss(s),i=i.Et}function x(s){s|=t.LifecycleFlags.ts;let i=this.Yt;for(;null!==i;)i.ss(s),i=i.Et}function tt(){16&this.$state||(this.$state|=16,this.ns.hs(this.$nodes))}function st(){16&this.$state&&(this.$state&=-17,this.ns.rs(this.$nodes))}function it(){16&this.$state||(this.$state|=16,this.$nodes.insertBefore(this.location))}function ht(){return 16&this.$state?(this.$state&=-17,this.$nodes.remove(),this.es&&(this.es=0,this.cache.os(this))?(this.$state|=128,1):0):0}function nt(s,i){if(s|=t.LifecycleFlags.nt,2&this.$state){if(this.$scope===i)return;this.cs(s)}const h=this.$lifecycle;h.us(),this.$state|=1;const n=this.$hooks;8&n&&h.ls(this),this.$scope=i,4&n&&this.fs(s),this.$state|=2,this.$state&=-2,h.as(s)}function rt(s,i){if(2&this.$state)return;const h=this.$scope;h.ds=i;const n=this.$lifecycle;n.us(),this.$state|=1;const r=this.$hooks;s|=t.LifecycleFlags.nt,8&r&&n.ls(this),4&r&&this.fs(s);let e=this.bs;for(;null!==e;)e.ps(s,h),e=e.ms;this.$state|=2,this.$state&=-2,n.as(s)}function et(s,i){if(s|=t.LifecycleFlags.nt,2&this.$state){if(this.$scope===i)return;this.cs(s)}this.$state|=1,this.$scope=i;let h=this.bs;for(;null!==h;)h.ps(s,i),h=h.ms;this.$state|=2,this.$state&=-2}function ot(s){if(2&this.$state){const i=this.$lifecycle;i.vs(),this.$state|=64;const h=this.$hooks;s|=t.LifecycleFlags.ws,512&h&&i.gs(this),256&h&&this.ys(s),this.$state&=-67,i.Cs(s)}}function ct(s){if(2&this.$state){const i=this.$lifecycle;i.vs(),this.$state|=64;const h=this.$hooks;s|=t.LifecycleFlags.ws,512&h&&i.gs(this),256&h&&this.ys(s);let n=this.js;for(;null!==n;)n.cs(s),n=n.As;this.$scope.ds=null,this.$state&=-67,i.Cs(s)}}function ut(s){if(2&this.$state){this.$state|=64,s|=t.LifecycleFlags.ws;let i=this.js;for(;null!==i;)i.cs(s),i=i.As;this.$state&=-67,this.$scope=null}}function lt(t){t.Ts(this.constructor,this),2&this.$hooks&&this.Os()}function ft(dom,t,s,host,i,h=kernel.PLATFORM.Dt){const n=this.constructor,r=n.description;if(this.$scope=Scope.create(this,null),this.Is=host,this.ns=t.Ss(dom,this,host,r),s.Ts(n,this),1024&this.$hooks){const t=this.Ps(host,h.parts,i);t&&"getElementTemplate"in t&&t.Vs(s,n,i).Ps(this,host,h.parts)}else s.Vs(dom,r,i,n).Ps(this,host,h.parts);2&this.$hooks&&this.Os()}function at(t){const s=this.description,i=this.kind.G(s.name),aliases=s.aliases;t.register(kernel.Registration.transient(i,this));for(let s=0,h=aliases.length;h>s;++s){const h=this.kind.G(aliases[s]);t.register(kernel.Registration.Rs(i,h))}}function dt(t){return t.ks=1,t}function bindable(s,i){let h;const n=function(s,i){const n=s.constructor;let bindables=n.bindables;void 0===bindables&&(bindables=n.bindables={}),h.Ds||(h.Ds=kernel.PLATFORM.Bs(i)),h.Fs||(h.Fs=`${i}Changed`),void 0===h.mode&&(h.mode=t.BindingMode.Us),arguments.length>1&&(h.Ns=i),bindables[h.Ns]=h};return arguments.length>1?(h={},void n(s,i)):"string"==typeof s?(h={},n):(h=s||{},n)}function bt(t){const s=this.kind.G(this.description.name);t.register(kernel.Registration.transient(s,this))}function pt(t){return t.containerless=1,t}function mt(s){if(2&this.$state)return;s|=t.LifecycleFlags.nt;const i=this.$scope;let h=this.bs;for(;null!==h;)h.ps(s,i),h=h.ms;this.$state|=2}function vt(s){if(2&this.$state){this.$state|=64,s|=t.LifecycleFlags.ws;let i=this.js;for(;null!==i;)i.cs(s),i=i.As;this.$state&=-67}}function createRenderContext(dom,t,dependencies,s){const i=t.Ms(),h=new Ks,n=new Ks,r=new Ks,e=new _s,o=new Ks,c=i.get(IRenderer);return dom.$s(i,n),i.zs(IViewFactory,e),i.zs(IRenderable,h),i.zs(ITargetedInstruction,r),i.zs(IRenderLocation,o),dependencies&&i.register(...dependencies),s&&s.register(i),i.Ps=function(t,targets,s,host,parts){c.Ps(dom,this,t,targets,s,host,parts)},i.Qs=function(t,s,c,u,parts,l){return h.qs(t),n.qs(s),r.qs(c),u&&e.qs(u,parts),l&&o.qs(l),i},i._=function(){e._(),h._(),r._(),n._(),o._()},i}function wt(t){const s=[];for(let i=0,h=t.length;h>i;++i){const component=W(t[i]);null!==component&&s.push(component)}return s}function gt(s,name){Reflect.defineProperty(s,name,{Hs:1,get(){return this.Ws[name].H()},set(value){this.Ws[name].W(value,t.LifecycleFlags.K)}})}function instructionRenderer(t){return function(s){const i=function(...i){const h=new s(...i);return h.Ks=t,h};i.register=function(t){return kernel.Registration.singleton(IInstructionRenderer,i).register(t,IInstructionRenderer)};const h=Object.getOwnPropertyDescriptors(s);return Object.keys(h).filter(t=>"prototype"!==t).forEach(t=>{Reflect.defineProperty(i,t,h[t])}),i}}function ensureExpression(t,s,i){return"string"==typeof s?t.parse(s,i):s}function addBindable(t,bindable){bindable.As=t.js,bindable.ms=null,null===t.js?t.bs=bindable:t.js.ms=bindable,t.js=bindable}function addAttachable(t,s){s.Et=t.Yt,s.Qt=null,null===t.Yt?t.$t=s:t.Yt.Qt=s,t.Yt=s}var yt,Ct,jt,LifecycleFlags,DelegationStrategy,MutationKind,CollectionKind,ExpressionKind,BindingMode,State,Hooks,BindingType,TargetedInstructionType,ViewCompileFlags;(LifecycleFlags=t.LifecycleFlags||(t.LifecycleFlags={}))[LifecycleFlags._s=0]="none",LifecycleFlags[LifecycleFlags.X=524288]="mustEvaluate",LifecycleFlags[LifecycleFlags.Gs=3]="mutation",LifecycleFlags[LifecycleFlags.Js=1]="isCollectionMutation",LifecycleFlags[LifecycleFlags.Ls=2]="isInstanceMutation",LifecycleFlags[LifecycleFlags.update=28]="update",LifecycleFlags[LifecycleFlags.Xs=4]="updateTargetObserver",LifecycleFlags[LifecycleFlags.K=8]="updateTargetInstance",LifecycleFlags[LifecycleFlags.Ys=16]="updateSourceExpression",LifecycleFlags[LifecycleFlags.from=524256]="from",LifecycleFlags[LifecycleFlags.ht=224]="fromFlush",LifecycleFlags[LifecycleFlags.Zs=32]="fromAsyncFlush",LifecycleFlags[LifecycleFlags.Es=64]="fromSyncFlush",LifecycleFlags[LifecycleFlags.xs=128]="fromTick",LifecycleFlags[LifecycleFlags.ti=256]="fromStartTask",LifecycleFlags[LifecycleFlags.Lt=512]="fromStopTask",LifecycleFlags[LifecycleFlags.nt=1024]="fromBind",LifecycleFlags[LifecycleFlags.ws=2048]="fromUnbind",LifecycleFlags[LifecycleFlags.Ft=4096]="fromAttach",LifecycleFlags[LifecycleFlags.Wt=8192]="fromDetach",LifecycleFlags[LifecycleFlags.ts=16384]="fromCache",LifecycleFlags[LifecycleFlags.si=32768]="fromDOMEvent",LifecycleFlags[LifecycleFlags.ii=65536]="fromObserverSetter",LifecycleFlags[LifecycleFlags.hi=131072]="fromBindableHandler",LifecycleFlags[LifecycleFlags.ni=262144]="fromLifecycleTask",LifecycleFlags[LifecycleFlags.Jt=1048576]="parentUnmountQueued",LifecycleFlags[LifecycleFlags.et=2097152]="doNotUpdateDOM",LifecycleFlags[LifecycleFlags.ri=4194304]="isTraversingParentScope",LifecycleFlags[LifecycleFlags.ei=8388608]="persistentBindingFlags",LifecycleFlags[LifecycleFlags.oi=8388608]="allowParentScopeTraversal",(function(t){t[t.ci=0]="None",t[t.ui=1]="Subscriber0",t[t.li=2]="Subscriber1",t[t.fi=4]="Subscriber2",t[t.ai=8]="SubscribersRest",t[t.di=15]="Any"})(yt||(yt={})),(DelegationStrategy=t.DelegationStrategy||(t.DelegationStrategy={}))[DelegationStrategy._s=0]="none",DelegationStrategy[DelegationStrategy.bi=1]="capturing",DelegationStrategy[DelegationStrategy.pi=2]="bubbling",(MutationKind=t.MutationKind||(t.MutationKind={}))[MutationKind.C=1]="instance",MutationKind[MutationKind.pt=2]="collection",(CollectionKind=t.CollectionKind||(t.CollectionKind={}))[CollectionKind.mi=8]="indexed",CollectionKind[CollectionKind.vi=4]="keyed",CollectionKind[CollectionKind.wi=9]="array",CollectionKind[CollectionKind.map=6]="map",CollectionKind[CollectionKind.set=7]="set";const At=Reflect.defineProperty,Tt={get:void 0,set:void 0,Hs:1,gi:1};t.SetterObserver=class{constructor(t,s){this.M=t,this.$=s}H(){return this.q}W(s,i){const h=this.q;h!==s&&(this.q=s,i&t.LifecycleFlags.nt||this.g(s,h,i),this.N||(this.M[this.$]=s))}},t.SetterObserver=s([propertyObserver()],t.SetterObserver),(function(t){t[t.yi=250]="UndefinedScope",t[t.Ci=251]="NullScope",t[t.ji=252]="NilOverrideContext",t[t.Ai=253]="NilParentScope"})(Ct||(Ct={}));class Ot{Ti(s,i){let h=this[i];return void 0===h&&(h=this[i]=new t.SetterObserver(s,i)),h}}class BindingContext{constructor(t,value){if(this.Oi=1,void 0!==t)if(void 0!==value)this[t]=value;else for(const s in t)t.hasOwnProperty(s)&&(this[s]=t[s])}static create(t,value){return new BindingContext(t,value)}static get(s,name,i,h){if(void 0===s)throw kernel.Reporter.error(250);if(null===s)throw kernel.Reporter.error(251);let n=s.Ii;if(i>0){for(;i>0;){if(null===n.Si)return;i--,n=n.Si}return name in n?n:n.Pi}for(;n&&!(name in n)&&!(n.Pi&&name in n.Pi);)n=n.Si;if(n)return name in n?n:n.Pi;if(h&t.LifecycleFlags.oi&&null!==s.ds){const n=this.get(s.ds,name,i,h&~t.LifecycleFlags.oi|t.LifecycleFlags.ri);if(null!==n)return n}return h&t.LifecycleFlags.ri?null:s.Pi||s.Ii}Vi(){let t=this.Ws;return void 0===t&&(this.Ws=t=new Ot),t}}class Scope{constructor(t,s){this.Pi=t,this.Ii=s,this.ds=null}static create(t,s){return new Scope(t,null==s?OverrideContext.create(t,s):s)}static Ri(t){if(null==t)throw kernel.Reporter.error(252);return new Scope(t.Pi,t)}static ki(t,s){if(null==t)throw kernel.Reporter.error(253);return new Scope(s,OverrideContext.create(s,t.Ii))}}class OverrideContext{constructor(t,s){this.Oi=1,this.Pi=t,this.Si=s}static create(t,s){return new OverrideContext(t,void 0===s?null:s)}Vi(){let t=this.Ws;return void 0===t&&(this.Ws=t=new Ot),t}}const ISignaler=kernel.DI.Bi("ISignaler").Di(t=>t.singleton(It));class It{constructor(){this.Fi=Object.create(null)}Ui(name,s){const i=this.Fi[name];if(void 0!==i)for(const h of i.keys())h.j(void 0,void 0,s|t.LifecycleFlags.K)}Ni(name,t){const s=this.Fi,i=s[name];void 0===i?s[name]=new Set([t]):i.add(t)}Mi(name,t){const s=this.Fi[name];s&&s.delete(t)}}const BindingBehaviorResource={name:"binding-behavior",G(name){return`${this.name}:${name}`},$i(t){return t.kind===this},zi(t,s){const i=s,h="string"==typeof t?{name:t}:t;return i.kind=BindingBehaviorResource,i.description=h,i.register=p,i}},ValueConverterResource={name:"value-converter",G(name){return`${this.name}:${name}`},$i(t){return t.kind===this},zi(t,s){const i=s,h="string"==typeof t?{name:t}:t;return i.kind=ValueConverterResource,i.description=h,i.register=m,i}};(ExpressionKind=t.ExpressionKind||(t.ExpressionKind={}))[ExpressionKind.Connects=32]="Connects",ExpressionKind[ExpressionKind.Observes=64]="Observes",ExpressionKind[ExpressionKind.CallsFunction=128]="CallsFunction",ExpressionKind[ExpressionKind.HasAncestor=256]="HasAncestor",ExpressionKind[ExpressionKind.IsPrimary=512]="IsPrimary",ExpressionKind[ExpressionKind.IsLeftHandSide=1024]="IsLeftHandSide",ExpressionKind[ExpressionKind.HasBind=2048]="HasBind",ExpressionKind[ExpressionKind.HasUnbind=4096]="HasUnbind",ExpressionKind[ExpressionKind.IsAssignable=8192]="IsAssignable",ExpressionKind[ExpressionKind.IsLiteral=16384]="IsLiteral",ExpressionKind[ExpressionKind.IsResource=32768]="IsResource",ExpressionKind[ExpressionKind.Qi=65536]="IsForDeclaration",ExpressionKind[ExpressionKind.qi=31]="Type",ExpressionKind[ExpressionKind.AccessThis=1793]="AccessThis",ExpressionKind[ExpressionKind.AccessScope=10082]="AccessScope",ExpressionKind[ExpressionKind.ArrayLiteral=17955]="ArrayLiteral",ExpressionKind[ExpressionKind.ObjectLiteral=17956]="ObjectLiteral",ExpressionKind[ExpressionKind.PrimitiveLiteral=17925]="PrimitiveLiteral",ExpressionKind[ExpressionKind.Template=17958]="Template",ExpressionKind[ExpressionKind.Unary=39]="Unary",ExpressionKind[ExpressionKind.CallScope=1448]="CallScope",ExpressionKind[ExpressionKind.CallMember=1161]="CallMember",ExpressionKind[ExpressionKind.CallFunction=1162]="CallFunction",ExpressionKind[ExpressionKind.AccessMember=9323]="AccessMember",ExpressionKind[ExpressionKind.AccessKeyed=9324]="AccessKeyed",ExpressionKind[ExpressionKind.TaggedTemplate=1197]="TaggedTemplate",ExpressionKind[ExpressionKind.Binary=46]="Binary",ExpressionKind[ExpressionKind.Conditional=63]="Conditional",ExpressionKind[ExpressionKind.Assign=8208]="Assign",ExpressionKind[ExpressionKind.ValueConverter=36913]="ValueConverter",ExpressionKind[ExpressionKind.BindingBehavior=38962]="BindingBehavior",ExpressionKind[ExpressionKind.HtmlLiteral=51]="HtmlLiteral",ExpressionKind[ExpressionKind.ArrayBindingPattern=65556]="ArrayBindingPattern",ExpressionKind[ExpressionKind.ObjectBindingPattern=65557]="ObjectBindingPattern",ExpressionKind[ExpressionKind.BindingIdentifier=65558]="BindingIdentifier",ExpressionKind[ExpressionKind.ForOfStatement=55]="ForOfStatement",ExpressionKind[ExpressionKind.Interpolation=24]="Interpolation",(function(t){t[t.Hi=202]="NoLocator",t[t.Wi=203]="NoBehaviorFound",t[t.Ki=204]="BehaviorAlreadyApplied",t[t._i=205]="NoConverterFound",t[t.Gi=206]="NoBinding",t[t.Ji=207]="NotAFunction",t[t.Li=208]="UnknownOperator",t[t.yi=250]="UndefinedScope",t[t.Ci=251]="NullScope"})(jt||(jt={}));class BindingBehavior{constructor(t,name,s){this.J=38962,this.Xi=t,this.name=name,this.Yi=s,this.Zi=BindingBehaviorResource.G(this.name),this.Ei=hasBind(t),this.xi=hasUnbind(t)}evaluate(t,s,i){return this.Xi.evaluate(t,s,i)}assign(t,s,i,value){return this.Xi.assign(t,s,i,value)}connect(t,s,i){this.Xi.connect(t,s,i)}bind(t,s,i){if(void 0===s)throw kernel.Reporter.error(250,this);if(null===s)throw kernel.Reporter.error(251,this);if(!i)throw kernel.Reporter.error(206,this);const h=i.th;if(!h)throw kernel.Reporter.error(202,this);this.Ei&&this.Xi.bind(t,s,i);const n=this.Zi,r=h.get(n);if(!r)throw kernel.Reporter.error(203,this);if(null!=i[n])throw kernel.Reporter.error(204,this);i[n]=r,r.bind.apply(r,[t,s,i].concat(v(t,s,h,this.Yi)))}sh(t,s,i){const h=this.Zi;i[h].sh(t,s,i),i[h]=null,this.xi&&this.Xi.sh(t,s,i)}accept(t){return t.ih(this)}}class ValueConverter{constructor(t,name,s){this.J=36913,this.Xi=t,this.name=name,this.Yi=s,this.hh=ValueConverterResource.G(this.name)}evaluate(t,s,i){if(!i)throw kernel.Reporter.error(202,this);const h=i.get(this.hh);if(!h)throw kernel.Reporter.error(205,this);if("toView"in h){const n=this.Yi,r=n.length,e=Array(r+1);e[0]=this.Xi.evaluate(t,s,i);for(let h=0;r>h;++h)e[h+1]=n[h].evaluate(t,s,i);return h.Us.apply(h,e)}return this.Xi.evaluate(t,s,i)}assign(t,s,i,value){if(!i)throw kernel.Reporter.error(202,this);const h=i.get(this.hh);if(!h)throw kernel.Reporter.error(205,this);return"fromView"in h&&(value=h.nh.apply(h,[value].concat(v(t,s,i,this.Yi)))),this.Xi.assign(t,s,i,value)}connect(t,s,i){if(void 0===s)throw kernel.Reporter.error(250,this);if(null===s)throw kernel.Reporter.error(251,this);if(!i)throw kernel.Reporter.error(206,this);const h=i.th;if(!h)throw kernel.Reporter.error(202,this);this.Xi.connect(t,s,i);const n=this.Yi;for(let h=0,r=n.length;r>h;++h)n[h].connect(t,s,i);const r=h.get(this.hh);if(!r)throw kernel.Reporter.error(205,this);const e=r.Fi;if(void 0===e)return;const o=h.get(ISignaler);for(let t=0,s=e.length;s>t;++t)o.Ni(e[t],i)}sh(t,s,i){const h=i.th,n=h.get(this.hh).Fi;if(void 0===n)return;const r=h.get(ISignaler);for(let t=0,s=n.length;s>t;++t)r.Mi(n[t],i)}accept(t){return t.rh(this)}}class Assign{constructor(t,value){this.J=8208,this.target=t,this.value=value}evaluate(t,s,i){return this.target.assign(t,s,i,this.value.evaluate(t,s,i))}connect(t,s,i){}assign(t,s,i,value){return this.value.assign(t,s,i,value),this.target.assign(t,s,i,value)}accept(t){return t.eh(this)}}class Conditional{constructor(t,s,i){this.J=63,this.assign=kernel.PLATFORM.oh,this.uh=t,this.lh=s,this.fh=i}evaluate(t,s,i){return this.uh.evaluate(t,s,i)?this.lh.evaluate(t,s,i):this.fh.evaluate(t,s,i)}connect(t,s,i){this.uh.evaluate(t,s,null)?(this.uh.connect(t,s,i),this.lh.connect(t,s,i)):(this.uh.connect(t,s,i),this.fh.connect(t,s,i))}accept(t){return t.ah(this)}}class AccessThis{constructor(t=0){this.J=1793,this.assign=kernel.PLATFORM.oh,this.connect=kernel.PLATFORM.oh,this.dh=t}evaluate(t,s,i){if(void 0===s)throw kernel.Reporter.error(250,this);if(null===s)throw kernel.Reporter.error(251,this);let h=s.Ii,n=this.dh;for(;n--&&h;)h=h.Si;return 1>n&&h?h.Pi:void 0}accept(t){return t.bh(this)}}AccessThis.ph=new AccessThis(0),AccessThis.mh=new AccessThis(1);class AccessScope{constructor(name,t=0){this.J=10082,this.name=name,this.dh=t}evaluate(t,s,i){const name=this.name;return BindingContext.get(s,name,this.dh,t)[name]}assign(t,s,i,value){const name=this.name,h=BindingContext.get(s,name,this.dh,t);return h?h[name]=value:void 0}connect(t,s,i){const name=this.name,h=BindingContext.get(s,name,this.dh,t);i.it(h,name)}accept(t){return t.vh(this)}}class AccessMember{constructor(t,name){this.J=9323,this.object=t,this.name=name}evaluate(t,s,i){const h=this.object.evaluate(t,s,i);return null==h?h:h[this.name]}assign(t,s,i,value){let h=this.object.evaluate(t,s,i);return null!==h&&"object"==typeof h||this.object.assign(t,s,i,h={}),h[this.name]=value,value}connect(t,s,i){const h=this.object.evaluate(t,s,null);this.object.connect(t,s,i),h&&i.it(h,this.name)}accept(t){return t.wh(this)}}class AccessKeyed{constructor(t,s){this.J=9324,this.object=t,this.key=s}evaluate(t,s,i){const h=this.object.evaluate(t,s,i);if(null!=h)return h[this.key.evaluate(t,s,i)]}assign(t,s,i,value){return this.object.evaluate(t,s,i)[this.key.evaluate(t,s,i)]=value}connect(t,s,i){const h=this.object.evaluate(t,s,null);if(this.object.connect(t,s,i),"object"==typeof h&&null!==h){this.key.connect(t,s,i);const n=this.key.evaluate(t,s,null);Array.isArray(h)&&(function(value){const t=typeof value;if("number"===t)return 1;if("string"!==t)return 0;const s=value.length;if(0===s)return 0;for(let t=0;s>t;++t){const s=value.charCodeAt(t);if(48>s||s>57)return 0}return 1})(n)||i.it(h,n)}}accept(t){return t.gh(this)}}class CallScope{constructor(name,t,s=0){this.J=1448,this.assign=kernel.PLATFORM.oh,this.name=name,this.Yi=t,this.dh=s}evaluate(t,s,i){const h=v(t,s,i,this.Yi),n=BindingContext.get(s,this.name,this.dh,t),r=w(t,n,this.name);if(r)return r.apply(n,h)}connect(t,s,i){const h=this.Yi;for(let n=0,r=h.length;r>n;++n)h[n].connect(t,s,i)}accept(t){return t.yh(this)}}class CallMember{constructor(t,name,s){this.J=1161,this.assign=kernel.PLATFORM.oh,this.object=t,this.name=name,this.Yi=s}evaluate(t,s,i){const h=this.object.evaluate(t,s,i),n=v(t,s,i,this.Yi),r=w(t,h,this.name);if(r)return r.apply(h,n)}connect(s,i,h){const n=this.object.evaluate(s,i,null);if(this.object.connect(s,i,h),w(s&~t.LifecycleFlags.X,n,this.name)){const t=this.Yi;for(let n=0,r=t.length;r>n;++n)t[n].connect(s,i,h)}}accept(t){return t.Ch(this)}}class CallFunction{constructor(t,s){this.J=1162,this.assign=kernel.PLATFORM.oh,this.jh=t,this.Yi=s}evaluate(s,i,h){const n=this.jh.evaluate(s,i,h);if("function"==typeof n)return n.apply(null,v(s,i,h,this.Yi));if(s&t.LifecycleFlags.X||null!=n)throw kernel.Reporter.error(207,this)}connect(t,s,i){const h=this.jh.evaluate(t,s,null);if(this.jh.connect(t,s,i),"function"==typeof h){const h=this.Yi;for(let n=0,r=h.length;r>n;++n)h[n].connect(t,s,i)}}accept(t){return t.Ah(this)}}class Binary{constructor(t,s,i){this.J=46,this.assign=kernel.PLATFORM.oh,this.Th=t,this.left=s,this.right=i,this.evaluate=this[t]}evaluate(t,s,i){throw kernel.Reporter.error(208,this)}connect(t,s,i){const h=this.left.evaluate(t,s,null);this.left.connect(t,s,i),"&&"===this.Th&&!h||"||"===this.Th&&h||this.right.connect(t,s,i)}Oh(t,s,i){return this.left.evaluate(t,s,i)&&this.right.evaluate(t,s,i)}Ih(t,s,i){return this.left.evaluate(t,s,i)||this.right.evaluate(t,s,i)}Sh(t,s,i){return this.left.evaluate(t,s,i)==this.right.evaluate(t,s,i)}Ph(t,s,i){return this.left.evaluate(t,s,i)===this.right.evaluate(t,s,i)}Vh(t,s,i){return this.left.evaluate(t,s,i)!=this.right.evaluate(t,s,i)}Rh(t,s,i){return this.left.evaluate(t,s,i)!==this.right.evaluate(t,s,i)}kh(t,s,i){const h=this.right.evaluate(t,s,i);return"function"==typeof h?this.left.evaluate(t,s,i)instanceof h:0}Dh(t,s,i){const h=this.right.evaluate(t,s,i);return null!==h&&"object"==typeof h?this.left.evaluate(t,s,i)in h:0}Bh(t,s,i){return this.left.evaluate(t,s,i)+this.right.evaluate(t,s,i)}Fh(t,s,i){return this.left.evaluate(t,s,i)-this.right.evaluate(t,s,i)}Uh(t,s,i){return this.left.evaluate(t,s,i)*this.right.evaluate(t,s,i)}Nh(t,s,i){return this.left.evaluate(t,s,i)/this.right.evaluate(t,s,i)}Mh(t,s,i){return this.left.evaluate(t,s,i)%this.right.evaluate(t,s,i)}$h(t,s,i){return this.left.evaluate(t,s,i)<this.right.evaluate(t,s,i)}zh(t,s,i){return this.left.evaluate(t,s,i)>this.right.evaluate(t,s,i)}Qh(t,s,i){return this.left.evaluate(t,s,i)<=this.right.evaluate(t,s,i)}qh(t,s,i){return this.left.evaluate(t,s,i)>=this.right.evaluate(t,s,i)}accept(t){return t.Hh(this)}}class Unary{constructor(t,s){this.J=39,this.assign=kernel.PLATFORM.oh,this.Th=t,this.Xi=s,this.evaluate=this[t]}evaluate(t,s,i){throw kernel.Reporter.error(208,this)}connect(t,s,i){this.Xi.connect(t,s,i)}Wh(t,s,i){this.Xi.evaluate(t,s,i)}Kh(t,s,i){return typeof this.Xi.evaluate(t,s,i)}_h(t,s,i){return!this.Xi.evaluate(t,s,i)}Fh(t,s,i){return-this.Xi.evaluate(t,s,i)}Bh(t,s,i){return+this.Xi.evaluate(t,s,i)}accept(t){return t.Gh(this)}}class PrimitiveLiteral{constructor(value){this.J=17925,this.assign=kernel.PLATFORM.oh,this.connect=kernel.PLATFORM.oh,this.value=value}evaluate(t,s,i){return this.value}accept(t){return t.Jh(this)}}PrimitiveLiteral.Lh=new PrimitiveLiteral(void 0),PrimitiveLiteral.Xh=new PrimitiveLiteral(null),PrimitiveLiteral.Yh=new PrimitiveLiteral(1),PrimitiveLiteral.Zh=new PrimitiveLiteral(0),PrimitiveLiteral.Eh=new PrimitiveLiteral("");class HtmlLiteral{constructor(parts){this.J=51,this.assign=kernel.PLATFORM.oh,this.parts=parts}evaluate(t,s,i){const h=this.parts;let n="";for(let r=0,e=h.length;e>r;++r){const value=h[r].evaluate(t,s,i);null!=value&&(n+=value)}return n}connect(t,s,i){for(let h=0,n=this.parts.length;n>h;++h)this.parts[h].connect(t,s,i)}accept(t){return t.xh(this)}}class ArrayLiteral{constructor(t){this.J=17955,this.assign=kernel.PLATFORM.oh,this.elements=t}evaluate(t,s,i){const h=this.elements,n=h.length,r=Array(n);for(let e=0;n>e;++e)r[e]=h[e].evaluate(t,s,i);return r}connect(t,s,i){const h=this.elements;for(let n=0,r=h.length;r>n;++n)h[n].connect(t,s,i)}accept(t){return t.tn(this)}}ArrayLiteral.Eh=new ArrayLiteral(kernel.PLATFORM.sn);class ObjectLiteral{constructor(t,s){this.J=17956,this.assign=kernel.PLATFORM.oh,this.keys=t,this.values=s}evaluate(t,s,i){const h={},n=this.keys,r=this.values;for(let e=0,o=n.length;o>e;++e)h[n[e]]=r[e].evaluate(t,s,i);return h}connect(t,s,i){const h=this.values;for(let n=0,r=this.keys.length;r>n;++n)h[n].connect(t,s,i)}accept(t){return t.in(this)}}ObjectLiteral.Eh=new ObjectLiteral(kernel.PLATFORM.sn,kernel.PLATFORM.sn);class Template{constructor(t,s){this.J=17958,this.assign=kernel.PLATFORM.oh,this.hn=t,this.L=void 0===s?kernel.PLATFORM.sn:s}evaluate(t,s,i){const h=this.L,n=this.hn;let r=n[0];for(let e=0,o=h.length;o>e;++e)r+=h[e].evaluate(t,s,i),r+=n[e+1];return r}connect(t,s,i){const h=this.L;for(let n=0,r=h.length;r>n;++n)h[n].connect(t,s,i),n++}accept(t){return t.nn(this)}}Template.Eh=new Template([""]);class TaggedTemplate{constructor(t,s,i,h){this.J=1197,this.assign=kernel.PLATFORM.oh,this.hn=t,this.hn.raw=s,this.jh=i,this.L=void 0===h?kernel.PLATFORM.sn:h}evaluate(t,s,i){const h=this.L,n=h.length,r=Array(n);for(let e=0,o=n;o>e;++e)r[e]=h[e].evaluate(t,s,i);const e=this.jh.evaluate(t,s,i);if("function"!=typeof e)throw kernel.Reporter.error(207,this);return e.apply(null,[this.hn].concat(r))}connect(t,s,i){const h=this.L;for(let n=0,r=h.length;r>n;++n)h[n].connect(t,s,i);this.jh.connect(t,s,i)}accept(t){return t.rn(this)}}class ArrayBindingPattern{constructor(t){this.J=65556,this.elements=t}evaluate(t,s,i){}assign(t,s,i,h){}connect(t,s,i){}accept(t){return t.en(this)}}class ObjectBindingPattern{constructor(t,s){this.J=65557,this.keys=t,this.values=s}evaluate(t,s,i){}assign(t,s,i,h){}connect(t,s,i){}accept(t){return t.on(this)}}class BindingIdentifier{constructor(name){this.J=65558,this.name=name}evaluate(t,s,i){return this.name}connect(t,s,i){}accept(t){return t.cn(this)}}const St={}.toString;class ForOfStatement{constructor(t,s){this.J=55,this.assign=kernel.PLATFORM.oh,this.un=t,this.ln=s}evaluate(t,s,i){return this.ln.evaluate(t,s,i)}count(t){return Vt[St.call(t)](t)}fn(t,s){Pt[St.call(t)](t,s)}connect(t,s,i){this.un.connect(t,s,i),this.ln.connect(t,s,i)}accept(t){return t.an(this)}}class Interpolation{constructor(parts,t){this.J=24,this.assign=kernel.PLATFORM.oh,this.parts=parts,this.L=void 0===t?kernel.PLATFORM.sn:t,this.dn=this.L.length>1,this.bn=this.L[0]}evaluate(t,s,i){if(this.dn){const h=this.L,parts=this.parts;let n=parts[0];for(let r=0,e=h.length;e>r;++r)n+=h[r].evaluate(t,s,i),n+=parts[r+1];return n}{const parts=this.parts;return parts[0]+this.bn.evaluate(t,s,i)+parts[1]}}connect(t,s,i){}accept(t){return t.pn(this)}}BindingBehavior.prototype.J=38962,ValueConverter.prototype.J=36913,Assign.prototype.J=8208,Conditional.prototype.J=63,AccessThis.prototype.J=1793,AccessScope.prototype.J=10082,AccessMember.prototype.J=9323,AccessKeyed.prototype.J=9324,CallScope.prototype.J=1448,CallMember.prototype.J=1161,CallFunction.prototype.J=1162,Binary.prototype.J=46,Unary.prototype.J=39,PrimitiveLiteral.prototype.J=17925,HtmlLiteral.prototype.J=51,ArrayLiteral.prototype.J=17955,ObjectLiteral.prototype.J=17956,Template.prototype.J=17958,TaggedTemplate.prototype.J=1197,ArrayBindingPattern.prototype.J=65556,ObjectBindingPattern.prototype.J=65557,BindingIdentifier.prototype.J=65558,ForOfStatement.prototype.J=55,Interpolation.prototype.J=24;const Pt={mn(t,s){for(let i=0,h=t.length;h>i;++i)s(t,i,t[i])},vn(t,s){const i=Array(t.size);let h=-1;for(const s of t.entries())i[++h]=s;Pt["mn"](i,s)},wn(t,s){const i=Array(t.size);let h=-1;for(const s of t.keys())i[++h]=s;Pt["mn"](i,s)},gn(t,s){const i=Array(t);for(let s=0;t>s;++s)i[s]=s;Pt["mn"](i,s)},yn(t,s){},Cn(t,s){}},Vt={mn:t=>t.length,vn:t=>t.size,wn:t=>t.size,gn:t=>t,yn:()=>0,Cn:()=>0};(BindingMode=t.BindingMode||(t.BindingMode={}))[BindingMode.oneTime=1]="oneTime",BindingMode[BindingMode.Us=2]="toView",BindingMode[BindingMode.nh=4]="fromView",BindingMode[BindingMode.jn=6]="twoWay",BindingMode[BindingMode.default=8]="default",(State=t.State||(t.State={}))[State._s=0]="none",State[State.An=1]="isBinding",State[State.Tn=2]="isBound",State[State.On=4]="isAttaching",State[State.In=8]="isAttached",State[State.Sn=16]="isMounted",State[State.Pn=32]="isDetaching",State[State.Vn=64]="isUnbinding",State[State.Rn=128]="isCached",State[State.kn=256]="isContainerless",(Hooks=t.Hooks||(t.Hooks={}))[Hooks._s=1]="none",Hooks[Hooks.Dn=2]="hasCreated",Hooks[Hooks.Bn=4]="hasBinding",Hooks[Hooks.Fn=8]="hasBound",Hooks[Hooks.Un=16]="hasAttaching",Hooks[Hooks.Nn=32]="hasAttached",Hooks[Hooks.Mn=64]="hasDetaching",Hooks[Hooks.$n=128]="hasDetached",Hooks[Hooks.zn=256]="hasUnbinding",Hooks[Hooks.Qn=512]="hasUnbound",Hooks[Hooks.qn=1024]="hasRender",Hooks[Hooks.Hn=2048]="hasCaching";const IRenderable=kernel.DI.Bi("IRenderable").Wn(),IViewFactory=kernel.DI.Bi("IViewFactory").Wn(),Rt=Object.freeze(Object.create(null)),ILifecycle=kernel.DI.Bi("ILifecycle").Di(t=>t.singleton(kt));class kt{constructor(){this.Kn=0,this._n=0,this.Gn=0,this.Jn=0,this.Ln=this,this.Xn=this,this.Yn=this,this.Zn=this,this.En=this,this.xn=this,this.tr=this,this.sr=this,this.ir=this,this.hr=this,this.nr=this,this.rr=this,this.er=this,this.or=this,this.cr=this,this.ur=this,this.lr=this,this.ar=this,this.dr=this,this.br=this,this.pr=null,this.mr=Promise.resolve(),this.vr=0,this.wr=0,this.gr=0,this.yr=0,this.Cr=0,this.jr=0,this.Ar=0,this.Tr=0,this.Or=0,this.Ir=0,this.ut=Rt,this.flush=kernel.PLATFORM.oh,this.Sr=Rt,this.connect=kernel.PLATFORM.oh,this.Pr=Rt,this.at=kernel.PLATFORM.oh,this.Vr=Rt,this.bound=kernel.PLATFORM.oh,this.Rr=Rt,this.kr=kernel.PLATFORM.oh,this.Dr=Rt,this.Br=kernel.PLATFORM.oh,this.Fr=Rt,this.Ur=kernel.PLATFORM.oh,this.Nr=Rt,this.Mr=kernel.PLATFORM.oh,this.$r=Rt,this.cs=kernel.PLATFORM.oh,this.zr=Rt,this.Qr=kernel.PLATFORM.oh,this.qr=null}static register(t){return kernel.Registration.singleton(ILifecycle,this).register(t)}Hr(t){null===this.qr&&(this.qr=new AggregateLifecycleTask),this.qr.Wr(t)}Kr(t){null!==this.qr&&(this.qr===t?this.qr=null:this.qr._r(t))}A(s){return this.Ln===this&&(this.pr=this.mr.then(()=>{this.Gr(t.LifecycleFlags.Zs)})),null===s.ut&&(s.ut=Rt,this.Xn.ut=s,this.Xn=s,++this.vr),this.pr}Gr(s){for(s|=t.LifecycleFlags.Es;this.vr>0;){let i,h=this.Ln.ut;this.Ln=this.Xn=this,this.vr=0;do{i=h.ut,h.ut=null,h.flush(s),h=i}while(h!==Rt);if(s&t.LifecycleFlags.et)break}}us(){++this.Kn}ls(t){null===t.Vr&&(t.Vr=Rt,this.sr.Vr=t,this.sr=t,++this.yr)}Jr(t){null===t.Sr&&(t.Sr=Rt,this.Zn.Sr=t,this.Zn=t,++this.wr),null===t.Pr&&(t.Pr=Rt,this.xn.Pr=t,this.xn=t,++this.gr)}Lr(t){if(this.wr>0){this.wr=0;let s,i=this.Yn.Sr;this.Yn=this.Zn=this;do{i.connect(t),s=i.Sr,i.Sr=null,i=s}while(i!==Rt)}}Xr(s){for(s&t.LifecycleFlags.ti&&this.Gr(s|t.LifecycleFlags.Es);this.gr>0;){this.gr=0;let t,i=this.En.Pr;this.En=this.xn=this;do{i.at(s),t=i.Pr,i.Pr=null,i=t}while(i!==Rt)}}as(t){if(0==--this.Kn)return null===this.qr||this.qr.done?(this.Yr(t),LifecycleTask.done):(this.qr.Zr=this,this.qr)}Yr(s){for(s&t.LifecycleFlags.ti&&this.Gr(s|t.LifecycleFlags.Es);this.yr>0;){this.yr=0;let t,i=this.tr.Vr;this.tr=this.sr=this;do{i.bound(s),t=i.Vr,i.Vr=null,i=t}while(i!==Rt)}}vs(){++this.Jn}gs(t){null===t.zr&&(t.zr=Rt,this.br.zr=t,this.br=t,++this.Ir)}Cs(t){if(0==--this.Jn)return null===this.qr||this.qr.done?(this.Er(t),LifecycleTask.done):(this.qr.Zr=this,this.qr)}Er(t){for(;this.Ir>0;){this.Ir=0;let s,i=this.dr.zr;this.dr=this.br=this;do{i.Qr(t),s=i.zr,i.zr=null,i=s}while(i!==Rt)}}Bt(){++this._n}qt(t){null===t.Rr&&(t.Rr=Rt,this.hr.Rr=t,this.hr=t,++this.Cr)}Nt(t){null===t.Dr&&(t.Dr=Rt,this.rr.Dr=t,this.rr=t,++this.jr)}Mt(t){if(0==--this._n)return null===this.qr||this.qr.done?(this.xr(t),LifecycleTask.done):(this.qr.Zr=this,this.qr)}xr(s){if(this.Gr(s|t.LifecycleFlags.Es),this.Cr>0){this.Cr=0;let t,i=this.ir.Rr;this.ir=this.hr=this;do{i.kr(s),t=i.Rr,i.Rr=null,i=t}while(i!==Rt)}if(this.Lr(t.LifecycleFlags.X),this.jr>0){this.jr=0;let t,i=this.nr.Dr;this.nr=this.rr=this;do{i.Br(s),t=i.Dr,i.Dr=null,i=t}while(i!==Rt)}}Ht(){++this.Gn}Xt(t){if(null===t.Fr&&(t.Fr=Rt,this.or.Fr=t,this.or=t,++this.Ar),null!==t.Rr){let s=this.ir,i=s.Rr;for(;i!==t;)i=(s=i).Rr;s.Rr=i.Rr,i.Rr=null,this.hr===i&&(this.hr=this),--this.Cr}}_t(t){null===t.Nr&&(t.Nr=Rt,this.ur.Nr=t,this.ur=t,++this.Tr)}te(t){null===t.$r&&(t.$r=Rt,this.ar.$r=t,this.ar=t,++this.Or)}Gt(t){if(0==--this.Gn)return null===this.qr||this.qr.done?(this.se(t),LifecycleTask.done):(this.qr.Zr=this,this.qr)}se(s){if(this.Gr(s|t.LifecycleFlags.ht|t.LifecycleFlags.et),this.Ar>0){this.Ar=0;let t,i=this.er.Fr;this.er=this.or=this;do{i.Ur(s),t=i.Fr,i.Fr=null,i=t}while(i!==Rt)}if(this.Tr>0){this.Tr=0;let t,i=this.cr.Nr;this.cr=this.ur=this;do{i.Mr(s),t=i.Nr,i.Nr=null,i=t}while(i!==Rt)}if(this.Or>0){this.vs(),this.Or=0;let t,i=this.lr.$r;this.lr=this.ar=this;do{i.cs(s),t=i.$r,i.$r=null,i=t}while(i!==Rt);this.Cs(s)}}}class CompositionCoordinator{constructor($lifecycle){this.$lifecycle=$lifecycle,this.ie=kernel.PLATFORM.oh,this.currentView=null,this.In=0,this.Tn=0,this.he=null,this.ne=LifecycleTask.done}static register(t){return kernel.Registration.transient(this,this).register(t,this)}re(value,t){this.ne.done?value instanceof Promise?(this.ee(new Dt(this,value)),this.oe()):this.ce(value,t):(value instanceof Promise?this.ee(new Dt(this,value)):this.ee(value),this.ne.ue()&&this.ne.cancel())}fs(t,s){this.scope=s,this.Tn=1,null!==this.currentView&&this.currentView.ps(t,s)}Ut(t){this.In=1,null!==this.currentView&&this.currentView.zt(t)}Kt(t){this.In=0,null!==this.currentView&&this.currentView.Zt(t)}ys(t){this.Tn=0,null!==this.currentView&&this.currentView.cs(t)}xt(t){this.currentView=null}ee(t){null===this.he&&(this.he=[]),this.he.push(t)}ce(t,s){if(this.currentView===t)return;const $lifecycle=this.$lifecycle,i=new AggregateLifecycleTask;let h,n=this.currentView;null===n?h=LifecycleTask.done:($lifecycle.te(n),$lifecycle.Ht(),n.Zt(s),h=$lifecycle.Gt(s)),i.Wr(h),null===(n=this.currentView=t)?h=LifecycleTask.done:(this.Tn&&($lifecycle.us(),n.ps(s,this.scope),$lifecycle.as(s)),this.In?($lifecycle.Bt(),n.zt(s),h=$lifecycle.Mt(s)):h=LifecycleTask.done),i.Wr(h),i.done?(this.ne=LifecycleTask.done,this.ie()):(this.ne=i,this.ne.le().then(()=>{this.ie(),this.oe()}).catch(t=>{throw t}))}oe(){if(null!==this.he&&this.he.length>0){const s=this.he.pop();this.he.length=0,Dt.is(s)?this.ne=s.start():this.ce(s,t.LifecycleFlags.ni)}else this.ne=LifecycleTask.done}}CompositionCoordinator.inject=[ILifecycle];const LifecycleTask={done:{done:1,ue:()=>0,cancel(){},le:()=>Promise.resolve()}};class AggregateLifecycleTask{constructor(){this.done=1,this.Zr=null,this.resolve=null,this.fe=[],this.ae=null}Wr(t){t.done||(this.done=0,this.fe.push(t),t.le().then(()=>{this.de()}).catch(t=>{throw t}))}_r(t){if(t.done){const s=this.fe.indexOf(t);-1!==s&&this.fe.splice(s,1)}0===this.fe.length&&null!==this.Zr&&(this.Zr.Kr(this),this.Zr=null)}ue(){return this.done?0:this.fe.every(t=>t.ue())}cancel(){this.ue()&&(this.fe.forEach(t=>{t.cancel()}),this.done=0)}le(){return null===this.ae&&(this.ae=this.done?Promise.resolve():new Promise(t=>this.resolve=t)),this.ae}de(){this.done||this.fe.every(t=>t.done)&&this.complete(1)}complete(s){this.done=1,s&&null!==this.Zr&&(this.Zr.se(t.LifecycleFlags.ni),this.Zr.Er(t.LifecycleFlags.ni),this.Zr.Yr(t.LifecycleFlags.ni),this.Zr.xr(t.LifecycleFlags.ni)),this.Zr.Kr(this),null!==this.resolve&&this.resolve()}}class Dt{constructor(t,s){this.be=t,this.done=0,this.pe=0,this.mr=s}static is(t){return"start"in t}start(){return this.pe?LifecycleTask.done:(this.mr=this.mr.then(t=>(this.me(t),t)),this)}ue(){return!this.done}cancel(){this.ue()&&(this.pe=1)}le(){return this.mr}me(value){this.pe||(this.done=1,this.be.re(value,t.LifecycleFlags.ni))}}const Bt=[],Ft=[];let Ut=-1;g(-1);const{oneTime,Us:Nt,nh:Mt}=t.BindingMode,$t=Nt|oneTime;t.Binding=class{constructor(t,s,i,mode,h,n){this.ms=null,this.As=null,this.$state=0,this.$lifecycle=n.get(ILifecycle),this.Sr=null,this.Pr=null,this.$scope=null,this.th=n,this.mode=mode,this.tt=h,this.ve=t,this.target=s,this.we=i}ge(value,s){this.targetObserver.W(value,(s|=this.ye)|t.LifecycleFlags.K)}Ce(value,s){this.ve.assign((s|=this.ye)|t.LifecycleFlags.Ys,this.$scope,this.th,value)}j(s,i,h){if(!(2&this.$state))return;const n=this.ve,$scope=this.$scope,r=this.th;if(h|=this.ye,this.mode===t.BindingMode.nh&&(h&=~t.LifecycleFlags.K,h|=t.LifecycleFlags.Ys),h&t.LifecycleFlags.K){const mode=this.mode,t=this.targetObserver.H();return(10082!==n.J||this.Y>1)&&(s=n.evaluate(h,$scope,r)),s!==t&&this.ge(s,h),void(0==(mode&oneTime)&&(this.version++,n.connect(h,$scope,this),this.unobserve(0)))}if(!(h&t.LifecycleFlags.Ys))throw kernel.Reporter.error(15,t.LifecycleFlags[h]);s!==n.evaluate(h,$scope,r)&&this.Ce(s,h)}ps(s,i){if(2&this.$state){if(this.$scope===i)return;this.cs(s|t.LifecycleFlags.nt)}this.$state|=1,this.ye=s&t.LifecycleFlags.ei,this.$scope=i;let h=this.ve;hasBind(h)&&h.bind(s,i,this);const mode=this.mode;let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=mode&Mt?this.tt.Z(this.target,this.we):this.tt.je(this.target,this.we)),targetObserver.bind&&targetObserver.bind(s),h=this.ve,mode&$t&&this.ge(h.evaluate(s,i,this.th),s),mode&Nt&&this.$lifecycle.Jr(this),mode&Mt&&targetObserver.subscribe(this),this.$state|=2,this.$state&=-2}cs(s){if(!(2&this.$state))return;this.$state|=64,this.ye=t.LifecycleFlags._s;const i=this.ve;hasUnbind(i)&&i.sh(s,this.$scope,this),this.$scope=null;const targetObserver=this.targetObserver;targetObserver.sh&&targetObserver.sh(s),targetObserver.unsubscribe&&targetObserver.unsubscribe(this),this.unobserve(1),this.$state&=-67}connect(s){2&this.$state&&this.ve.connect((s|=this.ye)|t.LifecycleFlags.X,this.$scope,this)}at(s){2&this.$state&&this.ge(this.ve.evaluate((s|=this.ye)|t.LifecycleFlags.X,this.$scope,this.th),s)}},t.Binding=s([connectable()],t.Binding);class Call{constructor(t,s,i,h,n){this.ms=null,this.As=null,this.$state=0,this.th=n,this.ve=t,this.targetObserver=h.Z(s,i)}Ae(s){const i=this.$scope.Ii;Object.assign(i,s);const h=this.ve.evaluate(t.LifecycleFlags.X,this.$scope,this.th);for(const t in s)delete i[t];return h}ps(s,i){if(2&this.$state){if(this.$scope===i)return;this.cs(s|t.LifecycleFlags.nt)}this.$state|=1,this.$scope=i;const h=this.ve;hasBind(h)&&h.bind(s,i,this),this.targetObserver.W(t=>this.Ae(t),s),this.$state|=2,this.$state&=-2}cs(t){if(!(2&this.$state))return;this.$state|=64;const s=this.ve;hasUnbind(s)&&s.sh(t,this.$scope,this),this.$scope=null,this.targetObserver.W(null,t),this.$state&=-67}it(t,s){}j(t,s,i){}}const IExpressionParser=kernel.DI.Bi("IExpressionParser").Di(t=>t.singleton(zt));class zt{constructor(){this.Te=Object.create(null),this.Oe=Object.create(null),this.Ie=Object.create(null)}parse(t,s){switch(s){case 2048:{let i=this.Ie[t];return void 0===i&&(i=this.Ie[t]=this.Se(t,s)),i}case 539:{let i=this.Oe[t];return void 0===i&&(i=this.Oe[t]=this.Se(t,s)),i}default:{if(0===t.length&&55&s)return PrimitiveLiteral.Eh;let i=this.Te[t];return void 0===i&&(i=this.Te[t]=this.Se(t,s)),i}}}cache(t){const{Oe:s,Te:i,Ie:h}=this;for(const n in t){const r=t[n];switch(r.J){case 24:h[n]=r;break;case 55:s[n]=r;break;default:i[n]=r}}}Se(t,s){try{const parts=t.split("."),s=parts[0];let i;i=s.endsWith("()")?new CallScope(s.replace("()",""),kernel.PLATFORM.sn):new AccessScope(parts[0]);let h=1;for(;parts.length>h;){const t=parts[h];i=t.endsWith("()")?new CallMember(i,t.replace("()",""),kernel.PLATFORM.sn):new AccessMember(i,parts[h]),h++}return i}catch(t){throw kernel.Reporter.error(3,t)}}}(BindingType=t.BindingType||(t.BindingType={}))[BindingType.ci=0]="None",BindingType[BindingType.Interpolation=2048]="Interpolation",BindingType[BindingType.Pe=1280]="IsRef",BindingType[BindingType.Ve=512]="IsIterator",BindingType[BindingType.Re=256]="IsCustom",BindingType[BindingType.ke=128]="IsFunction",BindingType[BindingType.De=64]="IsEvent",BindingType[BindingType.Be=32]="IsProperty",BindingType[BindingType.Fe=16]="IsCommand",BindingType[BindingType.Ue=48]="IsPropertyCommand",BindingType[BindingType.Ne=80]="IsEventCommand",BindingType[BindingType.Me=6]="DelegationStrategyDelta",BindingType[BindingType.$e=15]="Command",BindingType[BindingType.ze=49]="OneTimeCommand",BindingType[BindingType.Qe=50]="ToViewCommand",BindingType[BindingType.qe=51]="FromViewCommand",BindingType[BindingType.He=52]="TwoWayCommand",BindingType[BindingType.We=53]="BindCommand",BindingType[BindingType.Ke=86]="TriggerCommand",BindingType[BindingType._e=87]="CaptureCommand",BindingType[BindingType.Ge=88]="DelegateCommand",BindingType[BindingType.Je=153]="CallCommand",BindingType[BindingType.Le=26]="OptionsCommand",BindingType[BindingType.Xe=539]="ForCommand",BindingType[BindingType.Ye=284]="CustomCommand";const{Us:Qt,oneTime:qt}=t.BindingMode;class MultiInterpolationBinding{constructor(s,i,h,n,mode,r){this.ms=null,this.As=null,this.$state=0,this.$scope=null,this.Ze=i,this.th=r,this.mode=mode,this.tt=s,this.target=h,this.we=n;const e=i.L,parts=this.parts=Array(e.length);for(let o=0,c=e.length;c>o;++o)parts[o]=new t.InterpolationBinding(e[o],i,h,n,mode,s,r,0===o)}ps(t,s){if(2&this.$state){if(this.$scope===s)return;this.cs(t)}this.$state|=2,this.$scope=s;const parts=this.parts;for(let i=0,h=parts.length;h>i;++i)parts[i].ps(t,s)}cs(t){if(!(2&this.$state))return;this.$state&=-3,this.$scope=null;const parts=this.parts;for(let s=0,i=parts.length;i>s;++s)parts[s].cs(t)}}t.InterpolationBinding=class{constructor(t,s,i,h,mode,n,r,e){this.$state=0,this.Ze=s,this.Ee=e,this.mode=mode,this.th=r,this.tt=n,this.ve=t,this.target=i,this.we=h,this.targetObserver=n.je(i,h)}ge(value,s){this.targetObserver.W(value,s|t.LifecycleFlags.K)}j(t,s,i){if(!(2&this.$state))return;const h=this.targetObserver.H(),n=this.Ze.evaluate(i,this.$scope,this.th);n!==h&&this.ge(n,i),0==(this.mode&qt)&&(this.version++,this.ve.connect(i,this.$scope,this),this.unobserve(0))}ps(t,s){if(2&this.$state){if(this.$scope===s)return;this.cs(t)}this.$state|=2,this.$scope=s;const i=this.ve;i.bind&&i.bind(t,s,this),this.Ee&&this.ge(this.Ze.evaluate(t,s,this.th),t),this.mode&Qt&&i.connect(t,s,this)}cs(t){if(!(2&this.$state))return;this.$state&=-3;const s=this.ve;s.sh&&s.sh(t,this.$scope,this),this.$scope=null,this.unobserve(1)}},t.InterpolationBinding=s([connectable()],t.InterpolationBinding),t.LetBinding=class{constructor(t,s,i,h,toViewModel=0){this.ms=null,this.As=null,this.$state=0,this.$lifecycle=h.get(ILifecycle),this.$scope=null,this.th=h,this.tt=i,this.ve=t,this.target=null,this.we=s,this.toViewModel=toViewModel}j(s,i,h){if(2&this.$state){if(!(h&t.LifecycleFlags.K))throw kernel.Reporter.error(15,h);{const{target:t,we:s}=this,i=t[s],n=this.ve.evaluate(h,this.$scope,this.th);n!==i&&(t[s]=n)}}}ps(s,i){if(2&this.$state){if(this.$scope===i)return;this.cs(s|t.LifecycleFlags.nt)}this.$state|=1,this.$scope=i,this.target=this.toViewModel?i.Pi:i.Ii;const h=this.ve;h.bind&&h.bind(s,i,this),this.target[this.we]=this.ve.evaluate(t.LifecycleFlags.nt,i,this.th),this.ve.connect(s,i,this),this.$state|=2,this.$state&=-2}cs(t){if(!(2&this.$state))return;this.$state|=64;const s=this.ve;s.sh&&s.sh(t,this.$scope,this),this.$scope=null,this.unobserve(1),this.$state&=-67}},t.LetBinding=s([connectable()],t.LetBinding);class Ref{constructor(t,s,i){this.ms=null,this.As=null,this.$state=0,this.th=i,this.ve=t,this.target=s}ps(s,i){if(2&this.$state){if(this.$scope===i)return;this.cs(s|t.LifecycleFlags.nt)}this.$state|=1,this.$scope=i;const h=this.ve;hasBind(h)&&h.bind(s,i,this),this.ve.assign(s,this.$scope,this.th,this.target),this.$state|=2,this.$state&=-2}cs(t){if(!(2&this.$state))return;this.$state|=64,this.ve.evaluate(t,this.$scope,this.th)===this.target&&this.ve.assign(t,this.$scope,this.th,null);const s=this.ve;hasUnbind(s)&&s.sh(t,this.$scope,this),this.$scope=null,this.$state&=-67}it(t,s){}j(t,s,i){}}t.CollectionLengthObserver=class{constructor(t,s){this.M=t,this.$=s,this.q=t[s]}H(){return this.M[this.$]}ct(t){this.M[this.$]=t}at(t){this.g(this.M[this.$],this.q,t),this.q=this.M[this.$]}subscribe(t){this.l(t)}unsubscribe(t){this.p(t)}},t.CollectionLengthObserver=s([targetObserver()],t.CollectionLengthObserver);const Ht=Array.prototype,Wt=Ht.push,Kt=Ht.unshift,_t=Ht.pop,Gt=Ht.shift,Jt=Ht.splice,Lt=Ht.reverse,Xt=Ht.sort,Yt={push:Wt,unshift:Kt,pop:_t,shift:Gt,splice:Jt,reverse:Lt,sort:Xt},Zt=["push","unshift","pop","shift","splice","reverse","sort"],Et={push(){const s=this.bt;if(void 0===s)return Wt.apply(this,arguments);const i=this.length,h=arguments.length;if(0===h)return i;this.length=s.lt.length=i+h;let n=i;for(;this.length>n;)this[n]=arguments[n-i],s.lt[n]=-2,n++;return s.g("push",arguments,t.LifecycleFlags.Js),this.length},unshift(){const s=this.bt;if(void 0===s)return Kt.apply(this,arguments);const i=arguments.length,h=Array(i);let n=0;for(;i>n;)h[n++]=-2;Kt.apply(s.lt,h);const r=Kt.apply(this,arguments);return s.g("unshift",arguments,t.LifecycleFlags.Js),r},pop(){const s=this.bt;if(void 0===s)return _t.call(this);const i=s.lt,h=_t.call(this);return i[i.length-1]>-1&&_t.call(i.vt,h),_t.call(i),s.g("pop",arguments,t.LifecycleFlags.Js),h},shift(){const s=this.bt;if(void 0===s)return Gt.call(this);const i=s.lt,h=Gt.call(this);return i[0]>-1&&Gt.call(i.vt,h),Gt.call(i),s.g("shift",arguments,t.LifecycleFlags.Js),h},splice(s,i){const h=this.bt;if(void 0===h)return Jt.apply(this,arguments);const n=h.lt;if(i>0){let t=isNaN(s)?0:s;const to=t+i;for(;to>t;)n[t]>-1&&Jt.call(n.vt,this[t]),t++}const r=arguments.length;if(r>2){const t=r-2,h=Array(t);let e=0;for(;t>e;)h[e++]=-2;Jt.call(n,s,i,...h)}else 2===r&&Jt.call(n,s,i);const e=Jt.apply(this,arguments);return h.g("splice",arguments,t.LifecycleFlags.Js),e},reverse(){const s=this.bt;if(void 0===s)return Lt.call(this);const i=this.length,h=i/2|0;let n=0;for(;n!==h;){const t=i-n-1,h=this[n],r=s.lt[n],e=s.lt[t];this[n]=this[t],s.lt[n]=e,this[t]=h,s.lt[t]=r,n++}return s.g("reverse",arguments,t.LifecycleFlags.Js),this},sort(s){const i=this.bt;if(void 0===i)return Xt.call(this,s);const h=this.length;if(2>h)return this;U(this,i.lt,0,h,B);let n=0;for(;h>n&&void 0!==this[n];)n++;return void 0!==s&&"function"==typeof s||(s=D),U(this,i.lt,0,n,s),i.g("sort",arguments,t.LifecycleFlags.Js),this}},xt={xe:1,Hs:0,gi:1},def=Object.defineProperty;for(const t of Zt)def(Et[t],"observing",{value:1,xe:0,gi:0,Hs:0});enableArrayObservation(),t.ArrayObserver=class{constructor(t,s){this.T=t,s.bt=this,this.pt=s,this.dt()}},t.ArrayObserver=s([collectionObserver(9)],t.ArrayObserver);const ts=Map.prototype,ss=ts.set,is=ts.clear,hs=ts.delete,ns={set:ss,clear:is,delete:hs},rs=["set","clear","delete"],es={set(s,value){const i=this.bt;if(void 0===i)return ss.call(this,s,value);const h=this.size;if(ss.call(this,s,value),this.size===h){let t=0;for(const h of this.entries()){if(h[0]===s)return h[1]!==value&&(i.lt[t]=-2),this;t++}return this}return i.lt[h]=-2,i.g("set",arguments,t.LifecycleFlags.Js),this},clear(){const s=this.bt;if(void 0===s)return is.call(this);if(this.size>0){const i=s.lt;let h=0;for(const t of this.keys())i[h]>-1&&i.vt.push(t),h++;is.call(this),i.length=0,s.g("clear",arguments,t.LifecycleFlags.Js)}},delete(value){const s=this.bt;if(void 0===s)return hs.call(this,value);if(0===this.size)return 0;let i=0;const h=s.lt;for(const t of this.keys()){if(t===value)return h[i]>-1&&h.vt.push(t),h.splice(i,1),hs.call(this,value);i++}return s.g("delete",arguments,t.LifecycleFlags.Js),0}},os={xe:1,Hs:0,gi:1},cs=Object.defineProperty;for(const t of rs)cs(es[t],"observing",{value:1,xe:0,gi:0,Hs:0});enableMapObservation(),t.MapObserver=class{constructor(t,s){this.T=t,s.bt=this,this.pt=s,this.dt()}},t.MapObserver=s([collectionObserver(6)],t.MapObserver);const us=Set.prototype,ls=us.add,fs=us.clear,as=us.delete,ds={add:ls,clear:fs,delete:as},bs=["add","clear","delete"],ps={add(value){const s=this.bt;if(void 0===s)return ls.call(this,value);const i=this.size;return ls.call(this,value),this.size===i?this:(s.lt[i]=-2,s.g("add",arguments,t.LifecycleFlags.Js),this)},clear(){const s=this.bt;if(void 0===s)return fs.call(this);if(this.size>0){const i=s.lt;let h=0;for(const t of this.keys())i[h]>-1&&i.vt.push(t),h++;fs.call(this),i.length=0,s.g("clear",arguments,t.LifecycleFlags.Js)}},delete(value){const s=this.bt;if(void 0===s)return as.call(this,value);if(0===this.size)return 0;let i=0;const h=s.lt;for(const t of this.keys()){if(t===value)return h[i]>-1&&h.vt.push(t),h.splice(i,1),as.call(this,value);i++}return s.g("delete",arguments,t.LifecycleFlags.Js),0}},ms={xe:1,Hs:0,gi:1},vs=Object.defineProperty;for(const t of bs)vs(ps[t],"observing",{value:1,xe:0,gi:0,Hs:0});enableSetObservation(),t.SetObserver=class{constructor(t,s){this.T=t,s.bt=this,this.pt=s,this.dt()}},t.SetObserver=s([collectionObserver(7)],t.SetObserver);const ws={so:0,io:0};t.CustomSetterObserver=class{constructor(t,s,i){this.M=t,this.$=s,this.q=this.oldValue=void 0,this.ho=i,this.N=0}W(s){this.ho.set.call(this.M,s),this.q!==s&&(this.oldValue=this.q,this.q=s,this.g(s,this.oldValue,t.LifecycleFlags.K))}subscribe(t){this.N||this.no(),this.l(t)}unsubscribe(t){this.p(t)}no(){this.N=1,this.q=this.M[this.$],Reflect.defineProperty(this.M,this.$,{set:t=>{this.W(t)}})}},t.CustomSetterObserver=s([subscriberCollection(t.MutationKind.C)],t.CustomSetterObserver),t.GetterObserver=class{constructor(t,s,i,h,n,r){this.M=s,this.$=i,this.ro=0,this.q=this.oldValue=void 0,this.eo=[],this.oo=[],this.co=t,this.uo=0,this.ho=h,this.lo=new Proxy(s,(function t(s,i){return{get(h,n,r){if(i.fo(n))return Reflect.get(h,n,r);switch(gs.call(h)){case"[object Array]":if(i.ao(s.do(h)),"length"===n)return Reflect.get(h,n,h);case"[object Map]":if(i.ao(s.bo(h)),"size"===n)return Reflect.get(h,n,h);case"[object Set]":if(i.ao(s.po(h)),"size"===n)return Reflect.get(h,n,h);default:i.mo(s.Z(h,n))}return(function(s,i,h,n){const value=Reflect.get(s,i,s);return"function"==typeof value?s[i].bind(s):"object"!=typeof value||null===value?value:new Proxy(value,t(h,n))})(h,n,s,i)}}})(n,this)),Reflect.defineProperty(s,i,{get:()=>this.H()})}mo(t){-1===this.eo.indexOf(t)&&this.eo.push(t)}ao(t){-1===this.oo.indexOf(t)&&this.oo.push(t)}H(){return this.q=0===this.uo||this.ro?Reflect.apply(this.ho.get,this.lo,kernel.PLATFORM.sn):Reflect.apply(this.ho.get,this.M,kernel.PLATFORM.sn),this.q}subscribe(t){this.l(t),1==++this.uo&&this.vo(1)}unsubscribe(t){this.p(t),0==--this.uo&&this.wo()}j(){const s=this.q,i=this.vo(0);s!==i&&this.g(i,s,t.LifecycleFlags.K)}U(){const s=this.q,i=this.vo(0);s!==i&&this.g(i,s,t.LifecycleFlags.ht|t.LifecycleFlags.K)}vo(t){const s=!this.co.so||t;return s&&(this.wo(),this.ro=1),this.q=this.H(),s&&(this.eo.forEach(t=>{t.subscribe(this)}),this.oo.forEach(t=>{t.jt(this)}),this.ro=0),this.q}fo(t){return!this.ro||"$observers"===t}wo(){this.eo.forEach(t=>{t.unsubscribe(this)}),this.eo.length=0,this.oo.forEach(t=>{t.At(this)}),this.oo.length=0}},t.GetterObserver=s([subscriberCollection(t.MutationKind.C)],t.GetterObserver);const gs={}.toString,IDirtyChecker=kernel.DI.Bi("IDirtyChecker").Di(t=>t.singleton(ys)),DirtyCheckSettings={yo:6,disabled:0,warn:1,Co:0,jo(){this.yo=6,this.disabled=0,this.warn=1,this.Co=0}};class ys{constructor(){this.Ao=0,this.To=[]}Oo(s,i){if(DirtyCheckSettings.Co)throw kernel.Reporter.error(800);return DirtyCheckSettings.warn&&kernel.Reporter.write(801),new t.DirtyCheckProperty(this,s,i)}Io(t){this.To.push(t),1===this.To.length&&kernel.PLATFORM.So.add(this.Po,this)}removeProperty(t){this.To.splice(this.To.indexOf(t),1),0===this.To.length&&kernel.PLATFORM.So.remove(this.Po,this)}Po(s){if(DirtyCheckSettings.disabled)return;if(++this.Ao<DirtyCheckSettings.yo)return;this.Ao=0;const i=this.To,h=i.length;let n,r=0;for(;h>r;++r)(n=i[r]).Vo()&&n.flush(t.LifecycleFlags.xs)}}t.DirtyCheckProperty=class{constructor(t,s,i){this.M=s,this.$=i,this.Ro=t}Vo(){return this.oldValue!==this.M[this.$]}flush(s){const i=this.M[this.$];this.g(i,this.oldValue,s|t.LifecycleFlags.K),this.oldValue=i}subscribe(t){this.v()||(this.oldValue=this.M[this.$],this.Ro.Io(this)),this.l(t)}unsubscribe(t){this.p(t)&&!this.v()&&this.Ro.removeProperty(this)}},t.DirtyCheckProperty=s([propertyObserver()],t.DirtyCheckProperty);const Cs=kernel.PLATFORM.oh;class PrimitiveObserver{constructor(t,s){this.ko=1,"length"===s?(this.M=t,this.H=this.Do):this.H=this.Bo}Do(){return this.M.length}Bo(){}}PrimitiveObserver.prototype.W=Cs,PrimitiveObserver.prototype.subscribe=Cs,PrimitiveObserver.prototype.unsubscribe=Cs,PrimitiveObserver.prototype._=Cs;class PropertyAccessor{constructor(t,s){this.M=t,this.$=s}H(){return this.M[this.$]}W(value){this.M[this.$]=value}}const js={}.toString,IObserverLocator=kernel.DI.Bi("IObserverLocator").Wn(),ITargetObserverLocator=kernel.DI.Bi("ITargetObserverLocator").Wn(),ITargetAccessorLocator=kernel.DI.Bi("ITargetAccessorLocator").Wn();class As{constructor(t,s,i,h){this.Fo=[],this.Ro=s,this.T=t,this.Uo=i,this.No=h}static register(t){return kernel.Registration.singleton(IObserverLocator,this).register(t)}Z(t,s){if((function(t){return 1==t.Oi})(t))return t.Vi().Ti(t,s);let i,h=t.Ws;return h&&s in h?h[s]:((i=this.Mo(t,s)).ko||(void 0===h&&(h=this.$o(t)),h[s]=i),i)}zo(t){this.Fo.push(t)}je(t,s){return this.No.Qo(t)?this.Uo.qo(t,s)?this.Z(t,s):this.No.je(this.T,t,s):new PropertyAccessor(t,s)}do(t){return N(this.T,t)}bo(t){return M(this.T,t)}po(t){return $(this.T,t)}$o(t){return t.Ws||this.Ho(t)}Ho(t){const value={};return Reflect.defineProperty(t,"$observers",{Hs:0,gi:0,xe:0,value})||kernel.Reporter.write(0,t),value}Wo(t,s,i){for(let h=0,n=this.Fo.length;n>h;h++){const n=this.Fo[h].Z(t,s,i);if(n)return n}return null}Mo(s,i){if(!(s instanceof Object))return new PrimitiveObserver(s,i);let h=0;if(this.Uo.Qo(s)){const t=this.Uo.Z(this.T,this,s,i);if(null!==t)return t;if(null!==t)return t;h=1}switch(js.call(s)){case"[object Array]":return"length"===i?this.do(s).Ct():this.Ro.Oo(s,i);case"[object Map]":return"size"===i?this.bo(s).Ct():this.Ro.Oo(s,i);case"[object Set]":return"size"===i?this.po(s).Ct():this.Ro.Oo(s,i)}const n=(function(t,name){let s=Object.getOwnPropertyDescriptor(t,name),i=Object.getPrototypeOf(t);for(;void 0===s&&null!==i;)s=Object.getOwnPropertyDescriptor(i,name),i=Object.getPrototypeOf(i);return s})(s,i);if(n&&(n.get||n.set)){if(n.get&&n.get.Z)return n.get.Z(s);return this.Wo(s,i,n)||(h?this.Ro.Oo(s,i):(function(s,i,h,n,r,e){if(0==e.gi)return i.Oo(n,r);if(e.get){const i=n.constructor.computed&&n.constructor.computed[r]||ws;return e.set?i.io?new t.GetterObserver(i,n,r,e,s,h):new t.CustomSetterObserver(n,r,e):new t.GetterObserver(i,n,r,e,s,h)}throw kernel.Reporter.error(18,r)})(this,this.Ro,this.T,s,i,n))}return new t.SetterObserver(s,i)}}As.inject=[ILifecycle,IDirtyChecker,ITargetObserverLocator,ITargetAccessorLocator];const Ts=kernel.PLATFORM.oh;t.SelfObserver=class{constructor(t,s,i){this.M=t,this.$=s,this.q=t[s],this.Fs=i in t?t[i].bind(t):Ts}H(){return this.q}W(s,i){const h=this.q;if(h!==s&&(this.q=s,!(i&t.LifecycleFlags.nt))){const t=this.Fs(s,h);void 0!==t&&(this.q=s=t),this.g(s,h,i)}}},t.SelfObserver=s([propertyObserver()],t.SelfObserver);const{oneTime:Os,Us:Is,nh:Ss,jn:Ps}=t.BindingMode;class BindingModeBehavior{constructor(mode){this.mode=mode}bind(t,s,i){i.Ko=i.mode,i.mode=this.mode}sh(t,s,i){i.mode=i.Ko,i.Ko=null}}class OneTimeBindingBehavior extends BindingModeBehavior{constructor(){super(Os)}}BindingBehaviorResource.zi("oneTime",OneTimeBindingBehavior);class ToViewBindingBehavior extends BindingModeBehavior{constructor(){super(Is)}}BindingBehaviorResource.zi("toView",ToViewBindingBehavior);class FromViewBindingBehavior extends BindingModeBehavior{constructor(){super(Ss)}}BindingBehaviorResource.zi("fromView",FromViewBindingBehavior);class TwoWayBindingBehavior extends BindingModeBehavior{constructor(){super(Ps)}}BindingBehaviorResource.zi("twoWay",TwoWayBindingBehavior);const Vs={},Rs=t.BindingMode.nh;class DebounceBindingBehavior{bind(s,i,h,n=200){let r,e,o;h instanceof t.Binding?(r="handleChange",o=Q,e=h.mode&Rs?t.LifecycleFlags.Ys:t.LifecycleFlags.K):(r="callSource",o=z,e=t.LifecycleFlags.K),h.It=h[r],h.It._o=r,h[r]=o,h.Tt={Pt:e,St:n,Ot:0,oldValue:Vs}}sh(t,s,i){i[i.It._o]=i.It,i.It=null,kernel.PLATFORM.global.clearTimeout(i.Tt.Ot),i.Tt=null}}BindingBehaviorResource.zi("debounce",DebounceBindingBehavior);class SignalBindingBehavior{constructor(t){this.Go=t}bind(t,s,i,...h){if(!i.ge)throw kernel.Reporter.error(11);if(4===arguments.length){const name=h[0];this.Go.Ni(name,i),i.Jo=name}else{if(4>=arguments.length)throw kernel.Reporter.error(12);{const t=[].slice.call(arguments,3);let s=t.length;for(;s--;)this.Go.Ni(t[s],i);i.Jo=t}}}sh(t,s,i){const name=i.Jo;if(i.Jo=null,Array.isArray(name)){const t=name;let s=t.length;for(;s--;)this.Go.Mi(t[s],i)}else this.Go.Mi(name,i)}}SignalBindingBehavior.inject=[ISignaler],BindingBehaviorResource.zi("signal",SignalBindingBehavior);class ThrottleBindingBehavior{bind(s,i,h,n=200){let r;h.kt=h[r=h instanceof t.Binding?h.mode===t.BindingMode.jn?"updateSource":"updateTarget":"callSource"],h.kt._o=r,h[r]=q,h.Vt={St:n,Rt:0,Ot:-1}}sh(t,s,i){i[i.kt._o]=i.kt,i.kt=null,kernel.PLATFORM.global.clearTimeout(i.Vt.Ot),i.Vt=null}}BindingBehaviorResource.zi("throttle",ThrottleBindingBehavior);const ks="custom-element",Ds="custom-attribute";(TargetedInstructionType=t.TargetedInstructionType||(t.TargetedInstructionType={})).Lo="ra",TargetedInstructionType.Xo="rb",TargetedInstructionType.Yo="rc",TargetedInstructionType.Zo="rd",TargetedInstructionType.setProperty="re",TargetedInstructionType.Ze="rf",TargetedInstructionType.Eo="rg",TargetedInstructionType.xo="rh",TargetedInstructionType.tc="ri",TargetedInstructionType.sc="rj",TargetedInstructionType.ic="rk";const ITargetedInstruction=kernel.DI.Bi("createInterface").Wn(),Bs=Object.freeze({required:1,compiler:"default"}),Fs=Object.freeze({required:0,compiler:"default"});class Us{constructor(){this.name="unnamed",this.template=null,this.cache=0,this.build=Fs,this.bindables=kernel.PLATFORM.Dt,this.instructions=kernel.PLATFORM.sn,this.dependencies=kernel.PLATFORM.sn,this.surrogates=kernel.PLATFORM.sn,this.containerless=0,this.shadowOptions=null,this.hasSlots=0}}const Ns=["name","template","cache","build","containerless","shadowOptions","hasSlots"],Ms=["instructions","dependencies","surrogates"],CustomAttributeResource=(kernel.Profiler.hc("AttachLifecycle"),kernel.Profiler.hc("BindLifecycle"),kernel.Profiler.hc("RenderLifecycle"),{name:Ds,G:K,$i(t){return t.kind===this},zi(s,i){const h=i,n=(function(def,s){const aliases=def.aliases,defaultBindingMode=def.defaultBindingMode;return{name:def.name,aliases:null==aliases?kernel.PLATFORM.sn:aliases,defaultBindingMode:null==defaultBindingMode?t.BindingMode.Us:defaultBindingMode,ks:void 0===def.ks?0:def.ks,isTemplateController:void 0===def.isTemplateController?0:def.isTemplateController,bindables:Object.assign({},s.bindables,def.bindables)}})("string"==typeof s?{name:s}:s,h),r=h.prototype;return h.kind=CustomAttributeResource,h.description=n,h.register=at,r.nc=lt,r.ps=nt,r.zt=_,r.Zt=L,r.cs=ot,r.ss=Z,r.As=null,r.ms=null,r.Et=null,r.Qt=null,r.$r=null,r.$scope=null,r.$hooks=0,r.$state=0,"flush"in r&&(r.ut=null),"binding"in r&&(r.$hooks|=4),"bound"in r&&(r.$hooks|=8,r.Vr=null),"unbinding"in r&&(r.$hooks|=256),"unbound"in r&&(r.$hooks|=512,r.zr=null),"created"in r&&(r.$hooks|=2),"attaching"in r&&(r.$hooks|=16),"attached"in r&&(r.$hooks|=32,r.Dr=null),"detaching"in r&&(r.$hooks|=64),"caching"in r&&(r.$hooks|=2048),"detached"in r&&(r.$hooks|=128,r.Nr=null),h}}),INode=kernel.DI.Bi("INode").Wn(),IRenderLocation=kernel.DI.Bi("IRenderLocation").Wn(),IDOM=kernel.DI.Bi("IDOM").Wn(),NodeSequence={empty:{childNodes:kernel.PLATFORM.sn,firstChild:null,lastChild:null,rc:()=>kernel.PLATFORM.sn,insertBefore(t){},ec(t){},remove(){}}};class If{constructor(t,s,i){this.value=0,this.be=i,this.oc=null,this.cc=null,this.uc=t,this.lc=null,this.location=s}fs(t){const s=this.fc(t);this.be.re(s,t),this.be.fs(t,this.$scope)}Ut(t){this.be.Ut(t)}Kt(t){this.be.Kt(t)}ys(t){this.be.ys(t)}xt(t){null!==this.lc&&this.lc.release(t)&&(this.lc=null),null!==this.cc&&this.cc.release(t)&&(this.cc=null),this.be.xt(t)}ac(s,i,h){if(h&t.LifecycleFlags.ht){const t=this.fc(h);this.be.re(t,h)}else this.$lifecycle.A(this).catch(t=>{throw t})}flush(t){const s=this.fc(t);this.be.re(s,t)}fc(t){return this.value?this.lc=this.dc(this.lc,this.uc,t):null!==this.oc?this.cc=this.dc(this.cc,this.oc,t):null}dc(t,s,i){return null===t&&(t=s.create()),t.bc(this.location),t}}If.inject=[IViewFactory,IRenderLocation,CompositionCoordinator],s([bindable],If.prototype,"value",void 0),CustomAttributeResource.zi({name:"if",isTemplateController:1},If);class Else{constructor(t){this.pc=t}link(t){t.oc=this.pc}}Else.inject=[IViewFactory],CustomAttributeResource.zi({name:"else",isTemplateController:1},Else);class Repeat{constructor(t,s,i){this.pc=i,this.mc=0,this.location=t,this.vc=null,this.wc=s,this.gc=[]}fs(t){this.yc()}bound(t){let s=this.wc.bs;for(;null!==s;){if(s.target===this&&"items"===s.we){this.Cc=s.ve;break}s=s.ms}this.jc=this.Cc.un.evaluate(t,this.$scope,null),this.Ac(null,t)}Ut(t){const{gc:s,location:i}=this;for(let h=0,n=s.length;n>h;++h){const n=s[h];n.bc(i),n.zt(t)}}Kt(t){const{gc:s}=this;for(let i=0,h=s.length;h>i;++i){const h=s[i];h.Zt(t),h.release(t)}}Qr(t){this.yc();const{gc:s}=this;for(let i=0,h=s.length;h>i;++i)s[i].cs(t)}Tc(s,i,h){this.yc(),this.Ac(null,h|t.LifecycleFlags.K)}U(s){this.Ac(s,t.LifecycleFlags.ht|t.LifecycleFlags.K)}Ac(t,s){const{gc:i,$lifecycle}=this;if(2&this.$state){const{jc:h,$scope,pc:n,Cc:r,Oc:e}=this,o=i.length,c=r.count(e);if(c>o){i.length=c;for(let t=o;c>t;++t)i[t]=n.create()}else if(o>c){$lifecycle.Ht();for(let t=c,h=i[t];o>t;h=i[++t])h.release(s),h.Zt(s);$lifecycle.Gt(s),$lifecycle.vs();for(let t=c,h=i[t];o>t;h=i[++t])h.cs(s);if($lifecycle.Cs(s),i.length=c,0===c)return}else if(0===c)return;$lifecycle.us(),r.fn(e,null===t?(t,n,r)=>{const e=i[n];e.ps(s,Scope.ki($scope,e.$scope&&e.$scope.Pi[h]===r?e.$scope.Pi:BindingContext.create(h,r)))}:(n,r,e)=>{const o=i[r];o.ps(s,Scope.ki($scope,!o.$scope||t[r]!==r&&o.$scope.Pi[h]!==e?BindingContext.create(h,e):o.$scope.Pi))}),$lifecycle.as(s)}if(8&this.$state){const{location:h}=this;if($lifecycle.Bt(),null===t)for(let t=0,n=i.length;n>t;++t){const n=i[t];n.bc(h),n.zt(s)}else for(let n=0,r=i.length;r>n;++n)if(t[n]!==n){const t=i[n];t.bc(h),t.zt(s)}$lifecycle.Mt(s)}}yc(){const t=this.vc;if(3&this.$state){const s=this.vc=getCollectionObserver(this.$lifecycle,this.Oc);t!==s&&t&&t.At(this),s&&s.jt(this)}else t&&t.At(this)}}Repeat.inject=[IRenderLocation,IRenderable,IViewFactory],s([bindable],Repeat.prototype,"items",void 0),CustomAttributeResource.zi({name:"repeat",isTemplateController:1},Repeat);class Replaceable{constructor(t,s){this.pc=t,this.currentView=this.pc.create(),this.currentView.bc(s)}fs(s){this.currentView.ps(s|t.LifecycleFlags.oi,this.$scope)}Ut(t){this.currentView.zt(t)}Kt(t){this.currentView.Zt(t)}ys(t){this.currentView.cs(t)}}Replaceable.inject=[IViewFactory,IRenderLocation],CustomAttributeResource.zi({name:"replaceable",isTemplateController:1},Replaceable);class With{constructor(t,s){this.value=null,this.pc=t,this.currentView=this.pc.create(),this.currentView.bc(s)}ac(){2&this.$state&&this.Ic(t.LifecycleFlags.hi)}fs(t){this.Ic(t)}Ut(t){this.currentView.zt(t)}Kt(t){this.currentView.Zt(t)}ys(t){this.currentView.cs(t)}Ic(t){const s=Scope.ki(this.$scope,this.value);this.currentView.ps(t,s)}}With.inject=[IViewFactory,IRenderLocation],s([bindable],With.prototype,"value",void 0),CustomAttributeResource.zi({name:"with",isTemplateController:1},With);const IProjectorLocator=kernel.DI.Bi("IProjectorLocator").Wn(),CustomElementResource={name:ks,G:H,$i(t){return t.kind===this},Sc:W,zi(t,s=null){if(!t)throw kernel.Reporter.error(70);const i=null===s?class{}:s,h=buildTemplateDefinition(i,t),n=i.prototype;return i.kind=CustomElementResource,i.description=h,i.register=bt,n.nc=ft,n.ps=rt,n.zt=G,n.Zt=X,n.cs=ct,n.ss=E,n.As=null,n.ms=null,n.Et=null,n.Qt=null,n.$r=null,n.$scope=null,n.$hooks=0,n.bs=null,n.js=null,n.$t=null,n.Yt=null,n.kr=tt,n.Ur=st,n.Rr=null,n.Fr=null,n.ns=null,"flush"in n&&(n.ut=null),"binding"in n&&(n.$hooks|=4),"bound"in n&&(n.$hooks|=8,n.Vr=null),"unbinding"in n&&(n.$hooks|=256),"unbound"in n&&(n.$hooks|=512,n.zr=null),"render"in n&&(n.$hooks|=1024),"created"in n&&(n.$hooks|=2),"attaching"in n&&(n.$hooks|=16),"attached"in n&&(n.$hooks|=32,n.Dr=null),"detaching"in n&&(n.$hooks|=64),"caching"in n&&(n.$hooks|=2048),"detached"in n&&(n.$hooks|=128,n.Nr=null),i}},$s={mode:"open"},ISanitizer=kernel.DI.Bi("ISanitizer").Di(t=>t.singleton(class{Pc(t){return t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}}));class SanitizeValueConverter{constructor(t){this.Vc=t}Us(t){return null==t?null:this.Vc.Pc(t)}}SanitizeValueConverter.inject=[ISanitizer],ValueConverterResource.zi("sanitize",SanitizeValueConverter);class zs{constructor($lifecycle,cache){this.bs=null,this.js=null,this.ms=null,this.As=null,this.$t=null,this.Yt=null,this.Qt=null,this.Et=null,this.Rr=null,this.Fr=null,this.$r=null,this.$state=0,this.$scope=null,this.es=0,this.$lifecycle=$lifecycle,this.cache=cache}bc(t){this.es=0,this.location=t}release(t){return this.es=1,8&this.$state?this.cache.Rc(this):!!this.Ur(t)}kc(t){this.$scope=t,this.ps=mt,this.cs=vt}}class Qs{constructor(name,template,t){this.Dc=0,this.Bc=-1,this.cache=null,this.T=t,this.name=name,this.template=template}Fc(t,s){t&&("*"===t?t=Qs.Uc:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.Bc&&s||(this.Bc=t)),this.cache=this.Bc>0?[]:null,this.Dc=this.Bc>0}Rc(t){return null!==this.cache&&this.Bc>this.cache.length}os(s){return this.Rc(s)?(s.ss(t.LifecycleFlags._s),this.cache.push(s),1):0}create(){const cache=this.cache;let t;if(null!==cache&&cache.length>0)return(t=cache.pop()).$state&=-129,t;if(t=new zs(this.T,this),this.template.Ps(t),!t.$nodes)throw kernel.Reporter.error(90);return t}}Qs.Uc=65535,(t=>{t.ps=et,t.cs=ut,t.zt=J,t.Zt=Y,t.ss=x,t.kr=it,t.Ur=ht})(zs.prototype);const ITemplateCompiler=kernel.DI.Bi("ITemplateCompiler").Wn();(ViewCompileFlags=t.ViewCompileFlags||(t.ViewCompileFlags={}))[ViewCompileFlags._s=1]="none",ViewCompileFlags[ViewCompileFlags.Nc=2]="surrogate",ViewCompileFlags[ViewCompileFlags.Mc=4]="shadowDOM";const ITemplateFactory=kernel.DI.Bi("ITemplateFactory").Wn(),qs={$c:null,dom:null,Ps(t){t.$nodes=NodeSequence.empty,t.$context=null}},Hs="default",IInstructionRenderer=kernel.DI.Bi("IInstructionRenderer").Wn(),IRenderer=kernel.DI.Bi("IRenderer").Wn(),IRenderingEngine=kernel.DI.Bi("IRenderingEngine").Di(t=>t.singleton(Ws));class Ws{constructor(t,s,i,h){this.zc=new Map,this.Qc=t,this.qc=s,this.Hc=new Map,this.T=i,this.Wc=new Map,this.Kc=h.reduce((t,s)=>(t[s.name]=s,t),Object.create(null))}Vs(dom,t,s,i){if(!t)return null;let h=this.Wc.get(t);return h||(h=this._c(dom,t,s,i),this.Wc.set(t,h)),h}Gc(dom,t,s){if(!t)return null;let i=this.Hc.get(t);if(!i){const h=buildTemplateDefinition(null,t),template=this._c(dom,h,s,null);(i=new Qs(h.name,template,this.T)).Fc(h.cache,1),this.Hc.set(t,i)}return i}Ts(t,s){let i=this.zc.get(t);i||(i=Js.create(t),this.zc.set(t,i)),i.Jc(s,this.T)}_c(dom,s,i,h){if(null===i&&(i=this.Qc),null!==s.template){const n=createRenderContext(dom,i,s.dependencies,h);if(s.build.required){const i=s.build.compiler||Hs,compiler=this.Kc[i];if(void 0===compiler)throw kernel.Reporter.error(20,i);s=compiler.compile(dom,s,new kernel.RuntimeCompilationResources(n),t.ViewCompileFlags.Nc)}return this.qc.create(n,s)}return qs}}Ws.inject=[kernel.IContainer,ITemplateFactory,ILifecycle,kernel.all(ITemplateCompiler)];class Ks{constructor(){this.C=null}qs(t){this.C=t}resolve(t,s){if(void 0===this.C)throw kernel.Reporter.error(50);return this.C}_(){this.C=null}}class _s{qs(t,parts){this.pc=t,this.Lc=parts||kernel.PLATFORM.Dt}resolve(t,s){const i=this.pc;if(null==i)throw kernel.Reporter.error(50);if(!i.name||!i.name.length)throw kernel.Reporter.error(51);const h=this.Lc[i.name];if(h){const i=t.get(IRenderingEngine),dom=t.get(IDOM);return i.Gc(dom,h,s)}return i}_(){this.pc=null,this.Lc=kernel.PLATFORM.Dt}}let Gs=class{constructor(t,customElement){this.gt=0,this.children=null,this.customElement=customElement,this.T=t,this.N=0}H(){return this.N||(this.N=1,this.customElement.ns.Xc(()=>{this.Yc()}),this.children=wt(this.customElement.ns.children)),this.children}W(t){}flush(s){this.g(this.children,void 0,s|t.LifecycleFlags.K),this.gt=0}subscribe(t){this.l(t)}unsubscribe(t){this.p(t)}Yc(){this.children=wt(this.customElement.ns.children),"$childrenChanged"in this.customElement&&this.customElement.Zc(),this.T.A(this).catch(t=>{throw t}),this.gt=1}};Gs=s([subscriberCollection(t.MutationKind.C)],Gs);class Js{constructor(){}static create(t){const s=new Js;return s.bindables=t.description.bindables,s}Jc(t,s){t.$lifecycle=s,"$projector"in t?this.Ec(s,t):this.xc(t)}Ec(t,s){this.xc(s).tu=new Gs(t,s),Reflect.defineProperty(s,"$children",{Hs:0,get(){return this.Ws.tu.H()}})}xc(s){const i={},bindables=this.bindables,h=Object.getOwnPropertyNames(bindables);for(let n=0,r=h.length;r>n;++n){const name=h[n];i[name]=new t.SelfObserver(s,name,bindables[name].Fs),gt(s,name)}return Reflect.defineProperty(s,"$observers",{Hs:0,value:i}),i}}kernel.Profiler.hc("Aurelia.start"),kernel.Profiler.hc("Aurelia.stop");class Aurelia{constructor(t=kernel.DI.su()){this.Qc=t,this.iu=[],this.hu=[],this.nu=[],this.ru=0,this.eu=null,kernel.Registration.C(Aurelia,this).register(t,Aurelia)}register(...t){return this.Qc.register(...t),this}app(s){const host=s.host;let dom,component;if(this.Qc.has(IDOM,0))dom=this.Qc.get(IDOM);else{const t=this.Qc.get(IDOMInitializer);dom=t.initialize(s)}const i=s.component;CustomElementResource.$i(i)?(this.Qc.register(i),component=this.Qc.get(CustomElementResource.G(i.description.name))):component=i;const h=()=>{if(host.$au=this,!this.iu.includes(component)){this.eu=component,this.iu.push(component);const t=this.Qc.get(IRenderingEngine),s=this.Qc.get(IProjectorLocator);component.nc(dom,s,t,host,this.Qc)}component.ps(t.LifecycleFlags.ti|t.LifecycleFlags.nt,null),component.zt(t.LifecycleFlags.ti|t.LifecycleFlags.Ft)};return this.hu.push(h),this.nu.push(()=>{component.Zt(t.LifecycleFlags.Lt|t.LifecycleFlags.Wt),component.cs(t.LifecycleFlags.Lt|t.LifecycleFlags.ws),host.$au=null}),this.ru&&h(),this}root(){return this.eu}start(){for(const t of this.hu)t();return this.ru=1,this}stop(){this.ru=0;for(const t of this.nu)t();return this}}kernel.PLATFORM.global.Aurelia=Aurelia;const IDOMInitializer=kernel.DI.Bi("IDOMInitializer").Wn();class Ls{constructor(t){const s=this.ou={};t.forEach(t=>{s[t.Ks]=t})}static register(t){return kernel.Registration.singleton(IRenderer,this).register(t)}Ps(dom,t,s,targets,i,host,parts){const h=i.instructions,n=this.ou;if(targets.length!==h.length)throw kernel.Reporter.error(targets.length>h.length?30:31);for(let i=0,r=targets.length;r>i;++i){const instructions=h[i],r=targets[i];for(let i=0,h=instructions.length;h>i;++i){const h=instructions[i];n[h.type].Ps(dom,t,s,r,h,parts)}}if(host){const h=i.surrogates;for(let i=0,r=h.length;r>i;++i){const r=h[i];n[r.type].Ps(dom,t,s,host,r,parts)}}}}Ls.inject=[kernel.all(IInstructionRenderer)];let Xs=class{Ps(dom,t,s,i,h){i[h.to]=h.value}};Xs=s([instructionRenderer("re")],Xs);let Ys=class{constructor(t){this.cu=t}Ps(dom,t,s,i,h){const n=t.Qs(s,i,h,null,null,i,1),component=t.get(H(h.res)),r=t.get(IRenderer).ou,e=t.get(IProjectorLocator),o=h.instructions;component.nc(dom,e,this.cu,i,t,h);for(let i=0,h=o.length;h>i;++i){const h=o[i];r[h.type].Ps(dom,t,s,component,h)}addBindable(s,component),addAttachable(s,component),n._()}};Ys.inject=[IRenderingEngine],Ys=s([instructionRenderer("ra")],Ys);let Zs=class{constructor(t){this.cu=t}Ps(dom,t,s,i,h){const n=t.Qs(s,i,h),component=t.get(K(h.res)),r=t.get(IRenderer).ou,e=h.instructions;component.nc(this.cu);for(let i=0,h=e.length;h>i;++i){const h=e[i];r[h.type].Ps(dom,t,s,component,h)}addBindable(s,component),addAttachable(s,component),n._()}};Zs.inject=[IRenderingEngine],Zs=s([instructionRenderer("rb")],Zs);let Es=class{constructor(t){this.cu=t}Ps(dom,t,s,i,h,parts){const n=this.cu.Gc(dom,h.def,t),r=t.Qs(s,i,h,n,parts,dom.uu(i),0),component=t.get(K(h.res)),e=t.get(IRenderer).ou,o=h.instructions;component.nc(this.cu),h.link&&component.link(s.Yt);for(let i=0,h=o.length;h>i;++i){const h=o[i];e[h.type].Ps(dom,t,s,component,h)}addBindable(s,component),addAttachable(s,component),r._()}};Es.inject=[IRenderingEngine],Es=s([instructionRenderer("rc")],Es);let xs=class{constructor(t,s){this.lu=t,this.tt=s}Ps(dom,s,i,h,n){dom.remove(h);const r=n.instructions,toViewModel=n.toViewModel;for(let h=0,n=r.length;n>h;++h){const n=r[h],e=ensureExpression(this.lu,n.from,48);addBindable(i,new t.LetBinding(e,n.to,this.tt,s,toViewModel))}}};xs.inject=[IExpressionParser,IObserverLocator],xs=s([instructionRenderer("rd")],xs);let ti=class{constructor(t,s){this.lu=t,this.tt=s}Ps(dom,t,s,i,h){const n=ensureExpression(this.lu,h.from,153);addBindable(s,new Call(n,i,h.to,this.tt,t))}};ti.inject=[IExpressionParser,IObserverLocator],ti=s([instructionRenderer("rh")],ti);let si=class{constructor(t){this.lu=t}Ps(dom,t,s,i,h){const n=ensureExpression(this.lu,h.from,1280);addBindable(s,new Ref(n,i,t))}};si.inject=[IExpressionParser],si=s([instructionRenderer("rj")],si);let ii=class{constructor(t,s){this.lu=t,this.tt=s}Ps(dom,s,i,h,n){let bindable;const r=ensureExpression(this.lu,n.from,2048);addBindable(i,bindable=r.dn?new MultiInterpolationBinding(this.tt,r,h,n.to,t.BindingMode.Us,s):new t.InterpolationBinding(r.bn,r,h,n.to,t.BindingMode.Us,this.tt,s,1))}};ii.inject=[IExpressionParser,IObserverLocator],ii=s([instructionRenderer("rf")],ii);let hi=class{constructor(t,s){this.lu=t,this.tt=s}Ps(dom,s,i,h,n){const r=ensureExpression(this.lu,n.from,48|n.mode);addBindable(i,new t.Binding(r,h,n.to,n.mode,this.tt,s))}};hi.inject=[IExpressionParser,IObserverLocator],hi=s([instructionRenderer("rg")],hi);let ni=class{constructor(t,s){this.lu=t,this.tt=s}Ps(dom,s,i,h,n){const r=ensureExpression(this.lu,n.from,539);addBindable(i,new t.Binding(r,h,n.to,t.BindingMode.Us,this.tt,s))}};ni.inject=[IExpressionParser,IObserverLocator],ni=s([instructionRenderer("rk")],ni);const ri=As,ei=kt,oi=Ls,DefaultComponents=[ri,ei,oi],IfRegistration=If,ElseRegistration=Else,RepeatRegistration=Repeat,ReplaceableRegistration=Replaceable,WithRegistration=With,SanitizeValueConverterRegistration=SanitizeValueConverter,DebounceBindingBehaviorRegistration=DebounceBindingBehavior,OneTimeBindingBehaviorRegistration=OneTimeBindingBehavior,ToViewBindingBehaviorRegistration=ToViewBindingBehavior,FromViewBindingBehaviorRegistration=FromViewBindingBehavior,SignalBindingBehaviorRegistration=SignalBindingBehavior,ThrottleBindingBehaviorRegistration=ThrottleBindingBehavior,TwoWayBindingBehaviorRegistration=TwoWayBindingBehavior,DefaultResources=[IfRegistration,ElseRegistration,RepeatRegistration,ReplaceableRegistration,WithRegistration,SanitizeValueConverterRegistration,DebounceBindingBehaviorRegistration,OneTimeBindingBehaviorRegistration,ToViewBindingBehaviorRegistration,FromViewBindingBehaviorRegistration,SignalBindingBehaviorRegistration,ThrottleBindingBehaviorRegistration,TwoWayBindingBehaviorRegistration],DefaultRenderers=[hi,ni,ti,si,ii,Xs,Ys,Zs,Es,xs],ci={register:t=>t.register(...DefaultComponents,...DefaultResources,...DefaultRenderers),su(){return this.register(kernel.DI.su())}};return t.CallFunction=CallFunction,t.connects=function(t){return 32==(32&t.J)},t.observes=function(t){return 64==(64&t.J)},t.callsFunction=function(t){return 128==(128&t.J)},t.hasAncestor=function(t){return 256==(256&t.J)},t.isAssignable=function(t){return 8192==(8192&t.J)},t.isLeftHandSide=function(t){return 1024==(1024&t.J)},t.isPrimary=function(t){return 512==(512&t.J)},t.isResource=function(t){return 32768==(32768&t.J)},t.hasBind=hasBind,t.hasUnbind=hasUnbind,t.isLiteral=isLiteral,t.arePureLiterals=arePureLiterals,t.isPureLiteral=isPureLiteral,t.BindingBehavior=BindingBehavior,t.ValueConverter=ValueConverter,t.Assign=Assign,t.Conditional=Conditional,t.AccessThis=AccessThis,t.AccessScope=AccessScope,t.AccessMember=AccessMember,t.AccessKeyed=AccessKeyed,t.CallScope=CallScope,t.CallMember=CallMember,t.Binary=Binary,t.Unary=Unary,t.PrimitiveLiteral=PrimitiveLiteral,t.HtmlLiteral=HtmlLiteral,t.ArrayLiteral=ArrayLiteral,t.ObjectLiteral=ObjectLiteral,t.Template=Template,t.TaggedTemplate=TaggedTemplate,t.ArrayBindingPattern=ArrayBindingPattern,t.ObjectBindingPattern=ObjectBindingPattern,t.BindingIdentifier=BindingIdentifier,t.ForOfStatement=ForOfStatement,t.Interpolation=Interpolation,t.Call=Call,t.connectable=connectable,t.IExpressionParser=IExpressionParser,t.MultiInterpolationBinding=MultiInterpolationBinding,t.Ref=Ref,t.enableArrayObservation=enableArrayObservation,t.disableArrayObservation=function(){for(const t of Zt)1==Ht[t].N&&def(Ht,t,Object.assign({},xt,{value:Yt[t]}))},t.enableMapObservation=enableMapObservation,t.disableMapObservation=function(){for(const t of rs)1==ts[t].N&&cs(ts,t,Object.assign({},os,{value:ns[t]}))},t.enableSetObservation=enableSetObservation,t.disableSetObservation=function(){for(const t of bs)1==us[t].N&&vs(us,t,Object.assign({},ms,{value:ds[t]}))},t.BindingContext=BindingContext,t.Scope=Scope,t.OverrideContext=OverrideContext,t.collectionObserver=collectionObserver,t.computed=function(t){return function(s,i){(s.computed||(s.computed={}))[i]=t}},t.IDirtyChecker=IDirtyChecker,t.DirtyCheckSettings=DirtyCheckSettings,t.IObserverLocator=IObserverLocator,t.ITargetObserverLocator=ITargetObserverLocator,t.ITargetAccessorLocator=ITargetAccessorLocator,t.getCollectionObserver=getCollectionObserver,t.PrimitiveObserver=PrimitiveObserver,t.PropertyAccessor=PropertyAccessor,t.propertyObserver=propertyObserver,t.ISignaler=ISignaler,t.subscriberCollection=subscriberCollection,t.batchedSubscriberCollection=batchedSubscriberCollection,t.targetObserver=targetObserver,t.bindingBehavior=function(t){return s=>BindingBehaviorResource.zi(t,s)},t.BindingBehaviorResource=BindingBehaviorResource,t.BindingModeBehavior=BindingModeBehavior,t.OneTimeBindingBehavior=OneTimeBindingBehavior,t.ToViewBindingBehavior=ToViewBindingBehavior,t.FromViewBindingBehavior=FromViewBindingBehavior,t.TwoWayBindingBehavior=TwoWayBindingBehavior,t.DebounceBindingBehavior=DebounceBindingBehavior,t.SignalBindingBehavior=SignalBindingBehavior,t.ThrottleBindingBehavior=ThrottleBindingBehavior,t.customAttribute=function(t){return s=>CustomAttributeResource.zi(t,s)},t.CustomAttributeResource=CustomAttributeResource,t.dynamicOptions=function(t){return void 0===t?dt:dt(t)},t.templateController=function(t){return s=>CustomAttributeResource.zi("string"==typeof t?{isTemplateController:1,name:t}:Object.assign({isTemplateController:1},t),s)},t.If=If,t.Else=Else,t.Repeat=Repeat,t.Replaceable=Replaceable,t.With=With,t.containerless=function(t){return void 0===t?pt:pt(t)},t.customElement=function(t){return s=>CustomElementResource.zi(t,s)},t.CustomElementResource=CustomElementResource,t.IProjectorLocator=IProjectorLocator,t.useShadowDOM=function(t){function s(t){return t.shadowOptions=i,t}const i="function"!=typeof t&&t?t:$s;return"function"==typeof t?s(t):s},t.valueConverter=function(t){return s=>ValueConverterResource.zi(t,s)},t.ValueConverterResource=ValueConverterResource,t.ISanitizer=ISanitizer,t.SanitizeValueConverter=SanitizeValueConverter,t.bindable=bindable,t.Aurelia=Aurelia,t.IDOMInitializer=IDOMInitializer,t.IfRegistration=IfRegistration,t.ElseRegistration=ElseRegistration,t.RepeatRegistration=RepeatRegistration,t.ReplaceableRegistration=ReplaceableRegistration,t.WithRegistration=WithRegistration,t.SanitizeValueConverterRegistration=SanitizeValueConverterRegistration,t.DebounceBindingBehaviorRegistration=DebounceBindingBehaviorRegistration,t.OneTimeBindingBehaviorRegistration=OneTimeBindingBehaviorRegistration,t.ToViewBindingBehaviorRegistration=ToViewBindingBehaviorRegistration,t.FromViewBindingBehaviorRegistration=FromViewBindingBehaviorRegistration,t.SignalBindingBehaviorRegistration=SignalBindingBehaviorRegistration,t.ThrottleBindingBehaviorRegistration=ThrottleBindingBehaviorRegistration,t.TwoWayBindingBehaviorRegistration=TwoWayBindingBehaviorRegistration,t.BasicResources=DefaultResources,t.ObserverLocatorRegistration=ri,t.LifecycleRegistration=ei,t.RendererRegistration=oi,t.BasicConfiguration=ci,t.buildTemplateDefinition=buildTemplateDefinition,t.isTargetedInstruction=function(value){const type=value.type;return"string"==typeof type&&2===type.length},t.ITargetedInstruction=ITargetedInstruction,t.INode=INode,t.IRenderLocation=IRenderLocation,t.IDOM=IDOM,t.NodeSequence=NodeSequence,t.CallBindingInstruction=class{constructor(from,to){this.type="rh",this.from=from,this.to=to}},t.FromViewBindingInstruction=class{constructor(from,to){this.type="rg",this.from=from,this.mode=t.BindingMode.nh,this.oneTime=0,this.to=to}},t.HydrateAttributeInstruction=class{constructor(res,instructions){this.type="rb",this.instructions=instructions,this.res=res}},t.HydrateElementInstruction=class{constructor(res,instructions,parts){this.type="ra",this.instructions=instructions,this.parts=parts,this.res=res}},t.HydrateTemplateController=class{constructor(def,res,instructions,link){this.type="rc",this.def=def,this.instructions=instructions,this.link=link,this.res=res}},t.InterpolationInstruction=class{constructor(from,to){this.type="rf",this.from=from,this.to=to}},t.IteratorBindingInstruction=class{constructor(from,to){this.type="rk",this.from=from,this.to=to}},t.LetBindingInstruction=class{constructor(from,to){this.type="ri",this.from=from,this.to=to}},t.LetElementInstruction=class{constructor(instructions,toViewModel){this.type="rd",this.instructions=instructions,this.toViewModel=toViewModel}},t.OneTimeBindingInstruction=class{constructor(from,to){this.type="rg",this.from=from,this.mode=t.BindingMode.oneTime,this.oneTime=1,this.to=to}},t.RefBindingInstruction=class{constructor(from){this.type="rj",this.from=from}},t.SetPropertyInstruction=class{constructor(value,to){this.type="re",this.to=to,this.value=value}},t.ToViewBindingInstruction=class{constructor(from,to){this.type="rg",this.from=from,this.mode=t.BindingMode.Us,this.oneTime=0,this.to=to}},t.TwoWayBindingInstruction=class{constructor(from,to){this.type="rg",this.type="rg",this.from=from,this.mode=t.BindingMode.jn,this.oneTime=0,this.to=to}},t.AggregateLifecycleTask=AggregateLifecycleTask,t.CompositionCoordinator=CompositionCoordinator,t.ILifecycle=ILifecycle,t.IRenderable=IRenderable,t.IViewFactory=IViewFactory,t.LifecycleTask=LifecycleTask,t.PromiseTask=class{constructor(t,s){this.done=0,this.pe=0,this.Fs=s,this.mr=t.then(value=>{if(1!=this.pe)return this.done=1,this.Fs(value),value})}ue(){return!this.done}cancel(){this.ue()&&(this.pe=1)}le(){return this.mr}},t.stringifyLifecycleFlags=function(s){const i=[];return s&t.LifecycleFlags.X&&i.push("mustEvaluate"),s&t.LifecycleFlags.Js&&i.push("isCollectionMutation"),s&t.LifecycleFlags.Ls&&i.push("isInstanceMutation"),s&t.LifecycleFlags.Xs&&i.push("updateTargetObserver"),s&t.LifecycleFlags.K&&i.push("updateTargetInstance"),s&t.LifecycleFlags.Ys&&i.push("updateSourceExpression"),s&t.LifecycleFlags.Zs&&i.push("fromAsyncFlush"),s&t.LifecycleFlags.Es&&i.push("fromSyncFlush"),s&t.LifecycleFlags.ti&&i.push("fromStartTask"),s&t.LifecycleFlags.Lt&&i.push("fromStopTask"),s&t.LifecycleFlags.nt&&i.push("fromBind"),s&t.LifecycleFlags.ws&&i.push("fromUnbind"),s&t.LifecycleFlags.Ft&&i.push("fromAttach"),s&t.LifecycleFlags.Wt&&i.push("fromDetach"),s&t.LifecycleFlags.ts&&i.push("fromCache"),s&t.LifecycleFlags.si&&i.push("fromDOMEvent"),s&t.LifecycleFlags.ii&&i.push("fromObserverSetter"),s&t.LifecycleFlags.hi&&i.push("fromBindableHandler"),s&t.LifecycleFlags.ni&&i.push("fromLifecycleTask"),s&t.LifecycleFlags.Jt&&i.push("parentUnmountQueued"),s&t.LifecycleFlags.et&&i.push("doNotUpdateDOM"),s&t.LifecycleFlags.ri&&i.push("isTraversingParentScope"),s&t.LifecycleFlags.oi&&i.push("allowParentScopeTraversal"),i.join("|")},t.instructionRenderer=instructionRenderer,t.ensureExpression=ensureExpression,t.addAttachable=addAttachable,t.addBindable=addBindable,t.CompiledTemplate=class{constructor(dom,t,s,i){this.dom=dom,this.fu=t,this.pc=s,this.$c=i}Ps(t,host,parts){const s=t.$nodes=this.pc.du();t.$context=this.$c,this.$c.Ps(t,s.rc(),this.fu,host,parts)}},t.createRenderContext=createRenderContext,t.IInstructionRenderer=IInstructionRenderer,t.IRenderer=IRenderer,t.IRenderingEngine=IRenderingEngine,t.ITemplateCompiler=ITemplateCompiler,t.ITemplateFactory=ITemplateFactory,t})({},kernel);
