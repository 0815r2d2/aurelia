function stringifyLifecycleFlags(t){const e=[];return t&LifecycleFlags.t&&e.push("mustEvaluate"),t&LifecycleFlags.i&&e.push("isCollectionMutation"),t&LifecycleFlags.s&&e.push("isInstanceMutation"),t&LifecycleFlags.o&&e.push("updateTargetObserver"),t&LifecycleFlags.h&&e.push("updateTargetInstance"),t&LifecycleFlags.l&&e.push("updateSourceExpression"),t&LifecycleFlags.u&&e.push("fromAsyncFlush"),t&LifecycleFlags.g&&e.push("fromSyncFlush"),t&LifecycleFlags.p&&e.push("fromStartTask"),t&LifecycleFlags.m&&e.push("fromStopTask"),t&LifecycleFlags.R&&e.push("fromBind"),t&LifecycleFlags.v&&e.push("fromUnbind"),t&LifecycleFlags.L&&e.push("fromAttach"),t&LifecycleFlags.B&&e.push("fromDetach"),t&LifecycleFlags.F&&e.push("fromCache"),t&LifecycleFlags.I&&e.push("fromDOMEvent"),t&LifecycleFlags.O&&e.push("fromObserverSetter"),t&LifecycleFlags.C&&e.push("fromBindableHandler"),t&LifecycleFlags.T&&e.push("fromLifecycleTask"),t&LifecycleFlags.A&&e.push("parentUnmountQueued"),t&LifecycleFlags.S&&e.push("doNotUpdateDOM"),t&LifecycleFlags.P&&e.push("isTraversingParentScope"),t&LifecycleFlags.$&&e.push("allowParentScopeTraversal"),e.join("|")}function __decorate(t,e,i,s){var r,n,o=arguments.length,h=3>o?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.M)h=Reflect.M(t,e,i,s);else for(n=t.length-1;n>=0;n--)(r=t[n])&&(h=(3>o?r(h):o>3?r(e,i,h):r(e,i))||h);return o>3&&h&&Object.defineProperty(e,i,h),h}function subscriberCollection(t){return function(e){const i=e.prototype;i.V=0,i.D=null,i.k=null,i.j=null,i._=null,i.N=addSubscriber,i.K=removeSubscriber,i.U=hasSubscriber,i.q=hasSubscribers,i.W=t===MutationKind.H?callPropertySubscribers:callCollectionSubscribers}}function addSubscriber(t){if(this.U(t))return 0;const e=this.V;return 1&e?2&e?4&e?8&e?(this._.push(t),1):(this._=[t],this.V|=8,1):(this.j=t,this.V|=4,1):(this.k=t,this.V|=2,1):(this.D=t,this.V|=1,1)}function removeSubscriber(t){const e=this.V;if(1&e&&this.D===t)return this.D=null,this.V&=-2,1;if(2&e&&this.k===t)return this.k=null,this.V&=-3,1;if(4&e&&this.j===t)return this.j=null,this.V&=-5,1;if(8&e){const e=this._;for(let i=0,s=e.length;s>i;++i)if(e[i]===t)return e.splice(i,1),1===s&&(this.V&=-9),1}return 0}function callPropertySubscribers(t,e,i){const s=this.D,r=this.k,n=this.j;let o=this._;null!==o&&(o=o.slice()),null!==s&&s.G(t,e,i),null!==r&&r.G(t,e,i),null!==n&&n.G(t,e,i);const h=o&&o.length;if(void 0!==h&&h>0)for(let s=0;h>s;++s){const r=o[s];null!==r&&r.G(t,e,i)}}function callCollectionSubscribers(t,e,i){const s=this.D,r=this.k,n=this.j;let o=this._;null!==o&&(o=o.slice()),null!==s&&s.G(t,e,i),null!==r&&r.G(t,e,i),null!==n&&n.G(t,e,i);const h=o&&o.length;if(void 0!==h&&h>0)for(let s=0;h>s;++s){const r=o[s];null!==r&&r.G(t,e,i)}this.J.X(this).catch(t=>{throw t})}function hasSubscribers(){return 0!==this.V}function hasSubscriber(t){const e=this.V;if(1&e&&this.D===t)return 1;if(2&e&&this.k===t)return 1;if(4&e&&this.j===t)return 1;if(8&e){const e=this._;for(let i=0,s=e.length;s>i;++i)if(e[i]===t)return 1}return 0}function batchedSubscriberCollection(){return function(t){const e=t.prototype;e.Y=0,e.Z=null,e.tt=null,e.et=null,e.it=null,e.st=addBatchedSubscriber,e.rt=removeBatchedSubscriber,e.nt=hasBatchedSubscriber,e.ot=hasBatchedSubscribers,e.ht=callBatchedCollectionSubscribers}}function addBatchedSubscriber(t){if(this.nt(t))return 0;const e=this.Y;return 1&e?2&e?4&e?8&e?(this.it.push(t),1):(this.it=[t],this.Y|=8,1):(this.et=t,this.Y|=4,1):(this.tt=t,this.Y|=2,1):(this.Z=t,this.Y|=1,1)}function removeBatchedSubscriber(t){const e=this.Y;if(1&e&&this.Z===t)return this.Z=null,this.Y&=-2,1;if(2&e&&this.tt===t)return this.tt=null,this.Y&=-3,1;if(4&e&&this.et===t)return this.et=null,this.Y&=-5,1;if(8&e){const e=this.it;for(let i=0,s=e.length;s>i;++i)if(e[i]===t)return e.splice(i,1),1===s&&(this.Y&=-9),1}return 0}function callBatchedCollectionSubscribers(t){const e=this.Z,i=this.tt,s=this.et;let r=this.it;null!==r&&(r=r.slice()),null!==e&&e.ct(t),null!==i&&i.ct(t),null!==s&&s.ct(t);const n=r&&r.length;if(void 0!==n&&n>0)for(let e=0;n>e;++e){const i=r[e];null!==i&&i.ct(t)}}function hasBatchedSubscribers(){return 0!==this.Y}function hasBatchedSubscriber(t){const e=this.Y;if(1&e&&this.Z===t)return 1;if(2&e&&this.tt===t)return 1;if(4&e&&this.et===t)return 1;if(8&e){const e=this.it;for(let i=0,s=e.length;s>i;++i)if(e[i]===t)return 1}return 0}function subscribe(t){if(0==this.lt){this.lt=1;const{at:t,ut:e}=this;this.dt=t[e],observedPropertyDescriptor.get=(()=>this.ft()),observedPropertyDescriptor.set=(value=>{this.gt(value,LifecycleFlags.h)}),defineProperty(t,e,observedPropertyDescriptor)||Reporter.write(1,e,t)}this.N(t)}function dispose(){delete this.at[this.ut],this.at=null,this.ut=null,this.dt=null}function propertyObserver(){return function(t){subscriberCollection(MutationKind.H)(t);const e=t.prototype;e.lt=0,e.at=null,e.ut=null,e.dt=Symbol(),e.subscribe=e.subscribe||subscribe,e.unsubscribe=e.unsubscribe||e.K,e.pt=e.pt||dispose}}function register(t){const e=BindingBehaviorResource.bt(this.description.name);t.register(Registration.singleton(e,this))}function bindingBehavior(t){return e=>BindingBehaviorResource.yt(t,e)}function keyFrom(name){return`${this.name}:${name}`}function isType(t){return t.kind===this}function define(t,e){const i=e,s="string"==typeof t?{name:t}:t;return i.kind=BindingBehaviorResource,i.description=s,i.register=register,i}function register$1(t){const e=this.kind.bt(this.description.name);t.register(Registration.singleton(e,this))}function valueConverter(t){return e=>ValueConverterResource.yt(t,e)}function keyFrom$1(name){return`${this.name}:${name}`}function isType$1(t){return t.kind===this}function define$1(t,e){const i=e,s="string"==typeof t?{name:t}:t;return i.kind=ValueConverterResource,i.description=s,i.register=register$1,i}function connects(t){return 32==(32&t.Rt)}function observes(t){return 64==(64&t.Rt)}function callsFunction(t){return 128==(128&t.Rt)}function hasAncestor(t){return 256==(256&t.Rt)}function isAssignable(t){return 8192==(8192&t.Rt)}function isLeftHandSide(t){return 1024==(1024&t.Rt)}function isPrimary(t){return 512==(512&t.Rt)}function isResource(t){return 32768==(32768&t.Rt)}function hasBind(t){return 2048==(2048&t.Rt)}function hasUnbind(t){return 4096==(4096&t.Rt)}function isLiteral(t){return 16384==(16384&t.Rt)}function arePureLiterals(t){if(void 0===t||0===t.length)return 1;for(let e=0;t.length>e;++e)if(!isPureLiteral(t[e]))return 0;return 1}function isPureLiteral(t){if(isLiteral(t))switch(t.Rt){case 17955:return arePureLiterals(t.elements);case 17956:return arePureLiterals(t.values);case 17958:return arePureLiterals(t.vt);case 17925:return 1}return 0}function evalList(t,e,i,s){const r=s.length,n=Array(r);for(let o=0;r>o;++o)n[o]=s[o].evaluate(t,e,i);return n}function getFunction(t,e,name){const i=null==e?null:e[name];if("function"==typeof i)return i;if(!(t&LifecycleFlags.t)&&null==i)return null;throw Reporter.error(207,e,name,i)}function isNumeric(value){const t=typeof value;if("number"===t)return 1;if("string"!==t)return 0;const e=value.length;if(0===e)return 0;for(let t=0;e>t;++t){const e=value.charCodeAt(t);if(48>e||e>57)return 0}return 1}function ensureEnoughSlotNames(t){if(t===lastSlot){const e=slotNames.length=versionSlotNames.length=(lastSlot+=5)+1;for(let i=t+1;e>i;++i)slotNames[i]=`_observer${i}`,versionSlotNames[i]=`_observerVersion${i}`}}function addObserver(t){const e=void 0===this.Lt?0:this.Lt;let i=e;for(;i--&&this[slotNames[i]]!==t;);if(-1===i){for(i=0;this[slotNames[i]];)i++;this[slotNames[i]]=t,t.subscribe(this),i===e&&(this.Lt=i+1)}void 0===this.version&&(this.version=0),this[versionSlotNames[i]]=this.version,ensureEnoughSlotNames(i)}function observeProperty(t,e){const i=this.Ft.Bt(t,e);this.It(i)}function unobserve(t){const e=this.Lt;let i,s;if(1==t)for(let t=0;e>t;++t)null!=(s=this[i=slotNames[t]])&&(this[i]=null,s.unsubscribe(this));else{const t=this.version;for(let r=0;e>r;++r)this[versionSlotNames[r]]!==t&&null!=(s=this[i=slotNames[r]])&&(this[i]=null,s.unsubscribe(this))}}function connectableDecorator(t){const e=t.prototype;return e.hasOwnProperty("observeProperty")||(e.Ot=observeProperty),e.hasOwnProperty("unobserve")||(e.unobserve=unobserve),e.hasOwnProperty("addObserver")||(e.It=addObserver),t}function connectable(t){return void 0===t?connectableDecorator:connectableDecorator(t)}function setValue(t,e){if(this.dt!==(t=null==t?this.defaultValue:t)){if(this.dt=t,!(e&(LifecycleFlags.Ct|LifecycleFlags.R))||this.Tt&&e&LifecycleFlags.S)return this.At=e,this.J.X(this);this.St(t,e)}return Promise.resolve()}function flush(t){if(this.Tt&&t&LifecycleFlags.S)return void this.J.X(this).catch(t=>{throw t});const e=this.dt;this.oldValue!==e&&(this.St(e,this.At|t|LifecycleFlags.h),this.oldValue=this.dt)}function dispose$1(){this.dt=null,this.oldValue=null,this.defaultValue=null,this.at=null,this.ut=""}function targetObserver(t=null){return function(e){subscriberCollection(MutationKind.H)(e);const i=e.prototype;i.Pt=null,i.dt=t,i.oldValue=t,i.defaultValue=t,i.at=null,i.ut="",i.gt=i.gt||setValue,i.flush=i.flush||flush,i.pt=i.pt||dispose$1}}function flush$1(){this.ht(this.$t),this.wt&&this.wt.Mt(LifecycleFlags.Ct|LifecycleFlags.h),this.Vt()}function dispose$2(){this.Et.Dt=void 0,this.Et=null,this.$t=null}function resetIndexMapIndexed(){const t=this.Et.length,e=this.$t=Array(t);let i=0;for(;t>i;)e[i]=i++;e.kt=[]}function resetIndexMapKeyed(){const t=this.Et.size,e=this.$t=Array(t);let i=0;for(;t>i;)e[i]=i++;e.kt=[]}function getLengthObserver(){return void 0===this.wt?this.wt=new CollectionLengthObserver(this,this.jt):this.wt}function collectionObserver(t){return function(e){subscriberCollection(MutationKind.Et)(e),batchedSubscriberCollection()(e);const i=e.prototype;i.Pt=null,i.Et=null,i.$t=null,i._t=0,i.jt=8&t?"length":"size",i.Nt=t,i.Vt=8&t?resetIndexMapIndexed:resetIndexMapKeyed,i.flush=flush$1,i.pt=dispose$2,i.xt=getLengthObserver,i.subscribe=i.subscribe||i.N,i.unsubscribe=i.unsubscribe||i.K,i.Kt=i.Kt||i.st,i.Ut=i.Ut||i.rt}}function sortCompare(t,e){return t===e?0:(e=null===e?"null":""+e)>(t=null===t?"null":""+t)?-1:1}function preSortCompare(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function insertionSort(t,e,from,to,i){let s,r,n,o,h,c,l;for(c=from+1;to>c;c++){for(s=t[c],r=e[c],l=c-1;l>=from&&(o=e[l],(h=i(n=t[l],s))>0);l--)t[l+1]=n,e[l+1]=o;t[l+1]=s,e[l+1]=r}}function quickSort(t,e,from,to,i){let s,r,n,o,h,c,l,a,u,d,f,g,p,b,m,y,R,v,L,B=0,F=0;for(;;){if(10>=to-from)return void insertionSort(t,e,from,to,i);o=e[from],h=e[to-1],n=t[B=from+(to-from>>1)],c=e[B],(l=i(s=t[from],r=t[to-1]))>0&&(d=s,f=o,s=r,o=h,r=d,h=f),0>(a=i(s,n))?(u=i(r,n))>0&&(d=r,f=h,r=n,h=c,n=d,c=f):(d=s,f=o,s=n,o=c,n=r,c=h,r=d,h=f),t[from]=s,e[from]=o,t[to-1]=n,e[to-1]=c,g=r,p=h,m=to-1,t[B]=t[b=from+1],e[B]=e[b],t[b]=g,e[b]=p;t:for(F=b+1;m>F;F++)if(R=e[F],0>(v=i(y=t[F],g)))t[F]=t[b],e[F]=e[b],t[b]=y,e[b]=R,b++;else if(v>0){do{if(--m==F)break t;v=i(L=t[m],g)}while(v>0);t[F]=t[m],e[F]=e[m],t[m]=y,e[m]=R,0>v&&(y=t[F],R=e[F],t[F]=t[b],e[F]=e[b],t[b]=y,e[b]=R,b++)}b-from>to-m?(quickSort(t,e,m,to,i),to=b):(quickSort(t,e,from,b,i),from=m)}}function enableArrayObservation(){for(const t of methods)1!=proto[t].lt&&def(proto,t,Object.assign({},descriptorProps,{value:observe[t]}))}function disableArrayObservation(){for(const t of methods)1==proto[t].lt&&def(proto,t,Object.assign({},descriptorProps,{value:native[t]}))}function getArrayObserver(t,e){return e.Dt||new ArrayObserver(t,e)}function enableMapObservation(){for(const t of methods$1)1!=proto$1[t].lt&&def$1(proto$1,t,Object.assign({},descriptorProps$1,{value:observe$1[t]}))}function disableMapObservation(){for(const t of methods$1)1==proto$1[t].lt&&def$1(proto$1,t,Object.assign({},descriptorProps$1,{value:native$1[t]}))}function getMapObserver(t,e){return e.Dt||new MapObserver(t,e)}function enableSetObservation(){for(const t of methods$2)1!=proto$2[t].lt&&def$2(proto$2,t,Object.assign({},descriptorProps$2,{value:observe$2[t]}))}function disableSetObservation(){for(const t of methods$2)1==proto$2[t].lt&&def$2(proto$2,t,Object.assign({},descriptorProps$2,{value:native$2[t]}))}function getSetObserver(t,e){return e.Dt||new SetObserver(t,e)}function computed(t){return function(e,i){(e.computed||(e.computed={}))[i]=t}}function createComputedObserver(t,e,i,s,r,n){if(0==n.qt)return e.zt(s,r);if(n.get){const o=s.constructor.computed&&s.constructor.computed[r]||computedOverrideDefaults;return n.set?o.Wt?noProxy?e.zt(s,r):new GetterObserver(o,s,r,n,t,i):new CustomSetterObserver(s,r,n,i):noProxy?e.zt(s,r):new GetterObserver(o,s,r,n,t,i)}throw Reporter.error(18,r)}function createGetterTraps(t,e){return{get(i,s){const value=i[s];if("$observers"===s||"function"==typeof value||!e.Ht)return value;if(i instanceof Array)e.Gt(t.Qt(i)),"length"===s&&e.Gt(t.Qt(i).xt());else if(i instanceof Map)e.Gt(t.Xt(i)),"size"===s&&e.Gt(t.Xt(i).xt());else if(i instanceof Set){if(e.Gt(t.Jt(i)),"size"===s)return t.Jt(i).xt()}else e.Gt(t.Bt(i,s));return proxyOrValue(t,e,value)}}}function proxyOrValue(t,e,value){return value instanceof Object?new Proxy(value,createGetterTraps(t,e)):value}function getPropertyDescriptor(t,name){let e=Object.getOwnPropertyDescriptor(t,name),i=Object.getPrototypeOf(t);for(;void 0===e&&null!==i;)e=Object.getOwnPropertyDescriptor(i,name),i=Object.getPrototypeOf(i);return e}function getCollectionObserver(t,e){switch(toStringTag$1.call(e)){case"[object Array]":return getArrayObserver(t,e);case"[object Map]":return getMapObserver(t,e);case"[object Set]":return getSetObserver(t,e)}return null}function isBindingContext(t){return 1==t.Yt}function debounceCallSource(t,e,i){const s=this.Zt;PLATFORM.global.clearTimeout(s.te),s.te=PLATFORM.global.setTimeout(()=>{this.ee(t,e,i)},s.ie)}function debounceCall(t,e,i){const s=this.Zt;if(PLATFORM.global.clearTimeout(s.te),!(i&s.se))return s.oldValue=unset,void this.ee(t,e,i);s.oldValue===unset&&(s.oldValue=e);const r=PLATFORM.global.setTimeout(()=>{const e=s.oldValue;s.oldValue=unset,this.ee(t,e,i)},s.ie);s.te=r}function throttle(t){const e=this.re,i=+new Date-e.ne;if(i>=e.ie)return PLATFORM.global.clearTimeout(e.te),e.te=-1,e.ne=+new Date,void this.oe(t);if(e.newValue=t,-1===e.te){const t=PLATFORM.global.setTimeout(()=>{e.te=-1,e.ne=+new Date,this.oe(e.newValue)},e.ie-i);e.te=t}}function customElementKey(name){return`${customElementName}:${name}`}function customElementBehavior(t){return void 0===t.$customElement?null:t.$customElement}function customAttributeKey(name){return`${customAttributeName}:${name}`}function isTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function buildTemplateDefinition(t,e,template,cache,build,bindables,instructions,dependencies,surrogates,containerless,shadowOptions,hasSlots){const def=new DefaultTemplateDefinition,i=arguments.length;switch(i){case 12:null!==hasSlots&&(def.hasSlots=hasSlots);case 11:null!==shadowOptions&&(def.shadowOptions=shadowOptions);case 10:null!==containerless&&(def.containerless=containerless);case 9:null!==surrogates&&(def.surrogates=PLATFORM.toArray(surrogates));case 8:null!==dependencies&&(def.dependencies=PLATFORM.toArray(dependencies));case 7:null!==instructions&&(def.instructions=PLATFORM.toArray(instructions));case 6:null!==bindables&&(def.bindables=Object.assign({},bindables));case 5:null!==build&&(def.build=1==build?buildRequired:0==build?buildNotRequired:Object.assign({},build));case 4:null!==cache&&(def.cache=cache);case 3:null!==template&&(def.template=template);case 2:null!==t&&(t.bindables&&(def.bindables=Object.assign({},t.bindables)),t.containerless&&(def.containerless=t.containerless),t.shadowOptions&&(def.shadowOptions=t.shadowOptions)),"string"==typeof e?e.length>0&&(def.name=e):null!==e&&(templateDefinitionAssignables.forEach(t=>{e[t]&&(def[t]=e[t])}),templateDefinitionArrays.forEach(t=>{e[t]&&(def[t]=PLATFORM.toArray(e[t]))}),e.bindables&&(def.bindables===PLATFORM.he?def.bindables=Object.assign({},e.bindables):Object.assign(def.bindables,e.bindables)))}return 2!==i||null===t||"string"!=typeof e&&"build"in e||(def.build=buildRequired),def}function $attachAttribute(t){if(8&this.$state)return;const e=this.$lifecycle;e.ce(),this.$state|=4,t|=LifecycleFlags.L;const i=this.$hooks;16&i&&this.le(t),this.$state|=8,this.$state&=-5,32&i&&e.ae(this),e.ue(t)}function $attachElement(t){if(8&this.$state)return;const e=this.$lifecycle;e.ce(),this.$state|=4,t|=LifecycleFlags.L;const i=this.$hooks;16&i&&this.le(t);let s=this.de;for(;null!==s;)s.fe(t),s=s.ge;e.pe(this),this.$state|=8,this.$state&=-5,32&i&&e.ae(this),e.ue(t)}function $attachView(t){if(8&this.$state)return;this.$state|=4,t|=LifecycleFlags.L;let e=this.de;for(;null!==e;)e.fe(t),e=e.ge;this.$lifecycle.pe(this),this.$state|=8,this.$state&=-5}function $detachAttribute(t){if(8&this.$state){const e=this.$lifecycle;e.be(),this.$state|=32,t|=LifecycleFlags.B;const i=this.$hooks;64&i&&this.me(t),this.$state&=-41,128&i&&e.ye(this),e.Re(t)}}function $detachElement(t){if(8&this.$state){const e=this.$lifecycle;e.be(),this.$state|=32,(t|=LifecycleFlags.B)&LifecycleFlags.A^LifecycleFlags.A|t&LifecycleFlags.m&&(e.ve(this),t|=LifecycleFlags.A);const i=this.$hooks;64&i&&this.me(t);let s=this.Le;for(;null!==s;)s.Be(t),s=s.Fe;this.$state&=-41,128&i&&e.ye(this),e.Re(t)}}function $detachView(t){if(8&this.$state){this.$state|=32,(t|=LifecycleFlags.B)&LifecycleFlags.A^LifecycleFlags.A|t&LifecycleFlags.m&&(this.$lifecycle.ve(this),t|=LifecycleFlags.A);let e=this.Le;for(;null!==e;)e.Be(t),e=e.Fe;this.$state&=-41}}function $cacheAttribute(t){2048&this.$hooks&&this.Ie(t|=LifecycleFlags.F)}function $cacheElement(t){t|=LifecycleFlags.F,2048&this.$hooks&&this.Ie(t);let e=this.Le;for(;null!==e;)e.Oe(t),e=e.Fe}function $cacheView(t){t|=LifecycleFlags.F;let e=this.Le;for(;null!==e;)e.Oe(t),e=e.Fe}function $mountElement(){16&this.$state||(this.$state|=16,this.Te.Ce(this.$nodes))}function $unmountElement(){16&this.$state&&(this.$state&=-17,this.Te.Ae(this.$nodes))}function $mountView(){16&this.$state||(this.$state|=16,this.$nodes.insertBefore(this.location))}function $unmountView(){return 16&this.$state?(this.$state&=-17,this.$nodes.remove(),this.Se&&(this.Se=0,this.cache.Pe(this))?(this.$state|=128,1):0):0}function $bindAttribute(t,e){if(t|=LifecycleFlags.R,2&this.$state){if(this.$scope===e)return;this.$e(t)}const i=this.$lifecycle;i.we(),this.$state|=1;const s=this.$hooks;8&s&&i.Me(this),this.$scope=e,4&s&&this.Ve(t),this.$state|=2,this.$state&=-2,i.De(t)}function $bindElement(t,e){if(2&this.$state)return;const i=this.$scope;i.Ee=e;const s=this.$lifecycle;s.we(),this.$state|=1;const r=this.$hooks;t|=LifecycleFlags.R,8&r&&s.Me(this),4&r&&this.Ve(t);let n=this.ke;for(;null!==n;)n.je(t,i),n=n._e;this.$state|=2,this.$state&=-2,s.De(t)}function $bindView(t,e){if(t|=LifecycleFlags.R,2&this.$state){if(this.$scope===e)return;this.$e(t)}this.$state|=1,this.$scope=e;let i=this.ke;for(;null!==i;)i.je(t,e),i=i._e;this.$state|=2,this.$state&=-2}function $unbindAttribute(t){if(2&this.$state){const e=this.$lifecycle;e.Ne(),this.$state|=64;const i=this.$hooks;t|=LifecycleFlags.v,512&i&&e.xe(this),256&i&&this.Ke(t),this.$state&=-67,e.Ue(t)}}function $unbindElement(t){if(2&this.$state){const e=this.$lifecycle;e.Ne(),this.$state|=64;const i=this.$hooks;t|=LifecycleFlags.v,512&i&&e.xe(this),256&i&&this.Ke(t);let s=this.qe;for(;null!==s;)s.$e(t),s=s.ze;this.$scope.Ee=null,this.$state&=-67,e.Ue(t)}}function $unbindView(t){if(2&this.$state){this.$state|=64,t|=LifecycleFlags.v;let e=this.qe;for(;null!==e;)e.$e(t),e=e.ze;this.$state&=-67,this.$scope=null}}function $hydrateAttribute(t){t.We(this.constructor,this),2&this.$hooks&&this.He()}function $hydrateElement(dom,t,e,host,i,s=PLATFORM.he){const r=this.constructor,n=r.description;if(this.$scope=Scope.create(this,null),this.Ge=host,this.Te=t.Qe(dom,this,host,n),e.We(r,this),1024&this.$hooks){const t=this.Xe(host,s.parts,i);t&&"getElementTemplate"in t&&t.Je(e,r,i).Xe(this,host,s.parts)}else e.Je(dom,n,i,r).Xe(this,host,s.parts);2&this.$hooks&&this.He()}function registerAttribute(t){const e=this.description,i=this.kind.bt(e.name),aliases=e.aliases;t.register(Registration.transient(i,this));for(let e=0,s=aliases.length;s>e;++e){const s=this.kind.bt(aliases[e]);t.register(Registration.Ye(i,s))}}function customAttribute(t){return e=>CustomAttributeResource.yt(t,e)}function templateController(t){return e=>CustomAttributeResource.yt("string"==typeof t?{isTemplateController:1,name:t}:Object.assign({isTemplateController:1},t),e)}function dynamicOptionsDecorator(t){return t.Ze=1,t}function dynamicOptions(t){return void 0===t?dynamicOptionsDecorator:dynamicOptionsDecorator(t)}function isType$2(t){return t.kind===this}function define$2(t,e){const i=e,s=createCustomAttributeDescription("string"==typeof t?{name:t}:t,i),r=i.prototype;return i.kind=CustomAttributeResource,i.description=s,i.register=registerAttribute,r.ti=$hydrateAttribute,r.je=$bindAttribute,r.fe=$attachAttribute,r.Be=$detachAttribute,r.$e=$unbindAttribute,r.Oe=$cacheAttribute,r.ze=null,r._e=null,r.Fe=null,r.ge=null,r.ei=null,r.$scope=null,r.$hooks=0,r.$state=0,"flush"in r&&(r.Pt=null),"binding"in r&&(r.$hooks|=4),"bound"in r&&(r.$hooks|=8,r.ii=null),"unbinding"in r&&(r.$hooks|=256),"unbound"in r&&(r.$hooks|=512,r.si=null),"created"in r&&(r.$hooks|=2),"attaching"in r&&(r.$hooks|=16),"attached"in r&&(r.$hooks|=32,r.ri=null),"detaching"in r&&(r.$hooks|=64),"caching"in r&&(r.$hooks|=2048),"detached"in r&&(r.$hooks|=128,r.ni=null),i}function createCustomAttributeDescription(def,t){const aliases=def.aliases,defaultBindingMode=def.defaultBindingMode;return{name:def.name,aliases:null==aliases?PLATFORM.oi:aliases,defaultBindingMode:null==defaultBindingMode?BindingMode.hi:defaultBindingMode,Ze:void 0===def.Ze?0:def.Ze,isTemplateController:void 0===def.isTemplateController?0:def.isTemplateController,bindables:Object.assign({},t.bindables,def.bindables)}}function bindable(t,e){let i;const s=function(t,e){const s=t.constructor;let bindables=s.bindables;void 0===bindables&&(bindables=s.bindables={}),i.ci||(i.ci=PLATFORM.li(e)),i.ai||(i.ai=`${e}Changed`),void 0===i.mode&&(i.mode=BindingMode.hi),arguments.length>1&&(i.ui=e),bindables[i.ui]=i};return arguments.length>1?(i={},void s(t,e)):"string"==typeof t?(i={},s):(i=t||{},s)}function registerElement(t){const e=this.kind.bt(this.description.name);t.register(Registration.transient(e,this))}function customElement(t){return e=>CustomElementResource.yt(t,e)}function isType$3(t){return t.kind===this}function define$3(t,e=null){if(!t)throw Reporter.error(70);const i=null===e?class{}:e,s=buildTemplateDefinition(i,t),r=i.prototype;return i.kind=CustomElementResource,i.description=s,i.register=registerElement,r.ti=$hydrateElement,r.je=$bindElement,r.fe=$attachElement,r.Be=$detachElement,r.$e=$unbindElement,r.Oe=$cacheElement,r.ze=null,r._e=null,r.Fe=null,r.ge=null,r.ei=null,r.$scope=null,r.$hooks=0,r.ke=null,r.qe=null,r.de=null,r.Le=null,r.di=$mountElement,r.fi=$unmountElement,r.gi=null,r.pi=null,r.Te=null,"flush"in r&&(r.Pt=null),"binding"in r&&(r.$hooks|=4),"bound"in r&&(r.$hooks|=8,r.ii=null),"unbinding"in r&&(r.$hooks|=256),"unbound"in r&&(r.$hooks|=512,r.si=null),"render"in r&&(r.$hooks|=1024),"created"in r&&(r.$hooks|=2),"attaching"in r&&(r.$hooks|=16),"attached"in r&&(r.$hooks|=32,r.ri=null),"detaching"in r&&(r.$hooks|=64),"caching"in r&&(r.$hooks|=2048),"detached"in r&&(r.$hooks|=128,r.ni=null),i}function useShadowDOM(t){function e(t){return t.shadowOptions=i,t}const i="function"!=typeof t&&t?t:defaultShadowOptions;return"function"==typeof t?e(t):e}function containerlessDecorator(t){return t.containerless=1,t}function containerless(t){return void 0===t?containerlessDecorator:containerlessDecorator(t)}function lockedBind(t){if(2&this.$state)return;t|=LifecycleFlags.R;const e=this.$scope;let i=this.ke;for(;null!==i;)i.je(t,e),i=i._e;this.$state|=2}function lockedUnbind(t){if(2&this.$state){this.$state|=64,t|=LifecycleFlags.v;let e=this.qe;for(;null!==e;)e.$e(t),e=e.ze;this.$state&=-67}}function createRenderContext(dom,t,dependencies,e){const i=t.bi(),s=new InstanceProvider,r=new InstanceProvider,n=new InstanceProvider,o=new ViewFactoryProvider,h=new InstanceProvider,c=i.get(IRenderer);return dom.mi(i,r),i.yi(IViewFactory,o),i.yi(IRenderable,s),i.yi(ITargetedInstruction,n),i.yi(IRenderLocation,h),dependencies&&i.register(...dependencies),e&&e.register(i),i.Xe=function(t,targets,e,host,parts){c.Xe(dom,this,t,targets,e,host,parts)},i.Ri=function(t,e,c,l,parts,a){return s.vi(t),r.vi(e),n.vi(c),l&&o.vi(l,parts),a&&h.vi(a),i},i.pt=function(){o.pt(),s.pt(),n.pt(),r.pt(),h.pt()},i}function findElements(t){const e=[];for(let i=0,s=t.length;s>i;++i){const component=customElementBehavior(t[i]);null!==component&&e.push(component)}return e}function createGetterSetter(t,name){Reflect.defineProperty(t,name,{Li:1,get(){return this.Bi[name].ft()},set(value){this.Bi[name].gt(value,LifecycleFlags.h)}})}function instructionRenderer(t){return function(e){const i=function(...i){const s=new e(...i);return s.Fi=t,s};i.register=function(t){return Registration.singleton(IInstructionRenderer,i).register(t,IInstructionRenderer)};const s=Object.getOwnPropertyDescriptors(e);return Object.keys(s).filter(t=>"prototype"!==t).forEach(t=>{Reflect.defineProperty(i,t,s[t])}),i}}function ensureExpression(t,e,i){return"string"==typeof e?t.parse(e,i):e}function addBindable(t,bindable){bindable.ze=t.qe,bindable._e=null,null===t.qe?t.ke=bindable:t.qe._e=bindable,t.qe=bindable}function addAttachable(t,e){e.Fe=t.Le,e.ge=null,null===t.Le?t.de=e:t.Le.ge=e,t.Le=e}var LifecycleFlags,SubscriberFlags,DelegationStrategy,MutationKind,CollectionKind,RuntimeError,ExpressionKind,RuntimeError$1,BindingMode,State,Hooks,BindingType,TargetedInstructionType,ViewCompileFlags;import{Reporter,DI,Registration,PLATFORM,Profiler,RuntimeCompilationResources,IContainer,all}from"@aurelia/kernel";(function(LifecycleFlags){LifecycleFlags[LifecycleFlags.Ii=0]="none",LifecycleFlags[LifecycleFlags.t=262144]="mustEvaluate",LifecycleFlags[LifecycleFlags.Oi=3]="mutation",LifecycleFlags[LifecycleFlags.i=1]="isCollectionMutation",LifecycleFlags[LifecycleFlags.s=2]="isInstanceMutation",LifecycleFlags[LifecycleFlags.update=28]="update",LifecycleFlags[LifecycleFlags.o=4]="updateTargetObserver",LifecycleFlags[LifecycleFlags.h=8]="updateTargetInstance",LifecycleFlags[LifecycleFlags.l=16]="updateSourceExpression",LifecycleFlags[LifecycleFlags.from=262112]="from",LifecycleFlags[LifecycleFlags.Ct=96]="fromFlush",LifecycleFlags[LifecycleFlags.u=32]="fromAsyncFlush",LifecycleFlags[LifecycleFlags.g=64]="fromSyncFlush",LifecycleFlags[LifecycleFlags.p=128]="fromStartTask",LifecycleFlags[LifecycleFlags.m=256]="fromStopTask",LifecycleFlags[LifecycleFlags.R=512]="fromBind",LifecycleFlags[LifecycleFlags.v=1024]="fromUnbind",LifecycleFlags[LifecycleFlags.L=2048]="fromAttach",LifecycleFlags[LifecycleFlags.B=4096]="fromDetach",LifecycleFlags[LifecycleFlags.F=8192]="fromCache",LifecycleFlags[LifecycleFlags.I=16384]="fromDOMEvent",LifecycleFlags[LifecycleFlags.O=32768]="fromObserverSetter",LifecycleFlags[LifecycleFlags.C=65536]="fromBindableHandler",LifecycleFlags[LifecycleFlags.T=131072]="fromLifecycleTask",LifecycleFlags[LifecycleFlags.A=524288]="parentUnmountQueued",LifecycleFlags[LifecycleFlags.S=1048576]="doNotUpdateDOM",LifecycleFlags[LifecycleFlags.P=2097152]="isTraversingParentScope",LifecycleFlags[LifecycleFlags.Ci=4194304]="persistentBindingFlags",LifecycleFlags[LifecycleFlags.$=4194304]="allowParentScopeTraversal"})(LifecycleFlags||(LifecycleFlags={})),(function(t){t[t.Ti=0]="None",t[t.Ai=1]="Subscriber0",t[t.Si=2]="Subscriber1",t[t.Pi=4]="Subscriber2",t[t.$i=8]="SubscribersRest",t[t.wi=15]="Any"})(SubscriberFlags||(SubscriberFlags={})),(function(DelegationStrategy){DelegationStrategy[DelegationStrategy.Ii=0]="none",DelegationStrategy[DelegationStrategy.Mi=1]="capturing",DelegationStrategy[DelegationStrategy.Vi=2]="bubbling"})(DelegationStrategy||(DelegationStrategy={})),(function(MutationKind){MutationKind[MutationKind.H=1]="instance",MutationKind[MutationKind.Et=2]="collection"})(MutationKind||(MutationKind={})),(function(CollectionKind){CollectionKind[CollectionKind.Di=8]="indexed",CollectionKind[CollectionKind.Ei=4]="keyed",CollectionKind[CollectionKind.ki=9]="array",CollectionKind[CollectionKind.map=6]="map",CollectionKind[CollectionKind.set=7]="set"})(CollectionKind||(CollectionKind={}));const defineProperty=Reflect.defineProperty,observedPropertyDescriptor={get:void 0,set:void 0,Li:1,qt:1};let SetterObserver=class{constructor(t,e){this.at=t,this.ut=e}ft(){return this.dt}gt(t,e){const i=this.dt;i!==t&&(this.dt=t,e&LifecycleFlags.R||this.W(t,i,e),this.lt||(this.at[this.ut]=t))}};SetterObserver=__decorate([propertyObserver()],SetterObserver),(function(t){t[t.ji=250]="UndefinedScope",t[t._i=251]="NullScope",t[t.Ni=252]="NilOverrideContext",t[t.xi=253]="NilParentScope"})(RuntimeError||(RuntimeError={}));class InternalObserversLookup{Ki(t,e){let i=this[e];return void 0===i&&(i=this[e]=new SetterObserver(t,e)),i}}class BindingContext{constructor(t,value){if(this.Yt=1,void 0!==t)if(void 0!==value)this[t]=value;else for(const e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}static create(t,value){return new BindingContext(t,value)}static get(t,name,e,i){if(void 0===t)throw Reporter.error(250);if(null===t)throw Reporter.error(251);let s=t.Ui;if(e>0){for(;e>0;){if(null===s.qi)return;e--,s=s.qi}return name in s?s:s.zi}for(;s&&!(name in s)&&!(s.zi&&name in s.zi);)s=s.qi;if(s)return name in s?s:s.zi;if(i&LifecycleFlags.$&&null!==t.Ee){const s=this.get(t.Ee,name,e,i&~LifecycleFlags.$|LifecycleFlags.P);if(null!==s)return s}return i&LifecycleFlags.P?null:t.zi||t.Ui}Wi(){let t=this.Bi;return void 0===t&&(this.Bi=t=new InternalObserversLookup),t}}class Scope{constructor(t,e){this.zi=t,this.Ui=e,this.Ee=null}static create(t,e){return new Scope(t,null==e?OverrideContext.create(t,e):e)}static Hi(t){if(null==t)throw Reporter.error(252);return new Scope(t.zi,t)}static Gi(t,e){if(null==t)throw Reporter.error(253);return new Scope(e,OverrideContext.create(e,t.Ui))}}class OverrideContext{constructor(t,e){this.Yt=1,this.zi=t,this.qi=e}static create(t,e){return new OverrideContext(t,void 0===e?null:e)}Wi(){let t=this.Bi;return void 0===t&&(this.Bi=t=new InternalObserversLookup),t}}const ISignaler=DI.Xi("ISignaler").Qi(t=>t.singleton(Signaler));class Signaler{constructor(){this.Ji=Object.create(null)}Yi(name,t){const e=this.Ji[name];if(void 0!==e)for(const i of e.keys())i.G(void 0,void 0,t|LifecycleFlags.h)}Zi(name,t){const e=this.Ji,i=e[name];void 0===i?e[name]=new Set([t]):i.add(t)}ts(name,t){const e=this.Ji[name];e&&e.delete(t)}}const BindingBehaviorResource={name:"binding-behavior",bt:keyFrom,es:isType,yt:define},ValueConverterResource={name:"value-converter",bt:keyFrom$1,es:isType$1,yt:define$1};(function(ExpressionKind){ExpressionKind[ExpressionKind.Connects=32]="Connects",ExpressionKind[ExpressionKind.Observes=64]="Observes",ExpressionKind[ExpressionKind.CallsFunction=128]="CallsFunction",ExpressionKind[ExpressionKind.HasAncestor=256]="HasAncestor",ExpressionKind[ExpressionKind.IsPrimary=512]="IsPrimary",ExpressionKind[ExpressionKind.IsLeftHandSide=1024]="IsLeftHandSide",ExpressionKind[ExpressionKind.HasBind=2048]="HasBind",ExpressionKind[ExpressionKind.HasUnbind=4096]="HasUnbind",ExpressionKind[ExpressionKind.IsAssignable=8192]="IsAssignable",ExpressionKind[ExpressionKind.IsLiteral=16384]="IsLiteral",ExpressionKind[ExpressionKind.IsResource=32768]="IsResource",ExpressionKind[ExpressionKind.ss=65536]="IsForDeclaration",ExpressionKind[ExpressionKind.rs=31]="Type",ExpressionKind[ExpressionKind.AccessThis=1793]="AccessThis",ExpressionKind[ExpressionKind.AccessScope=10082]="AccessScope",ExpressionKind[ExpressionKind.ArrayLiteral=17955]="ArrayLiteral",ExpressionKind[ExpressionKind.ObjectLiteral=17956]="ObjectLiteral",ExpressionKind[ExpressionKind.PrimitiveLiteral=17925]="PrimitiveLiteral",ExpressionKind[ExpressionKind.Template=17958]="Template",ExpressionKind[ExpressionKind.Unary=39]="Unary",ExpressionKind[ExpressionKind.CallScope=1448]="CallScope",ExpressionKind[ExpressionKind.CallMember=1161]="CallMember",ExpressionKind[ExpressionKind.CallFunction=1162]="CallFunction",ExpressionKind[ExpressionKind.AccessMember=9323]="AccessMember",ExpressionKind[ExpressionKind.AccessKeyed=9324]="AccessKeyed",ExpressionKind[ExpressionKind.TaggedTemplate=1197]="TaggedTemplate",ExpressionKind[ExpressionKind.Binary=46]="Binary",ExpressionKind[ExpressionKind.Conditional=63]="Conditional",ExpressionKind[ExpressionKind.Assign=8208]="Assign",ExpressionKind[ExpressionKind.ValueConverter=36913]="ValueConverter",ExpressionKind[ExpressionKind.BindingBehavior=38962]="BindingBehavior",ExpressionKind[ExpressionKind.HtmlLiteral=51]="HtmlLiteral",ExpressionKind[ExpressionKind.ArrayBindingPattern=65556]="ArrayBindingPattern",ExpressionKind[ExpressionKind.ObjectBindingPattern=65557]="ObjectBindingPattern",ExpressionKind[ExpressionKind.BindingIdentifier=65558]="BindingIdentifier",ExpressionKind[ExpressionKind.ForOfStatement=55]="ForOfStatement",ExpressionKind[ExpressionKind.Interpolation=24]="Interpolation"})(ExpressionKind||(ExpressionKind={})),(function(t){t[t.ns=202]="NoLocator",t[t.os=203]="NoBehaviorFound",t[t.hs=204]="BehaviorAlreadyApplied",t[t.cs=205]="NoConverterFound",t[t.ls=206]="NoBinding",t[t.as=207]="NotAFunction",t[t.us=208]="UnknownOperator",t[t.ji=250]="UndefinedScope",t[t._i=251]="NullScope"})(RuntimeError$1||(RuntimeError$1={}));class BindingBehavior{constructor(t,name,e){this.Rt=38962,this.ds=t,this.name=name,this.fs=e,this.gs=BindingBehaviorResource.bt(this.name),this.ps=hasBind(t),this.bs=hasUnbind(t)}evaluate(t,e,i){return this.ds.evaluate(t,e,i)}assign(t,e,i,value){return this.ds.assign(t,e,i,value)}connect(t,e,i){this.ds.connect(t,e,i)}bind(t,e,i){if(void 0===e)throw Reporter.error(250,this);if(null===e)throw Reporter.error(251,this);if(!i)throw Reporter.error(206,this);const s=i.ms;if(!s)throw Reporter.error(202,this);this.ps&&this.ds.bind(t,e,i);const r=this.gs,n=s.get(r);if(!n)throw Reporter.error(203,this);if(null!=i[r])throw Reporter.error(204,this);i[r]=n,n.bind.apply(n,[t,e,i].concat(evalList(t,e,s,this.fs)))}ys(t,e,i){const s=this.gs;i[s].ys(t,e,i),i[s]=null,this.bs&&this.ds.ys(t,e,i)}accept(t){return t.Rs(this)}}class ValueConverter{constructor(t,name,e){this.Rt=36913,this.ds=t,this.name=name,this.fs=e,this.vs=ValueConverterResource.bt(this.name)}evaluate(t,e,i){if(!i)throw Reporter.error(202,this);const s=i.get(this.vs);if(!s)throw Reporter.error(205,this);if("toView"in s){const r=this.fs,n=r.length,o=Array(n+1);o[0]=this.ds.evaluate(t,e,i);for(let s=0;n>s;++s)o[s+1]=r[s].evaluate(t,e,i);return s.hi.apply(s,o)}return this.ds.evaluate(t,e,i)}assign(t,e,i,value){if(!i)throw Reporter.error(202,this);const s=i.get(this.vs);if(!s)throw Reporter.error(205,this);return"fromView"in s&&(value=s.Ls.apply(s,[value].concat(evalList(t,e,i,this.fs)))),this.ds.assign(t,e,i,value)}connect(t,e,i){if(void 0===e)throw Reporter.error(250,this);if(null===e)throw Reporter.error(251,this);if(!i)throw Reporter.error(206,this);const s=i.ms;if(!s)throw Reporter.error(202,this);this.ds.connect(t,e,i);const r=this.fs;for(let s=0,n=r.length;n>s;++s)r[s].connect(t,e,i);const n=s.get(this.vs);if(!n)throw Reporter.error(205,this);const o=n.Ji;if(void 0===o)return;const h=s.get(ISignaler);for(let t=0,e=o.length;e>t;++t)h.Zi(o[t],i)}ys(t,e,i){const s=i.ms,r=s.get(this.vs).Ji;if(void 0===r)return;const n=s.get(ISignaler);for(let t=0,e=r.length;e>t;++t)n.ts(r[t],i)}accept(t){return t.Bs(this)}}class Assign{constructor(t,value){this.Rt=8208,this.target=t,this.value=value}evaluate(t,e,i){return this.target.assign(t,e,i,this.value.evaluate(t,e,i))}connect(t,e,i){}assign(t,e,i,value){return this.value.assign(t,e,i,value),this.target.assign(t,e,i,value)}accept(t){return t.Fs(this)}}class Conditional{constructor(t,e,i){this.Rt=63,this.assign=PLATFORM.Is,this.Os=t,this.Cs=e,this.Ts=i}evaluate(t,e,i){return this.Os.evaluate(t,e,i)?this.Cs.evaluate(t,e,i):this.Ts.evaluate(t,e,i)}connect(t,e,i){this.Os.evaluate(t,e,null)?(this.Os.connect(t,e,i),this.Cs.connect(t,e,i)):(this.Os.connect(t,e,i),this.Ts.connect(t,e,i))}accept(t){return t.As(this)}}class AccessThis{constructor(t=0){this.Rt=1793,this.assign=PLATFORM.Is,this.connect=PLATFORM.Is,this.Ss=t}evaluate(t,e,i){if(void 0===e)throw Reporter.error(250,this);if(null===e)throw Reporter.error(251,this);let s=e.Ui,r=this.Ss;for(;r--&&s;)s=s.qi;return 1>r&&s?s.zi:void 0}accept(t){return t.Ps(this)}}AccessThis.$s=new AccessThis(0),AccessThis.ws=new AccessThis(1);class AccessScope{constructor(name,t=0){this.Rt=10082,this.name=name,this.Ss=t}evaluate(t,e,i){const name=this.name;return BindingContext.get(e,name,this.Ss,t)[name]}assign(t,e,i,value){const name=this.name,s=BindingContext.get(e,name,this.Ss,t);return s?s[name]=value:void 0}connect(t,e,i){const name=this.name,s=BindingContext.get(e,name,this.Ss,t);i.Ot(s,name)}accept(t){return t.Ms(this)}}class AccessMember{constructor(t,name){this.Rt=9323,this.object=t,this.name=name}evaluate(t,e,i){const s=this.object.evaluate(t,e,i);return null==s?s:s[this.name]}assign(t,e,i,value){let s=this.object.evaluate(t,e,i);return null!==s&&"object"==typeof s||this.object.assign(t,e,i,s={}),s[this.name]=value,value}connect(t,e,i){const s=this.object.evaluate(t,e,null);this.object.connect(t,e,i),s&&i.Ot(s,this.name)}accept(t){return t.Vs(this)}}class AccessKeyed{constructor(t,e){this.Rt=9324,this.object=t,this.key=e}evaluate(t,e,i){const s=this.object.evaluate(t,e,i);if(null!=s)return s[this.key.evaluate(t,e,i)]}assign(t,e,i,value){return this.object.evaluate(t,e,i)[this.key.evaluate(t,e,i)]=value}connect(t,e,i){const s=this.object.evaluate(t,e,null);if(this.object.connect(t,e,i),"object"==typeof s&&null!==s){this.key.connect(t,e,i);const r=this.key.evaluate(t,e,null);Array.isArray(s)&&isNumeric(r)||i.Ot(s,r)}}accept(t){return t.Ds(this)}}class CallScope{constructor(name,t,e=0){this.Rt=1448,this.assign=PLATFORM.Is,this.name=name,this.fs=t,this.Ss=e}evaluate(t,e,i){const s=evalList(t,e,i,this.fs),r=BindingContext.get(e,this.name,this.Ss,t),n=getFunction(t,r,this.name);if(n)return n.apply(r,s)}connect(t,e,i){const s=this.fs;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i)}accept(t){return t.Es(this)}}class CallMember{constructor(t,name,e){this.Rt=1161,this.assign=PLATFORM.Is,this.object=t,this.name=name,this.fs=e}evaluate(t,e,i){const s=this.object.evaluate(t,e,i),r=evalList(t,e,i,this.fs),n=getFunction(t,s,this.name);if(n)return n.apply(s,r)}connect(t,e,i){const s=this.object.evaluate(t,e,null);if(this.object.connect(t,e,i),getFunction(t&~LifecycleFlags.t,s,this.name)){const s=this.fs;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i)}}accept(t){return t.ks(this)}}class CallFunction{constructor(t,e){this.Rt=1162,this.assign=PLATFORM.Is,this.js=t,this.fs=e}evaluate(t,e,i){const s=this.js.evaluate(t,e,i);if("function"==typeof s)return s.apply(null,evalList(t,e,i,this.fs));if(t&LifecycleFlags.t||null!=s)throw Reporter.error(207,this)}connect(t,e,i){const s=this.js.evaluate(t,e,null);if(this.js.connect(t,e,i),"function"==typeof s){const s=this.fs;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i)}}accept(t){return t._s(this)}}class Binary{constructor(t,e,i){this.Rt=46,this.assign=PLATFORM.Is,this.Ns=t,this.left=e,this.right=i,this.evaluate=this[t]}evaluate(t,e,i){throw Reporter.error(208,this)}connect(t,e,i){const s=this.left.evaluate(t,e,null);this.left.connect(t,e,i),"&&"===this.Ns&&!s||"||"===this.Ns&&s||this.right.connect(t,e,i)}xs(t,e,i){return this.left.evaluate(t,e,i)&&this.right.evaluate(t,e,i)}Ks(t,e,i){return this.left.evaluate(t,e,i)||this.right.evaluate(t,e,i)}Us(t,e,i){return this.left.evaluate(t,e,i)==this.right.evaluate(t,e,i)}qs(t,e,i){return this.left.evaluate(t,e,i)===this.right.evaluate(t,e,i)}zs(t,e,i){return this.left.evaluate(t,e,i)!=this.right.evaluate(t,e,i)}Ws(t,e,i){return this.left.evaluate(t,e,i)!==this.right.evaluate(t,e,i)}Hs(t,e,i){const s=this.right.evaluate(t,e,i);return"function"==typeof s?this.left.evaluate(t,e,i)instanceof s:0}Gs(t,e,i){const s=this.right.evaluate(t,e,i);return null!==s&&"object"==typeof s?this.left.evaluate(t,e,i)in s:0}Qs(t,e,i){return this.left.evaluate(t,e,i)+this.right.evaluate(t,e,i)}Xs(t,e,i){return this.left.evaluate(t,e,i)-this.right.evaluate(t,e,i)}Js(t,e,i){return this.left.evaluate(t,e,i)*this.right.evaluate(t,e,i)}Ys(t,e,i){return this.left.evaluate(t,e,i)/this.right.evaluate(t,e,i)}Zs(t,e,i){return this.left.evaluate(t,e,i)%this.right.evaluate(t,e,i)}tr(t,e,i){return this.left.evaluate(t,e,i)<this.right.evaluate(t,e,i)}er(t,e,i){return this.left.evaluate(t,e,i)>this.right.evaluate(t,e,i)}ir(t,e,i){return this.left.evaluate(t,e,i)<=this.right.evaluate(t,e,i)}sr(t,e,i){return this.left.evaluate(t,e,i)>=this.right.evaluate(t,e,i)}accept(t){return t.rr(this)}}class Unary{constructor(t,e){this.Rt=39,this.assign=PLATFORM.Is,this.Ns=t,this.ds=e,this.evaluate=this[t]}evaluate(t,e,i){throw Reporter.error(208,this)}connect(t,e,i){this.ds.connect(t,e,i)}nr(t,e,i){this.ds.evaluate(t,e,i)}or(t,e,i){return typeof this.ds.evaluate(t,e,i)}hr(t,e,i){return!this.ds.evaluate(t,e,i)}Xs(t,e,i){return-this.ds.evaluate(t,e,i)}Qs(t,e,i){return+this.ds.evaluate(t,e,i)}accept(t){return t.cr(this)}}class PrimitiveLiteral{constructor(value){this.Rt=17925,this.assign=PLATFORM.Is,this.connect=PLATFORM.Is,this.value=value}evaluate(t,e,i){return this.value}accept(t){return t.lr(this)}}PrimitiveLiteral.ar=new PrimitiveLiteral(void 0),PrimitiveLiteral.ur=new PrimitiveLiteral(null),PrimitiveLiteral.dr=new PrimitiveLiteral(1),PrimitiveLiteral.gr=new PrimitiveLiteral(0),PrimitiveLiteral.pr=new PrimitiveLiteral("");class HtmlLiteral{constructor(parts){this.Rt=51,this.assign=PLATFORM.Is,this.parts=parts}evaluate(t,e,i){const s=this.parts;let r="";for(let n=0,o=s.length;o>n;++n){const value=s[n].evaluate(t,e,i);null!=value&&(r+=value)}return r}connect(t,e,i){for(let s=0,r=this.parts.length;r>s;++s)this.parts[s].connect(t,e,i)}accept(t){return t.br(this)}}class ArrayLiteral{constructor(t){this.Rt=17955,this.assign=PLATFORM.Is,this.elements=t}evaluate(t,e,i){const s=this.elements,r=s.length,n=Array(r);for(let o=0;r>o;++o)n[o]=s[o].evaluate(t,e,i);return n}connect(t,e,i){const s=this.elements;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i)}accept(t){return t.mr(this)}}ArrayLiteral.pr=new ArrayLiteral(PLATFORM.oi);class ObjectLiteral{constructor(t,e){this.Rt=17956,this.assign=PLATFORM.Is,this.keys=t,this.values=e}evaluate(t,e,i){const s={},r=this.keys,n=this.values;for(let o=0,h=r.length;h>o;++o)s[r[o]]=n[o].evaluate(t,e,i);return s}connect(t,e,i){const s=this.values;for(let r=0,n=this.keys.length;n>r;++r)s[r].connect(t,e,i)}accept(t){return t.yr(this)}}ObjectLiteral.pr=new ObjectLiteral(PLATFORM.oi,PLATFORM.oi);class Template{constructor(t,e){this.Rt=17958,this.assign=PLATFORM.Is,this.Rr=t,this.vt=void 0===e?PLATFORM.oi:e}evaluate(t,e,i){const s=this.vt,r=this.Rr;let n=r[0];for(let o=0,h=s.length;h>o;++o)n+=s[o].evaluate(t,e,i),n+=r[o+1];return n}connect(t,e,i){const s=this.vt;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i),r++}accept(t){return t.vr(this)}}Template.pr=new Template([""]);class TaggedTemplate{constructor(t,e,i,s){this.Rt=1197,this.assign=PLATFORM.Is,this.Rr=t,this.Rr.raw=e,this.js=i,this.vt=void 0===s?PLATFORM.oi:s}evaluate(t,e,i){const s=this.vt,r=s.length,n=Array(r);for(let o=0,h=r;h>o;++o)n[o]=s[o].evaluate(t,e,i);const o=this.js.evaluate(t,e,i);if("function"!=typeof o)throw Reporter.error(207,this);return o.apply(null,[this.Rr].concat(n))}connect(t,e,i){const s=this.vt;for(let r=0,n=s.length;n>r;++r)s[r].connect(t,e,i);this.js.connect(t,e,i)}accept(t){return t.Lr(this)}}class ArrayBindingPattern{constructor(t){this.Rt=65556,this.elements=t}evaluate(t,e,i){}assign(t,e,i,s){}connect(t,e,i){}accept(t){return t.Br(this)}}class ObjectBindingPattern{constructor(t,e){this.Rt=65557,this.keys=t,this.values=e}evaluate(t,e,i){}assign(t,e,i,s){}connect(t,e,i){}accept(t){return t.Fr(this)}}class BindingIdentifier{constructor(name){this.Rt=65558,this.name=name}evaluate(t,e,i){return this.name}connect(t,e,i){}accept(t){return t.Ir(this)}}const toStringTag={}.toString;class ForOfStatement{constructor(t,e){this.Rt=55,this.assign=PLATFORM.Is,this.Or=t,this.Cr=e}evaluate(t,e,i){return this.Cr.evaluate(t,e,i)}count(t){return CountForOfStatement[toStringTag.call(t)](t)}Tr(t,e){IterateForOfStatement[toStringTag.call(t)](t,e)}connect(t,e,i){this.Or.connect(t,e,i),this.Cr.connect(t,e,i)}accept(t){return t.Ar(this)}}class Interpolation{constructor(parts,t){this.Rt=24,this.assign=PLATFORM.Is,this.parts=parts,this.vt=void 0===t?PLATFORM.oi:t,this.Sr=this.vt.length>1,this.Pr=this.vt[0]}evaluate(t,e,i){if(this.Sr){const s=this.vt,parts=this.parts;let r=parts[0];for(let n=0,o=s.length;o>n;++n)r+=s[n].evaluate(t,e,i),r+=parts[n+1];return r}{const parts=this.parts;return parts[0]+this.Pr.evaluate(t,e,i)+parts[1]}}connect(t,e,i){}accept(t){return t.$r(this)}}BindingBehavior.prototype.Rt=38962,ValueConverter.prototype.Rt=36913,Assign.prototype.Rt=8208,Conditional.prototype.Rt=63,AccessThis.prototype.Rt=1793,AccessScope.prototype.Rt=10082,AccessMember.prototype.Rt=9323,AccessKeyed.prototype.Rt=9324,CallScope.prototype.Rt=1448,CallMember.prototype.Rt=1161,CallFunction.prototype.Rt=1162,Binary.prototype.Rt=46,Unary.prototype.Rt=39,PrimitiveLiteral.prototype.Rt=17925,HtmlLiteral.prototype.Rt=51,ArrayLiteral.prototype.Rt=17955,ObjectLiteral.prototype.Rt=17956,Template.prototype.Rt=17958,TaggedTemplate.prototype.Rt=1197,ArrayBindingPattern.prototype.Rt=65556,ObjectBindingPattern.prototype.Rt=65557,BindingIdentifier.prototype.Rt=65558,ForOfStatement.prototype.Rt=55,Interpolation.prototype.Rt=24;const IterateForOfStatement={wr(t,e){for(let i=0,s=t.length;s>i;++i)e(t,i,t[i])},Mr(t,e){const i=Array(t.size);let s=-1;for(const e of t.entries())i[++s]=e;IterateForOfStatement["wr"](i,e)},Vr(t,e){const i=Array(t.size);let s=-1;for(const e of t.keys())i[++s]=e;IterateForOfStatement["wr"](i,e)},Dr(t,e){const i=Array(t);for(let e=0;t>e;++e)i[e]=e;IterateForOfStatement["wr"](i,e)},Er(t,e){},kr(t,e){}},CountForOfStatement={wr:t=>t.length,Mr:t=>t.size,Vr:t=>t.size,Dr:t=>t,Er:()=>0,kr:()=>0};(function(BindingMode){BindingMode[BindingMode.oneTime=1]="oneTime",BindingMode[BindingMode.hi=2]="toView",BindingMode[BindingMode.Ls=4]="fromView",BindingMode[BindingMode.jr=6]="twoWay",BindingMode[BindingMode.default=8]="default"})(BindingMode||(BindingMode={})),(function(State){State[State.Ii=0]="none",State[State._r=1]="isBinding",State[State.Nr=2]="isBound",State[State.xr=4]="isAttaching",State[State.Kr=8]="isAttached",State[State.Ur=16]="isMounted",State[State.qr=32]="isDetaching",State[State.zr=64]="isUnbinding",State[State.Wr=128]="isCached",State[State.Hr=256]="isContainerless"})(State||(State={})),(function(Hooks){Hooks[Hooks.Ii=1]="none",Hooks[Hooks.Gr=2]="hasCreated",Hooks[Hooks.Qr=4]="hasBinding",Hooks[Hooks.Xr=8]="hasBound",Hooks[Hooks.Jr=16]="hasAttaching",Hooks[Hooks.Yr=32]="hasAttached",Hooks[Hooks.Zr=64]="hasDetaching",Hooks[Hooks.tn=128]="hasDetached",Hooks[Hooks.en=256]="hasUnbinding",Hooks[Hooks.in=512]="hasUnbound",Hooks[Hooks.sn=1024]="hasRender",Hooks[Hooks.rn=2048]="hasCaching"})(Hooks||(Hooks={}));const IRenderable=DI.Xi("IRenderable").nn(),IViewFactory=DI.Xi("IViewFactory").nn(),marker=Object.freeze(Object.create(null)),ILifecycle=DI.Xi("ILifecycle").Qi(t=>t.singleton(Lifecycle));class Lifecycle{constructor(){this.on=0,this.hn=0,this.cn=0,this.ln=0,this.an=this,this.un=this,this.dn=this,this.fn=this,this.gn=this,this.pn=this,this.bn=this,this.mn=this,this.yn=this,this.Rn=this,this.vn=this,this.Ln=this,this.Bn=this,this.Fn=this,this.In=this,this.On=this,this.Cn=this,this.Tn=this,this.An=this,this.Sn=this,this.Pn=null,this.$n=Promise.resolve(),this.wn=0,this.Mn=0,this.Vn=0,this.Dn=0,this.En=0,this.kn=0,this.jn=0,this._n=0,this.Nn=0,this.xn=0,this.Pt=marker,this.flush=PLATFORM.Is,this.Kn=marker,this.connect=PLATFORM.Is,this.Un=marker,this.Mt=PLATFORM.Is,this.ii=marker,this.bound=PLATFORM.Is,this.gi=marker,this.di=PLATFORM.Is,this.ri=marker,this.qn=PLATFORM.Is,this.pi=marker,this.fi=PLATFORM.Is,this.ni=marker,this.zn=PLATFORM.Is,this.ei=marker,this.$e=PLATFORM.Is,this.si=marker,this.Wn=PLATFORM.Is,this.Hn=null}static register(t){return Registration.singleton(ILifecycle,this).register(t)}Gn(t){null===this.Hn&&(this.Hn=new AggregateLifecycleTask),this.Hn.Qn(t)}Xn(t){null!==this.Hn&&(this.Hn===t?this.Hn=null:this.Hn.Jn(t))}X(t){return this.an===this&&(this.Pn=this.$n.then(()=>{this.Yn(LifecycleFlags.u)})),null===t.Pt&&(t.Pt=marker,this.un.Pt=t,this.un=t,++this.wn),this.Pn}Yn(t){for(t|=LifecycleFlags.g;this.wn>0;){let e,i=this.an.Pt;this.an=this.un=this,this.wn=0;do{e=i.Pt,i.Pt=null,i.flush(t),i=e}while(i!==marker);if(t&LifecycleFlags.S)break}}we(){++this.on}Me(t){null===t.ii&&(t.ii=marker,this.mn.ii=t,this.mn=t,++this.Dn)}Zn(t){null===t.Kn&&(t.Kn=marker,this.fn.Kn=t,this.fn=t,++this.Mn),null===t.Un&&(t.Un=marker,this.pn.Un=t,this.pn=t,++this.Vn)}eo(t){if(this.Mn>0){this.Mn=0;let e,i=this.dn.Kn;this.dn=this.fn=this;do{i.connect(t),e=i.Kn,i.Kn=null,i=e}while(i!==marker)}}io(t){for(t&LifecycleFlags.p&&this.Yn(t|LifecycleFlags.g);this.Vn>0;){this.Vn=0;let e,i=this.gn.Un;this.gn=this.pn=this;do{i.Mt(t),e=i.Un,i.Un=null,i=e}while(i!==marker)}}De(t){if(0==--this.on)return null===this.Hn||this.Hn.done?(this.so(t),LifecycleTask.done):(this.Hn.ro=this,this.Hn)}so(t){for(t&LifecycleFlags.p&&this.Yn(t|LifecycleFlags.g);this.Dn>0;){this.Dn=0;let e,i=this.bn.ii;this.bn=this.mn=this;do{i.bound(t),e=i.ii,i.ii=null,i=e}while(i!==marker)}}Ne(){++this.ln}xe(t){null===t.si&&(t.si=marker,this.Sn.si=t,this.Sn=t,++this.xn)}Ue(t){if(0==--this.ln)return null===this.Hn||this.Hn.done?(this.no(t),LifecycleTask.done):(this.Hn.ro=this,this.Hn)}no(t){for(;this.xn>0;){this.xn=0;let e,i=this.An.si;this.An=this.Sn=this;do{i.Wn(t),e=i.si,i.si=null,i=e}while(i!==marker)}}ce(){++this.hn}pe(t){null===t.gi&&(t.gi=marker,this.Rn.gi=t,this.Rn=t,++this.En)}ae(t){null===t.ri&&(t.ri=marker,this.Ln.ri=t,this.Ln=t,++this.kn)}ue(t){if(0==--this.hn)return null===this.Hn||this.Hn.done?(this.oo(t),LifecycleTask.done):(this.Hn.ro=this,this.Hn)}oo(t){if(this.Yn(t|LifecycleFlags.g),this.En>0){this.En=0;let e,i=this.yn.gi;this.yn=this.Rn=this;do{i.di(t),e=i.gi,i.gi=null,i=e}while(i!==marker)}if(this.eo(LifecycleFlags.t),this.kn>0){this.kn=0;let e,i=this.vn.ri;this.vn=this.Ln=this;do{i.qn(t),e=i.ri,i.ri=null,i=e}while(i!==marker)}}be(){++this.cn}ve(t){if(null===t.pi&&(t.pi=marker,this.Fn.pi=t,this.Fn=t,++this.jn),null!==t.gi){let e=this.yn,i=e.gi;for(;i!==t;)i=(e=i).gi;e.gi=i.gi,i.gi=null,this.Rn===i&&(this.Rn=this),--this.En}}ye(t){null===t.ni&&(t.ni=marker,this.On.ni=t,this.On=t,++this._n)}ho(t){null===t.ei&&(t.ei=marker,this.Tn.ei=t,this.Tn=t,++this.Nn)}Re(t){if(0==--this.cn)return null===this.Hn||this.Hn.done?(this.co(t),LifecycleTask.done):(this.Hn.ro=this,this.Hn)}co(t){if(this.Yn(t|LifecycleFlags.Ct|LifecycleFlags.S),this.jn>0){this.jn=0;let e,i=this.Bn.pi;this.Bn=this.Fn=this;do{i.fi(t),e=i.pi,i.pi=null,i=e}while(i!==marker)}if(this._n>0){this._n=0;let e,i=this.In.ni;this.In=this.On=this;do{i.zn(t),e=i.ni,i.ni=null,i=e}while(i!==marker)}if(this.Nn>0){this.Ne(),this.Nn=0;let e,i=this.Cn.ei;this.Cn=this.Tn=this;do{i.$e(t),e=i.ei,i.ei=null,i=e}while(i!==marker);this.Ue(t)}}}class CompositionCoordinator{constructor($lifecycle){this.$lifecycle=$lifecycle,this.lo=PLATFORM.Is,this.currentView=null,this.Kr=0,this.Nr=0,this.ao=null,this.uo=LifecycleTask.done}static register(t){return Registration.transient(this,this).register(t,this)}do(value,t){this.uo.done?value instanceof Promise?(this.fo(new PromiseSwap(this,value)),this.po()):this.bo(value,t):(value instanceof Promise?this.fo(new PromiseSwap(this,value)):this.fo(value),this.uo.mo()&&this.uo.cancel())}Ve(t,e){this.scope=e,this.Nr=1,null!==this.currentView&&this.currentView.je(t,e)}le(t){this.Kr=1,null!==this.currentView&&this.currentView.fe(t)}me(t){this.Kr=0,null!==this.currentView&&this.currentView.Be(t)}Ke(t){this.Nr=0,null!==this.currentView&&this.currentView.$e(t)}Ie(t){this.currentView=null}fo(t){null===this.ao&&(this.ao=[]),this.ao.push(t)}bo(t,e){if(this.currentView===t)return;const $lifecycle=this.$lifecycle,i=new AggregateLifecycleTask;let s,r=this.currentView;null===r?s=LifecycleTask.done:($lifecycle.ho(r),$lifecycle.be(),r.Be(e),s=$lifecycle.Re(e)),i.Qn(s),null===(r=this.currentView=t)?s=LifecycleTask.done:(this.Nr&&($lifecycle.we(),r.je(e,this.scope),$lifecycle.De(e)),this.Kr?($lifecycle.ce(),r.fe(e),s=$lifecycle.ue(e)):s=LifecycleTask.done),i.Qn(s),i.done?(this.uo=LifecycleTask.done,this.lo()):(this.uo=i,this.uo.yo().then(()=>{this.lo(),this.po()}).catch(t=>{throw t}))}po(){if(null!==this.ao&&this.ao.length>0){const t=this.ao.pop();this.ao.length=0,PromiseSwap.is(t)?this.uo=t.start():this.bo(t,LifecycleFlags.T)}else this.uo=LifecycleTask.done}}CompositionCoordinator.inject=[ILifecycle];const LifecycleTask={done:{done:1,mo:()=>0,cancel(){},yo:()=>Promise.resolve()}};class AggregateLifecycleTask{constructor(){this.done=1,this.ro=null,this.resolve=null,this.Ro=[],this.vo=null}Qn(t){t.done||(this.done=0,this.Ro.push(t),t.yo().then(()=>{this.Lo()}).catch(t=>{throw t}))}Jn(t){if(t.done){const e=this.Ro.indexOf(t);-1!==e&&this.Ro.splice(e,1)}0===this.Ro.length&&null!==this.ro&&(this.ro.Xn(this),this.ro=null)}mo(){return this.done?0:this.Ro.every(t=>t.mo())}cancel(){this.mo()&&(this.Ro.forEach(t=>{t.cancel()}),this.done=0)}yo(){return null===this.vo&&(this.vo=this.done?Promise.resolve():new Promise(t=>this.resolve=t)),this.vo}Lo(){this.done||this.Ro.every(t=>t.done)&&this.complete(1)}complete(t){this.done=1,t&&null!==this.ro&&(this.ro.co(LifecycleFlags.T),this.ro.no(LifecycleFlags.T),this.ro.so(LifecycleFlags.T),this.ro.oo(LifecycleFlags.T)),this.ro.Xn(this),null!==this.resolve&&this.resolve()}}class PromiseSwap{constructor(t,e){this.Bo=t,this.done=0,this.Fo=0,this.$n=e}static is(t){return"start"in t}start(){return this.Fo?LifecycleTask.done:(this.$n=this.$n.then(t=>(this.Io(t),t)),this)}mo(){return!this.done}cancel(){this.mo()&&(this.Fo=1)}yo(){return this.$n}Io(value){this.Fo||(this.done=1,this.Bo.do(value,LifecycleFlags.T))}}class PromiseTask{constructor(t,e){this.done=0,this.Fo=0,this.ai=e,this.$n=t.then(value=>{if(1!=this.Fo)return this.done=1,this.ai(value),value})}mo(){return!this.done}cancel(){this.mo()&&(this.Fo=1)}yo(){return this.$n}}const slotNames=[],versionSlotNames=[];let lastSlot=-1;ensureEnoughSlotNames(-1);const{oneTime,hi:toView,Ls:fromView}=BindingMode,toViewOrOneTime=toView|oneTime;let Binding=class{constructor(t,e,i,mode,s,r){this._e=null,this.ze=null,this.$state=0,this.$lifecycle=r.get(ILifecycle),this.Kn=null,this.Un=null,this.$scope=null,this.ms=r,this.mode=mode,this.Ft=s,this.Oo=t,this.target=e,this.Co=i}To(value,t){this.targetObserver.gt(value,(t|=this.Ao)|LifecycleFlags.h)}So(value,t){this.Oo.assign((t|=this.Ao)|LifecycleFlags.l,this.$scope,this.ms,value)}G(t,e,i){if(!(2&this.$state))return;const s=this.Oo,$scope=this.$scope,r=this.ms;if(i|=this.Ao,this.mode===BindingMode.Ls&&(i&=~LifecycleFlags.h,i|=LifecycleFlags.l),i&LifecycleFlags.h){const mode=this.mode,e=this.targetObserver.ft();return(10082!==s.Rt||this.Lt>1)&&(t=s.evaluate(i,$scope,r)),t!==e&&this.To(t,i),void(0==(mode&oneTime)&&(this.version++,s.connect(i,$scope,this),this.unobserve(0)))}if(!(i&LifecycleFlags.l))throw Reporter.error(15,LifecycleFlags[i]);t!==s.evaluate(i,$scope,r)&&this.So(t,i)}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t|LifecycleFlags.R)}this.$state|=1,this.Ao=t&LifecycleFlags.Ci,this.$scope=e;let i=this.Oo;hasBind(i)&&i.bind(t,e,this);const mode=this.mode;let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=mode&fromView?this.Ft.Bt(this.target,this.Co):this.Ft.Po(this.target,this.Co)),targetObserver.bind&&targetObserver.bind(t),i=this.Oo,mode&toViewOrOneTime&&this.To(i.evaluate(t,e,this.ms),t),mode&toView&&this.$lifecycle.Zn(this),mode&fromView&&targetObserver.subscribe(this),this.$state|=2,this.$state&=-2}$e(t){if(!(2&this.$state))return;this.$state|=64,this.Ao=LifecycleFlags.Ii;const e=this.Oo;hasUnbind(e)&&e.ys(t,this.$scope,this),this.$scope=null;const targetObserver=this.targetObserver;targetObserver.ys&&targetObserver.ys(t),targetObserver.unsubscribe&&targetObserver.unsubscribe(this),this.unobserve(1),this.$state&=-67}connect(t){2&this.$state&&this.Oo.connect((t|=this.Ao)|LifecycleFlags.t,this.$scope,this)}Mt(t){2&this.$state&&this.To(this.Oo.evaluate((t|=this.Ao)|LifecycleFlags.t,this.$scope,this.ms),t)}};Binding=__decorate([connectable()],Binding);class Call{constructor(t,e,i,s,r){this._e=null,this.ze=null,this.$state=0,this.ms=r,this.Oo=t,this.targetObserver=s.Bt(e,i)}$o(t){const e=this.$scope.Ui;Object.assign(e,t);const i=this.Oo.evaluate(LifecycleFlags.t,this.$scope,this.ms);for(const i in t)delete e[i];return i}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t|LifecycleFlags.R)}this.$state|=1,this.$scope=e;const i=this.Oo;hasBind(i)&&i.bind(t,e,this),this.targetObserver.gt(t=>this.$o(t),t),this.$state|=2,this.$state&=-2}$e(t){if(!(2&this.$state))return;this.$state|=64;const e=this.Oo;hasUnbind(e)&&e.ys(t,this.$scope,this),this.$scope=null,this.targetObserver.gt(null,t),this.$state&=-67}Ot(t,e){}G(t,e,i){}}const IExpressionParser=DI.Xi("IExpressionParser").Qi(t=>t.singleton(ExpressionParser));class ExpressionParser{constructor(){this.wo=Object.create(null),this.Mo=Object.create(null),this.Vo=Object.create(null)}parse(t,e){switch(e){case 2048:{let i=this.Vo[t];return void 0===i&&(i=this.Vo[t]=this.Do(t,e)),i}case 539:{let i=this.Mo[t];return void 0===i&&(i=this.Mo[t]=this.Do(t,e)),i}default:{if(0===t.length&&55&e)return PrimitiveLiteral.pr;let i=this.wo[t];return void 0===i&&(i=this.wo[t]=this.Do(t,e)),i}}}cache(t){const{Mo:e,wo:i,Vo:s}=this;for(const r in t){const n=t[r];switch(n.Rt){case 24:s[r]=n;break;case 55:e[r]=n;break;default:i[r]=n}}}Do(t,e){try{const parts=t.split("."),e=parts[0];let i;i=e.endsWith("()")?new CallScope(e.replace("()",""),PLATFORM.oi):new AccessScope(parts[0]);let s=1;for(;parts.length>s;){const t=parts[s];i=t.endsWith("()")?new CallMember(i,t.replace("()",""),PLATFORM.oi):new AccessMember(i,parts[s]),s++}return i}catch(t){throw Reporter.error(3,t)}}}(function(BindingType){BindingType[BindingType.Ti=0]="None",BindingType[BindingType.Interpolation=2048]="Interpolation",BindingType[BindingType.Eo=1280]="IsRef",BindingType[BindingType.ko=512]="IsIterator",BindingType[BindingType.jo=256]="IsCustom",BindingType[BindingType._o=128]="IsFunction",BindingType[BindingType.No=64]="IsEvent",BindingType[BindingType.xo=32]="IsProperty",BindingType[BindingType.Ko=16]="IsCommand",BindingType[BindingType.Uo=48]="IsPropertyCommand",BindingType[BindingType.qo=80]="IsEventCommand",BindingType[BindingType.zo=6]="DelegationStrategyDelta",BindingType[BindingType.Wo=15]="Command",BindingType[BindingType.Ho=49]="OneTimeCommand",BindingType[BindingType.Go=50]="ToViewCommand",BindingType[BindingType.Qo=51]="FromViewCommand",BindingType[BindingType.Xo=52]="TwoWayCommand",BindingType[BindingType.Jo=53]="BindCommand",BindingType[BindingType.Yo=86]="TriggerCommand",BindingType[BindingType.Zo=87]="CaptureCommand",BindingType[BindingType.th=88]="DelegateCommand",BindingType[BindingType.eh=153]="CallCommand",BindingType[BindingType.ih=26]="OptionsCommand",BindingType[BindingType.sh=539]="ForCommand",BindingType[BindingType.rh=284]="CustomCommand"})(BindingType||(BindingType={}));const{hi:toView$1,oneTime:oneTime$1}=BindingMode;class MultiInterpolationBinding{constructor(t,e,i,s,mode,r){this._e=null,this.ze=null,this.$state=0,this.$scope=null,this.nh=e,this.ms=r,this.mode=mode,this.Ft=t,this.target=i,this.Co=s;const n=e.vt,parts=this.parts=Array(n.length);for(let o=0,h=n.length;h>o;++o)parts[o]=new InterpolationBinding(n[o],e,i,s,mode,t,r,0===o)}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t)}this.$state|=2,this.$scope=e;const parts=this.parts;for(let i=0,s=parts.length;s>i;++i)parts[i].je(t,e)}$e(t){if(!(2&this.$state))return;this.$state&=-3,this.$scope=null;const parts=this.parts;for(let e=0,i=parts.length;i>e;++e)parts[e].$e(t)}}let InterpolationBinding=class{constructor(t,e,i,s,mode,r,n,o){this.$state=0,this.nh=e,this.oh=o,this.mode=mode,this.ms=n,this.Ft=r,this.Oo=t,this.target=i,this.Co=s,this.targetObserver=r.Po(i,s)}To(value,t){this.targetObserver.gt(value,t|LifecycleFlags.h)}G(t,e,i){if(!(2&this.$state))return;const s=this.targetObserver.ft(),r=this.nh.evaluate(i,this.$scope,this.ms);r!==s&&this.To(r,i),0==(this.mode&oneTime$1)&&(this.version++,this.Oo.connect(i,this.$scope,this),this.unobserve(0))}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t)}this.$state|=2,this.$scope=e;const i=this.Oo;i.bind&&i.bind(t,e,this),this.oh&&this.To(this.nh.evaluate(t,e,this.ms),t),this.mode&toView$1&&i.connect(t,e,this)}$e(t){if(!(2&this.$state))return;this.$state&=-3;const e=this.Oo;e.ys&&e.ys(t,this.$scope,this),this.$scope=null,this.unobserve(1)}};InterpolationBinding=__decorate([connectable()],InterpolationBinding);let LetBinding=class{constructor(t,e,i,s,toViewModel=0){this._e=null,this.ze=null,this.$state=0,this.$lifecycle=s.get(ILifecycle),this.$scope=null,this.ms=s,this.Ft=i,this.Oo=t,this.target=null,this.Co=e,this.toViewModel=toViewModel}G(t,e,i){if(2&this.$state){if(!(i&LifecycleFlags.h))throw Reporter.error(15,i);{const{target:t,Co:e}=this,s=t[e],r=this.Oo.evaluate(i,this.$scope,this.ms);r!==s&&(t[e]=r)}}}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t|LifecycleFlags.R)}this.$state|=1,this.$scope=e,this.target=this.toViewModel?e.zi:e.Ui;const i=this.Oo;i.bind&&i.bind(t,e,this),this.target[this.Co]=this.Oo.evaluate(LifecycleFlags.R,e,this.ms),this.Oo.connect(t,e,this),this.$state|=2,this.$state&=-2}$e(t){if(!(2&this.$state))return;this.$state|=64;const e=this.Oo;e.ys&&e.ys(t,this.$scope,this),this.$scope=null,this.unobserve(1),this.$state&=-67}};LetBinding=__decorate([connectable()],LetBinding);class Ref{constructor(t,e,i){this._e=null,this.ze=null,this.$state=0,this.ms=i,this.Oo=t,this.target=e}je(t,e){if(2&this.$state){if(this.$scope===e)return;this.$e(t|LifecycleFlags.R)}this.$state|=1,this.$scope=e;const i=this.Oo;hasBind(i)&&i.bind(t,e,this),this.Oo.assign(t,this.$scope,this.ms,this.target),this.$state|=2,this.$state&=-2}$e(t){if(!(2&this.$state))return;this.$state|=64,this.Oo.evaluate(t,this.$scope,this.ms)===this.target&&this.Oo.assign(t,this.$scope,this.ms,null);const e=this.Oo;hasUnbind(e)&&e.ys(t,this.$scope,this),this.$scope=null,this.$state&=-67}Ot(t,e){}G(t,e,i){}}let CollectionLengthObserver=class{constructor(t,e){this.at=t,this.ut=e,this.dt=t[e]}ft(){return this.at[this.ut]}St(t){this.at[this.ut]=t}Mt(t){this.W(this.at[this.ut],this.dt,t),this.dt=this.at[this.ut]}subscribe(t){this.N(t)}unsubscribe(t){this.K(t)}};CollectionLengthObserver=__decorate([targetObserver()],CollectionLengthObserver);const proto=Array.prototype,$push=proto.push,$unshift=proto.unshift,$pop=proto.pop,$shift=proto.shift,$splice=proto.splice,$reverse=proto.reverse,$sort=proto.sort,native={push:$push,unshift:$unshift,pop:$pop,shift:$shift,splice:$splice,reverse:$reverse,sort:$sort},methods=["push","unshift","pop","shift","splice","reverse","sort"],observe={push(){const t=this.Dt;if(void 0===t)return $push.apply(this,arguments);const e=this.length,i=arguments.length;if(0===i)return e;this.length=t.$t.length=e+i;let s=e;for(;this.length>s;)this[s]=arguments[s-e],t.$t[s]=-2,s++;return t.W("push",arguments,LifecycleFlags.i),this.length},unshift(){const t=this.Dt;if(void 0===t)return $unshift.apply(this,arguments);const e=arguments.length,i=Array(e);let s=0;for(;e>s;)i[s++]=-2;$unshift.apply(t.$t,i);const r=$unshift.apply(this,arguments);return t.W("unshift",arguments,LifecycleFlags.i),r},pop(){const t=this.Dt;if(void 0===t)return $pop.call(this);const e=t.$t,i=$pop.call(this);return e[e.length-1]>-1&&$pop.call(e.kt,i),$pop.call(e),t.W("pop",arguments,LifecycleFlags.i),i},shift(){const t=this.Dt;if(void 0===t)return $shift.call(this);const e=t.$t,i=$shift.call(this);return e[0]>-1&&$shift.call(e.kt,i),$shift.call(e),t.W("shift",arguments,LifecycleFlags.i),i},splice(t,e){const i=this.Dt;if(void 0===i)return $splice.apply(this,arguments);const s=i.$t;if(e>0){let i=isNaN(t)?0:t;const to=i+e;for(;to>i;)s[i]>-1&&$splice.call(s.kt,this[i]),i++}const r=arguments.length;if(r>2){const i=r-2,n=Array(i);let o=0;for(;i>o;)n[o++]=-2;$splice.call(s,t,e,...n)}else 2===r&&$splice.call(s,t,e);const n=$splice.apply(this,arguments);return i.W("splice",arguments,LifecycleFlags.i),n},reverse(){const t=this.Dt;if(void 0===t)return $reverse.call(this);const e=this.length,i=e/2|0;let s=0;for(;s!==i;){const i=e-s-1,r=this[s],n=t.$t[s],o=t.$t[i];this[s]=this[i],t.$t[s]=o,this[i]=r,t.$t[i]=n,s++}return t.W("reverse",arguments,LifecycleFlags.i),this},sort(t){const e=this.Dt;if(void 0===e)return $sort.call(this,t);const i=this.length;if(2>i)return this;quickSort(this,e.$t,0,i,preSortCompare);let s=0;for(;i>s&&void 0!==this[s];)s++;return void 0!==t&&"function"==typeof t||(t=sortCompare),quickSort(this,e.$t,0,s,t),e.W("sort",arguments,LifecycleFlags.i),this}},descriptorProps={hh:1,Li:0,qt:1},def=Object.defineProperty;for(const t of methods)def(observe[t],"observing",{value:1,hh:0,qt:0,Li:0});enableArrayObservation();let ArrayObserver=class{constructor(t,e){this.J=t,e.Dt=this,this.Et=e,this.Vt()}};ArrayObserver=__decorate([collectionObserver(9)],ArrayObserver);const proto$1=Map.prototype,$set=proto$1.set,$clear=proto$1.clear,$delete=proto$1.delete,native$1={set:$set,clear:$clear,delete:$delete},methods$1=["set","clear","delete"],observe$1={set(t,value){const e=this.Dt;if(void 0===e)return $set.call(this,t,value);const i=this.size;if($set.call(this,t,value),this.size===i){let i=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==value&&(e.$t[i]=-2),this;i++}return this}return e.$t[i]=-2,e.W("set",arguments,LifecycleFlags.i),this},clear(){const t=this.Dt;if(void 0===t)return $clear.call(this);if(this.size>0){const e=t.$t;let i=0;for(const t of this.keys())e[i]>-1&&e.kt.push(t),i++;$clear.call(this),e.length=0,t.W("clear",arguments,LifecycleFlags.i)}},delete(value){const t=this.Dt;if(void 0===t)return $delete.call(this,value);if(0===this.size)return 0;let e=0;const i=t.$t;for(const t of this.keys()){if(t===value)return i[e]>-1&&i.kt.push(t),i.splice(e,1),$delete.call(this,value);e++}return t.W("delete",arguments,LifecycleFlags.i),0}},descriptorProps$1={hh:1,Li:0,qt:1},def$1=Object.defineProperty;for(const t of methods$1)def$1(observe$1[t],"observing",{value:1,hh:0,qt:0,Li:0});enableMapObservation();let MapObserver=class{constructor(t,e){this.J=t,e.Dt=this,this.Et=e,this.Vt()}};MapObserver=__decorate([collectionObserver(6)],MapObserver);const proto$2=Set.prototype,$add=proto$2.add,$clear$1=proto$2.clear,$delete$1=proto$2.delete,native$2={add:$add,clear:$clear$1,delete:$delete$1},methods$2=["add","clear","delete"],observe$2={add(value){const t=this.Dt;if(void 0===t)return $add.call(this,value);const e=this.size;return $add.call(this,value),this.size===e?this:(t.$t[e]=-2,t.W("add",arguments,LifecycleFlags.i),this)},clear(){const t=this.Dt;if(void 0===t)return $clear$1.call(this);if(this.size>0){const e=t.$t;let i=0;for(const t of this.keys())e[i]>-1&&e.kt.push(t),i++;$clear$1.call(this),e.length=0,t.W("clear",arguments,LifecycleFlags.i)}},delete(value){const t=this.Dt;if(void 0===t)return $delete$1.call(this,value);if(0===this.size)return 0;let e=0;const i=t.$t;for(const t of this.keys()){if(t===value)return i[e]>-1&&i.kt.push(t),i.splice(e,1),$delete$1.call(this,value);e++}return t.W("delete",arguments,LifecycleFlags.i),0}},descriptorProps$2={hh:1,Li:0,qt:1},def$2=Object.defineProperty;for(const t of methods$2)def$2(observe$2[t],"observing",{value:1,hh:0,qt:0,Li:0});enableSetObservation();let SetObserver=class{constructor(t,e){this.J=t,e.Dt=this,this.Et=e,this.Vt()}};SetObserver=__decorate([collectionObserver(7)],SetObserver);const noProxy="undefined"==typeof Proxy,computedOverrideDefaults={lh:0,Wt:0};let CustomSetterObserver=class{constructor(t,e,i,s){this.Pt=null,this.at=t,this.lt=0,this.ut=e,this.ah=i,this.J=s}ft(){return this.at[this.ut]}gt(t){this.at[this.ut]=t}flush(t){this.W(this.dt,this.oldValue,t|LifecycleFlags.h)}subscribe(t){this.lt||this.uh(),this.N(t)}unsubscribe(t){this.K(t)}uh(){const t=this.ah.set,e=this;this.lt=1,this.dt=this.at[this.ut],Reflect.defineProperty(this.at,this.ut,{set(i){t.call(e.at,i);const s=e.dt;s!==i&&(e.oldValue=s,e.J.X(e).catch(t=>{throw t}),e.dt=i)}})}};(CustomSetterObserver=__decorate([subscriberCollection(MutationKind.H)],CustomSetterObserver)).prototype.pt=PLATFORM.Is;let GetterObserver=class{constructor(t,e,i,s,r,n){this.at=e,this.ut=i,this.controller=new GetterController(t,e,i,s,this,r,n)}ft(){return this.controller.value}gt(t){}flush(t){const e=this.controller.value,i=this.controller.dh();e!==i&&this.W(i,e,t|LifecycleFlags.h)}subscribe(t){this.N(t),this.controller.fh()}unsubscribe(t){this.K(t),this.controller.gh()}};(GetterObserver=__decorate([subscriberCollection(MutationKind.H)],GetterObserver)).prototype.pt=PLATFORM.Is;class GetterController{constructor(t,e,i,s,r,n,o){this.Ht=0,this.dependencies=[],this.H=e,this.J=o,this.ph=t,this.ro=r,this.propertyName=i,this.bh=0;const h=new Proxy(e,createGetterTraps(n,this)),c=s.get,l=this;Reflect.defineProperty(e,i,{get:()=>((1>l.bh||l.Ht)&&(l.value=c.apply(h)),l.value)})}Gt(t){this.dependencies.includes(t)||this.dependencies.push(t)}fh(){this.bh++,this.bh>1||this.dh(1)}dh(t=0){const e=!this.ph.lh||t;return e&&(this.mh(),this.Ht=1),this.value=this.H[this.propertyName],e&&(this.Ht=0,this.dependencies.forEach(t=>{t.subscribe(this)})),this.value}gh(){this.bh--,0===this.bh&&this.mh()}G(){this.J.X(this.ro).catch(t=>{throw t})}mh(){this.dependencies.forEach(t=>{t.unsubscribe(this)}),this.dependencies.length=0}}const IDirtyChecker=DI.Xi("IDirtyChecker").Qi(t=>t.singleton(DirtyChecker));class DirtyChecker{constructor(){this.yh=120,this.Rh=[]}zt(t,e){return new DirtyCheckProperty(this,t,e)}vh(t){const e=this.Rh;e.push(t),1===e.length&&this.Lh()}removeProperty(t){const e=this.Rh;e.splice(e.indexOf(t),1)}Lh(){PLATFORM.global.setTimeout(()=>{this.Bh()},this.yh)}Bh(){const t=this.Rh;let e=t.length;for(;e--;){const i=t[e];i.Fh()&&i.flush(LifecycleFlags.Ct)}t.length&&this.Lh()}}let DirtyCheckProperty=class{constructor(t,e,i){this.at=e,this.ut=i,this.Ih=t}Fh(){return this.oldValue!==this.at[this.ut]}ft(){return this.at[this.ut]}gt(t){this.at[this.ut]=t}flush(t){const e=this.oldValue,i=this.ft();this.W(i,e,t|LifecycleFlags.h),this.oldValue=i}subscribe(t){this.q()||(this.oldValue=this.ft(),this.Ih.vh(this)),this.N(t)}unsubscribe(t){this.K(t)&&!this.q()&&this.Ih.removeProperty(this)}};DirtyCheckProperty=__decorate([propertyObserver()],DirtyCheckProperty);const noop=PLATFORM.Is;class PrimitiveObserver{constructor(t,e){this.Oh=1,"length"===e?(this.at=t,this.ft=this.Ch):this.ft=this.Th}Ch(){return this.at.length}Th(){}}PrimitiveObserver.prototype.gt=noop,PrimitiveObserver.prototype.subscribe=noop,PrimitiveObserver.prototype.unsubscribe=noop,PrimitiveObserver.prototype.pt=noop;class PropertyAccessor{constructor(t,e){this.at=t,this.ut=e}ft(){return this.at[this.ut]}gt(value){this.at[this.ut]=value}}const toStringTag$1={}.toString,IObserverLocator=DI.Xi("IObserverLocator").nn(),ITargetObserverLocator=DI.Xi("ITargetObserverLocator").nn(),ITargetAccessorLocator=DI.Xi("ITargetAccessorLocator").nn();class ObserverLocator{constructor(t,e,i,s){this.Ah=[],this.Ih=e,this.J=t,this.Sh=i,this.Ph=s}static register(t){return Registration.singleton(IObserverLocator,this).register(t)}Bt(t,e){if(isBindingContext(t))return t.Wi().Ki(t,e);let i,s=t.Bi;return s&&e in s?s[e]:((i=this.$h(t,e)).Oh||(void 0===s&&(s=this.wh(t)),s[e]=i),i)}Mh(t){this.Ah.push(t)}Po(t,e){return this.Ph.Vh(t)?this.Sh.Dh(t,e)?this.Bt(t,e):this.Ph.Po(this.J,t,e):new PropertyAccessor(t,e)}Qt(t){return getArrayObserver(this.J,t)}Xt(t){return getMapObserver(this.J,t)}Jt(t){return getSetObserver(this.J,t)}wh(t){return t.Bi||this.Eh(t)}Eh(t){const value={};return Reflect.defineProperty(t,"$observers",{Li:0,qt:0,hh:0,value})||Reporter.write(0,t),value}kh(t,e,i){for(let s=0,r=this.Ah.length;r>s;s++){const r=this.Ah[s].Bt(t,e,i);if(r)return r}return null}$h(t,e){if(!(t instanceof Object))return new PrimitiveObserver(t,e);let i=0;if(this.Sh.Vh(t)){const s=this.Sh.Bt(this.J,this,t,e);if(null!==s)return s;if(null!==s)return s;i=1}switch(toStringTag$1.call(t)){case"[object Array]":return"length"===e?this.Qt(t).xt():this.Ih.zt(t,e);case"[object Map]":return"size"===e?this.Xt(t).xt():this.Ih.zt(t,e);case"[object Set]":return"size"===e?this.Jt(t).xt():this.Ih.zt(t,e)}const s=getPropertyDescriptor(t,e);if(s&&(s.get||s.set)){if(s.get&&s.get.Bt)return s.get.Bt(t);return this.kh(t,e,s)||(i?this.Ih.zt(t,e):createComputedObserver(this,this.Ih,this.J,t,e,s))}return new SetterObserver(t,e)}}ObserverLocator.inject=[ILifecycle,IDirtyChecker,ITargetObserverLocator,ITargetAccessorLocator];const noop$1=PLATFORM.Is;let SelfObserver=class{constructor(t,e,i){this.at=t,this.ut=e,this.dt=t[e],this.ai=i in t?t[i].bind(t):noop$1}ft(){return this.dt}gt(t,e){const i=this.dt;if(i!==t&&(this.dt=t,!(e&LifecycleFlags.R))){const s=this.ai(t,i);void 0!==s&&(this.dt=t=s),this.W(t,i,e)}}};SelfObserver=__decorate([propertyObserver()],SelfObserver);const{oneTime:oneTime$2,hi:toView$2,Ls:fromView$1,jr:twoWay}=BindingMode;class BindingModeBehavior{constructor(mode){this.mode=mode}bind(t,e,i){i.jh=i.mode,i.mode=this.mode}ys(t,e,i){i.mode=i.jh,i.jh=null}}class OneTimeBindingBehavior extends BindingModeBehavior{constructor(){super(oneTime$2)}}BindingBehaviorResource.yt("oneTime",OneTimeBindingBehavior);class ToViewBindingBehavior extends BindingModeBehavior{constructor(){super(toView$2)}}BindingBehaviorResource.yt("toView",ToViewBindingBehavior);class FromViewBindingBehavior extends BindingModeBehavior{constructor(){super(fromView$1)}}BindingBehaviorResource.yt("fromView",FromViewBindingBehavior);class TwoWayBindingBehavior extends BindingModeBehavior{constructor(){super(twoWay)}}BindingBehaviorResource.yt("twoWay",TwoWayBindingBehavior);const unset={},fromView$2=BindingMode.Ls;class DebounceBindingBehavior{bind(t,e,i,s=200){let r,n,o;i instanceof Binding?(r="handleChange",o=debounceCall,n=i.mode&fromView$2?LifecycleFlags.l:LifecycleFlags.h):(r="callSource",o=debounceCallSource,n=LifecycleFlags.h),i.ee=i[r],i.ee._h=r,i[r]=o,i.Zt={se:n,ie:s,te:0,oldValue:unset}}ys(t,e,i){i[i.ee._h]=i.ee,i.ee=null,PLATFORM.global.clearTimeout(i.Zt.te),i.Zt=null}}BindingBehaviorResource.yt("debounce",DebounceBindingBehavior);class SignalBindingBehavior{constructor(t){this.Nh=t}bind(t,e,i,...s){if(!i.To)throw Reporter.error(11);if(4===arguments.length){const name=s[0];this.Nh.Zi(name,i),i.xh=name}else{if(4>=arguments.length)throw Reporter.error(12);{const t=[].slice.call(arguments,3);let e=t.length;for(;e--;)this.Nh.Zi(t[e],i);i.xh=t}}}ys(t,e,i){const name=i.xh;if(i.xh=null,Array.isArray(name)){const t=name;let e=t.length;for(;e--;)this.Nh.ts(t[e],i)}else this.Nh.ts(name,i)}}SignalBindingBehavior.inject=[ISignaler],BindingBehaviorResource.yt("signal",SignalBindingBehavior);class ThrottleBindingBehavior{bind(t,e,i,s=200){let r;i.oe=i[r=i instanceof Binding?i.mode===BindingMode.jr?"updateSource":"updateTarget":"callSource"],i.oe._h=r,i[r]=throttle,i.re={ie:s,ne:0,te:-1}}ys(t,e,i){i[i.oe._h]=i.oe,i.oe=null,PLATFORM.global.clearTimeout(i.re.te),i.re=null}}BindingBehaviorResource.yt("throttle",ThrottleBindingBehavior);const customElementName="custom-element",customAttributeName="custom-attribute";(function(TargetedInstructionType){TargetedInstructionType.Kh="ra",TargetedInstructionType.Uh="rb",TargetedInstructionType.qh="rc",TargetedInstructionType.zh="rd",TargetedInstructionType.setProperty="re",TargetedInstructionType.nh="rf",TargetedInstructionType.Wh="rg",TargetedInstructionType.Hh="rh",TargetedInstructionType.Gh="ri",TargetedInstructionType.Qh="rj",TargetedInstructionType.Xh="rk"})(TargetedInstructionType||(TargetedInstructionType={}));const ITargetedInstruction=DI.Xi("createInterface").nn(),buildRequired=Object.freeze({required:1,compiler:"default"}),buildNotRequired=Object.freeze({required:0,compiler:"default"});class DefaultTemplateDefinition{constructor(){this.name="unnamed",this.template=null,this.cache=0,this.build=buildNotRequired,this.bindables=PLATFORM.he,this.instructions=PLATFORM.oi,this.dependencies=PLATFORM.oi,this.surrogates=PLATFORM.oi,this.containerless=0,this.shadowOptions=null,this.hasSlots=0}}const templateDefinitionAssignables=["name","template","cache","build","containerless","shadowOptions","hasSlots"],templateDefinitionArrays=["instructions","dependencies","surrogates"],{Jh:enter,Yh:leave}=Profiler.Zh("AttachLifecycle"),{Jh:enter$1,Yh:leave$1}=Profiler.Zh("BindLifecycle"),{Jh:enter$2,Yh:leave$2}=Profiler.Zh("RenderLifecycle"),CustomAttributeResource={name:customAttributeName,bt:customAttributeKey,es:isType$2,yt:define$2},INode=DI.Xi("INode").nn(),IRenderLocation=DI.Xi("IRenderLocation").nn(),IDOM=DI.Xi("IDOM").nn(),emptySequence={childNodes:PLATFORM.oi,firstChild:null,lastChild:null,tc:()=>PLATFORM.oi,insertBefore(t){},ec(t){},remove(){}},NodeSequence={empty:emptySequence};class If{constructor(t,e,i){this.value=0,this.Bo=i,this.ic=null,this.sc=null,this.rc=t,this.nc=null,this.location=e}Ve(t){const e=this.oc(t);this.Bo.do(e,t),this.Bo.Ve(t,this.$scope)}le(t){this.Bo.le(t)}me(t){this.Bo.me(t)}Ke(t){this.Bo.Ke(t)}Ie(t){null!==this.nc&&this.nc.release(t)&&(this.nc=null),null!==this.sc&&this.sc.release(t)&&(this.sc=null),this.Bo.Ie(t)}hc(t,e,i){if(i&LifecycleFlags.Ct){const t=this.oc(i);this.Bo.do(t,i)}else this.$lifecycle.X(this).catch(t=>{throw t})}flush(t){const e=this.oc(t);this.Bo.do(e,t)}oc(t){return this.value?this.nc=this.cc(this.nc,this.rc,t):null!==this.ic?this.sc=this.cc(this.sc,this.ic,t):null}cc(t,e,i){return null===t&&(t=e.create()),t.lc(this.location),t}}If.inject=[IViewFactory,IRenderLocation,CompositionCoordinator],__decorate([bindable],If.prototype,"value",void 0),CustomAttributeResource.yt({name:"if",isTemplateController:1},If);class Else{constructor(t){this.ac=t}link(t){t.ic=this.ac}}Else.inject=[IViewFactory],CustomAttributeResource.yt({name:"else",isTemplateController:1},Else);class Repeat{constructor(t,e,i){this.ac=i,this.uc=0,this.location=t,this.dc=null,this.fc=e,this.gc=[]}Ve(t){this.pc()}bound(t){let e=this.fc.ke;for(;null!==e;){if(e.target===this&&"items"===e.Co){this.bc=e.Oo;break}e=e._e}this.mc=this.bc.Or.evaluate(t,this.$scope,null),this.yc(null,t)}le(t){const{gc:e,location:i}=this;for(let s=0,r=e.length;r>s;++s){const r=e[s];r.lc(i),r.fe(t)}}me(t){const{gc:e}=this;for(let i=0,s=e.length;s>i;++i){const s=e[i];s.Be(t),s.release(t)}}Wn(t){this.pc();const{gc:e}=this;for(let i=0,s=e.length;s>i;++i)e[i].$e(t)}Rc(t,e,i){this.pc(),this.yc(null,i|LifecycleFlags.h)}ct(t){this.yc(t,LifecycleFlags.Ct|LifecycleFlags.h)}yc(t,e){const{gc:i,$lifecycle}=this;if(2&this.$state){const{mc:s,$scope,ac:r,bc:n,vc:o}=this,h=i.length,c=n.count(o);if(c>h){i.length=c;for(let t=h;c>t;++t)i[t]=r.create()}else if(h>c){$lifecycle.be();for(let t=c,s=i[t];h>t;s=i[++t])s.release(e),s.Be(e);$lifecycle.Re(e),$lifecycle.Ne();for(let t=c,s=i[t];h>t;s=i[++t])s.$e(e);if($lifecycle.Ue(e),i.length=c,0===c)return}else if(0===c)return;$lifecycle.we(),n.Tr(o,null===t?(t,r,n)=>{const o=i[r];o.je(e,Scope.Gi($scope,o.$scope&&o.$scope.zi[s]===n?o.$scope.zi:BindingContext.create(s,n)))}:(r,n,o)=>{const h=i[n];h.je(e,Scope.Gi($scope,!h.$scope||t[n]!==n&&h.$scope.zi[s]!==o?BindingContext.create(s,o):h.$scope.zi))}),$lifecycle.De(e)}if(8&this.$state){const{location:s}=this;if($lifecycle.ce(),null===t)for(let t=0,r=i.length;r>t;++t){const r=i[t];r.lc(s),r.fe(e)}else for(let r=0,n=i.length;n>r;++r)if(t[r]!==r){const t=i[r];t.lc(s),t.fe(e)}$lifecycle.ue(e)}}pc(){const t=this.dc;if(3&this.$state){const e=this.dc=getCollectionObserver(this.$lifecycle,this.vc);t!==e&&t&&t.Ut(this),e&&e.Kt(this)}else t&&t.Ut(this)}}Repeat.inject=[IRenderLocation,IRenderable,IViewFactory],__decorate([bindable],Repeat.prototype,"items",void 0),CustomAttributeResource.yt({name:"repeat",isTemplateController:1},Repeat);class Replaceable{constructor(t,e){this.ac=t,this.currentView=this.ac.create(),this.currentView.lc(e)}Ve(t){this.currentView.je(t|LifecycleFlags.$,this.$scope)}le(t){this.currentView.fe(t)}me(t){this.currentView.Be(t)}Ke(t){this.currentView.$e(t)}}Replaceable.inject=[IViewFactory,IRenderLocation],CustomAttributeResource.yt({name:"replaceable",isTemplateController:1},Replaceable);class With{constructor(t,e){this.value=null,this.ac=t,this.currentView=this.ac.create(),this.currentView.lc(e)}hc(){2&this.$state&&this.Lc(LifecycleFlags.C)}Ve(t){this.Lc(t)}le(t){this.currentView.fe(t)}me(t){this.currentView.Be(t)}Ke(t){this.currentView.$e(t)}Lc(t){const e=Scope.Gi(this.$scope,this.value);this.currentView.je(t,e)}}With.inject=[IViewFactory,IRenderLocation],__decorate([bindable],With.prototype,"value",void 0),CustomAttributeResource.yt({name:"with",isTemplateController:1},With);const IProjectorLocator=DI.Xi("IProjectorLocator").nn(),CustomElementResource={name:customElementName,bt:customElementKey,es:isType$3,Bc:customElementBehavior,yt:define$3},defaultShadowOptions={mode:"open"},SCRIPT_REGEX=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ISanitizer=DI.Xi("ISanitizer").Qi(t=>t.singleton(class{Fc(t){return t.replace(SCRIPT_REGEX,"")}}));class SanitizeValueConverter{constructor(t){this.Ic=t}hi(t){return null==t?null:this.Ic.Fc(t)}}SanitizeValueConverter.inject=[ISanitizer],ValueConverterResource.yt("sanitize",SanitizeValueConverter);class View{constructor($lifecycle,cache){this.ke=null,this.qe=null,this._e=null,this.ze=null,this.de=null,this.Le=null,this.ge=null,this.Fe=null,this.gi=null,this.pi=null,this.ei=null,this.$state=0,this.$scope=null,this.Se=0,this.$lifecycle=$lifecycle,this.cache=cache}lc(t){this.Se=0,this.location=t}release(t){return this.Se=1,8&this.$state?this.cache.Oc(this):!!this.fi(t)}Cc(t){this.$scope=t,this.je=lockedBind,this.$e=lockedUnbind}}class ViewFactory{constructor(name,template,t){this.Tc=0,this.Ac=-1,this.cache=null,this.J=t,this.name=name,this.template=template}Sc(t,e){t&&("*"===t?t=ViewFactory.Pc:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.Ac&&e||(this.Ac=t)),this.cache=this.Ac>0?[]:null,this.Tc=this.Ac>0}Oc(t){return null!==this.cache&&this.Ac>this.cache.length}Pe(t){return this.Oc(t)?(t.Oe(LifecycleFlags.Ii),this.cache.push(t),1):0}create(){const cache=this.cache;let t;if(null!==cache&&cache.length>0)return(t=cache.pop()).$state&=-129,t;if(t=new View(this.J,this),this.template.Xe(t),!t.$nodes)throw Reporter.error(90);return t}}ViewFactory.Pc=65535,(t=>{t.je=$bindView,t.$e=$unbindView,t.fe=$attachView,t.Be=$detachView,t.Oe=$cacheView,t.di=$mountView,t.fi=$unmountView})(View.prototype);const ITemplateCompiler=DI.Xi("ITemplateCompiler").nn();(function(ViewCompileFlags){ViewCompileFlags[ViewCompileFlags.Ii=1]="none",ViewCompileFlags[ViewCompileFlags.$c=2]="surrogate",ViewCompileFlags[ViewCompileFlags.wc=4]="shadowDOM"})(ViewCompileFlags||(ViewCompileFlags={}));const ITemplateFactory=DI.Xi("ITemplateFactory").nn();class CompiledTemplate{constructor(dom,t,e,i){this.dom=dom,this.Mc=t,this.ac=e,this.Vc=i}Xe(t,host,parts){const e=t.$nodes=this.ac.Dc();t.$context=this.Vc,this.Vc.Xe(t,e.tc(),this.Mc,host,parts)}}const noViewTemplate={Vc:null,dom:null,Xe(t){t.$nodes=NodeSequence.empty,t.$context=null}},defaultCompilerName="default",IInstructionRenderer=DI.Xi("IInstructionRenderer").nn(),IRenderer=DI.Xi("IRenderer").nn(),IRenderingEngine=DI.Xi("IRenderingEngine").Qi(t=>t.singleton(RenderingEngine));class RenderingEngine{constructor(t,e,i,s){this.Ec=new Map,this.kc=t,this.jc=e,this._c=new Map,this.J=i,this.Nc=new Map,this.xc=s.reduce((t,e)=>(t[e.name]=e,t),Object.create(null))}Je(dom,t,e,i){if(!t)return null;let s=this.Nc.get(t);return s||(s=this.Kc(dom,t,e,i),this.Nc.set(t,s)),s}Uc(dom,t,e){if(!t)return null;let i=this._c.get(t);if(!i){const s=buildTemplateDefinition(null,t),template=this.Kc(dom,s,e,null);(i=new ViewFactory(s.name,template,this.J)).Sc(s.cache,1),this._c.set(t,i)}return i}We(t,e){let i=this.Ec.get(t);i||(i=RuntimeBehavior.create(t),this.Ec.set(t,i)),i.qc(e,this.J)}Kc(dom,t,e,i){if(null===e&&(e=this.kc),null!==t.template){const s=createRenderContext(dom,e,t.dependencies,i);if(t.build.required){const e=t.build.compiler||defaultCompilerName,compiler=this.xc[e];if(void 0===compiler)throw Reporter.error(20,e);t=compiler.compile(dom,t,new RuntimeCompilationResources(s),ViewCompileFlags.$c)}return this.jc.create(s,t)}return noViewTemplate}}RenderingEngine.inject=[IContainer,ITemplateFactory,ILifecycle,all(ITemplateCompiler)];class InstanceProvider{constructor(){this.H=null}vi(t){this.H=t}resolve(t,e){if(void 0===this.H)throw Reporter.error(50);return this.H}pt(){this.H=null}}class ViewFactoryProvider{vi(t,parts){this.ac=t,this.zc=parts||PLATFORM.he}resolve(t,e){const i=this.ac;if(null==i)throw Reporter.error(50);if(!i.name||!i.name.length)throw Reporter.error(51);const s=this.zc[i.name];if(s){const i=t.get(IRenderingEngine),dom=t.get(IDOM);return i.Uc(dom,s,e)}return i}pt(){this.ac=null,this.zc=PLATFORM.he}}let ChildrenObserver=class{constructor(t,customElement){this._t=0,this.children=null,this.customElement=customElement,this.J=t,this.lt=0}ft(){return this.lt||(this.lt=1,this.customElement.Te.Wc(()=>{this.Hc()}),this.children=findElements(this.customElement.Te.children)),this.children}gt(t){}flush(t){this.W(this.children,void 0,t|LifecycleFlags.h),this._t=0}subscribe(t){this.N(t)}unsubscribe(t){this.K(t)}Hc(){this.children=findElements(this.customElement.Te.children),"$childrenChanged"in this.customElement&&this.customElement.Gc(),this.J.X(this).catch(t=>{throw t}),this._t=1}};ChildrenObserver=__decorate([subscriberCollection(MutationKind.H)],ChildrenObserver);class RuntimeBehavior{constructor(){}static create(t){const e=new RuntimeBehavior;return e.bindables=t.description.bindables,e}qc(t,e){t.$lifecycle=e,"$projector"in t?this.Qc(e,t):this.Xc(t)}Qc(t,e){this.Xc(e).Jc=new ChildrenObserver(t,e),Reflect.defineProperty(e,"$children",{Li:0,get(){return this.Bi.Jc.ft()}})}Xc(t){const e={},bindables=this.bindables,i=Object.getOwnPropertyNames(bindables);for(let s=0,r=i.length;r>s;++s){const name=i[s];e[name]=new SelfObserver(t,name,bindables[name].ai),createGetterSetter(t,name)}return Reflect.defineProperty(t,"$observers",{Li:0,value:e}),e}}const{Jh:enterStart,Yh:leaveStart}=Profiler.Zh("Aurelia.start"),{Jh:enterStop,Yh:leaveStop}=Profiler.Zh("Aurelia.stop");class Aurelia{constructor(t=DI.Yc()){this.kc=t,this.Zc=[],this.tl=[],this.el=[],this.il=0,this.sl=null,Registration.H(Aurelia,this).register(t,Aurelia)}register(...t){return this.kc.register(...t),this}app(t){const host=t.host;let dom,component;if(this.kc.has(IDOM,0))dom=this.kc.get(IDOM);else{const e=this.kc.get(IDOMInitializer);dom=e.initialize(t)}const e=t.component;CustomElementResource.es(e)?(this.kc.register(e),component=this.kc.get(CustomElementResource.bt(e.description.name))):component=e;const i=()=>{if(host.$au=this,!this.Zc.includes(component)){this.sl=component,this.Zc.push(component);const t=this.kc.get(IRenderingEngine),e=this.kc.get(IProjectorLocator);component.ti(dom,e,t,host,this.kc)}component.je(LifecycleFlags.p|LifecycleFlags.R,null),component.fe(LifecycleFlags.p|LifecycleFlags.L)};return this.tl.push(i),this.el.push(()=>{component.Be(LifecycleFlags.m|LifecycleFlags.B),component.$e(LifecycleFlags.m|LifecycleFlags.v),host.$au=null}),this.il&&i(),this}root(){return this.sl}start(){for(const t of this.tl)t();return this.il=1,this}stop(){this.il=0;for(const t of this.el)t();return this}}PLATFORM.global.Aurelia=Aurelia;const IDOMInitializer=DI.Xi("IDOMInitializer").nn();class Renderer{constructor(t){const e=this.rl={};t.forEach(t=>{e[t.Fi]=t})}static register(t){return Registration.singleton(IRenderer,this).register(t)}Xe(dom,t,e,targets,i,host,parts){const s=i.instructions,r=this.rl;if(targets.length!==s.length)throw Reporter.error(targets.length>s.length?30:31);for(let i=0,n=targets.length;n>i;++i){const instructions=s[i],n=targets[i];for(let i=0,s=instructions.length;s>i;++i){const s=instructions[i];r[s.type].Xe(dom,t,e,n,s,parts)}}if(host){const s=i.surrogates;for(let i=0,n=s.length;n>i;++i){const n=s[i];r[n.type].Xe(dom,t,e,host,n,parts)}}}}Renderer.inject=[all(IInstructionRenderer)];let SetPropertyRenderer=class{Xe(dom,t,e,i,s){i[s.to]=s.value}};SetPropertyRenderer=__decorate([instructionRenderer("re")],SetPropertyRenderer);let CustomElementRenderer=class{constructor(t){this.nl=t}Xe(dom,t,e,i,s){const r=t.Ri(e,i,s,null,null,i,1),component=t.get(customElementKey(s.res)),n=t.get(IRenderer).rl,o=t.get(IProjectorLocator),h=s.instructions;component.ti(dom,o,this.nl,i,t,s);for(let i=0,s=h.length;s>i;++i){const s=h[i];n[s.type].Xe(dom,t,e,component,s)}addBindable(e,component),addAttachable(e,component),r.pt()}};CustomElementRenderer.inject=[IRenderingEngine],CustomElementRenderer=__decorate([instructionRenderer("ra")],CustomElementRenderer);let CustomAttributeRenderer=class{constructor(t){this.nl=t}Xe(dom,t,e,i,s){const r=t.Ri(e,i,s),component=t.get(customAttributeKey(s.res)),n=t.get(IRenderer).rl,o=s.instructions;component.ti(this.nl);for(let i=0,s=o.length;s>i;++i){const s=o[i];n[s.type].Xe(dom,t,e,component,s)}addBindable(e,component),addAttachable(e,component),r.pt()}};CustomAttributeRenderer.inject=[IRenderingEngine],CustomAttributeRenderer=__decorate([instructionRenderer("rb")],CustomAttributeRenderer);let TemplateControllerRenderer=class{constructor(t){this.nl=t}Xe(dom,t,e,i,s,parts){const r=this.nl.Uc(dom,s.def,t),n=t.Ri(e,i,s,r,parts,dom.ol(i),0),component=t.get(customAttributeKey(s.res)),o=t.get(IRenderer).rl,h=s.instructions;component.ti(this.nl),s.link&&component.link(e.Le);for(let i=0,s=h.length;s>i;++i){const s=h[i];o[s.type].Xe(dom,t,e,component,s)}addBindable(e,component),addAttachable(e,component),n.pt()}};TemplateControllerRenderer.inject=[IRenderingEngine],TemplateControllerRenderer=__decorate([instructionRenderer("rc")],TemplateControllerRenderer);let LetElementRenderer=class{constructor(t,e){this.hl=t,this.Ft=e}Xe(dom,t,e,i,s){dom.remove(i);const r=s.instructions,toViewModel=s.toViewModel;for(let i=0,s=r.length;s>i;++i){const s=r[i],n=ensureExpression(this.hl,s.from,48);addBindable(e,new LetBinding(n,s.to,this.Ft,t,toViewModel))}}};LetElementRenderer.inject=[IExpressionParser,IObserverLocator],LetElementRenderer=__decorate([instructionRenderer("rd")],LetElementRenderer);let CallBindingRenderer=class{constructor(t,e){this.hl=t,this.Ft=e}Xe(dom,t,e,i,s){const r=ensureExpression(this.hl,s.from,153);addBindable(e,new Call(r,i,s.to,this.Ft,t))}};CallBindingRenderer.inject=[IExpressionParser,IObserverLocator],CallBindingRenderer=__decorate([instructionRenderer("rh")],CallBindingRenderer);let RefBindingRenderer=class{constructor(t){this.hl=t}Xe(dom,t,e,i,s){const r=ensureExpression(this.hl,s.from,1280);addBindable(e,new Ref(r,i,t))}};RefBindingRenderer.inject=[IExpressionParser],RefBindingRenderer=__decorate([instructionRenderer("rj")],RefBindingRenderer);let InterpolationBindingRenderer=class{constructor(t,e){this.hl=t,this.Ft=e}Xe(dom,t,e,i,s){let bindable;const r=ensureExpression(this.hl,s.from,2048);addBindable(e,bindable=r.Sr?new MultiInterpolationBinding(this.Ft,r,i,s.to,BindingMode.hi,t):new InterpolationBinding(r.Pr,r,i,s.to,BindingMode.hi,this.Ft,t,1))}};InterpolationBindingRenderer.inject=[IExpressionParser,IObserverLocator],InterpolationBindingRenderer=__decorate([instructionRenderer("rf")],InterpolationBindingRenderer);let PropertyBindingRenderer=class{constructor(t,e){this.hl=t,this.Ft=e}Xe(dom,t,e,i,s){const r=ensureExpression(this.hl,s.from,48|s.mode);addBindable(e,new Binding(r,i,s.to,s.mode,this.Ft,t))}};PropertyBindingRenderer.inject=[IExpressionParser,IObserverLocator],PropertyBindingRenderer=__decorate([instructionRenderer("rg")],PropertyBindingRenderer);let IteratorBindingRenderer=class{constructor(t,e){this.hl=t,this.Ft=e}Xe(dom,t,e,i,s){const r=ensureExpression(this.hl,s.from,539);addBindable(e,new Binding(r,i,s.to,BindingMode.hi,this.Ft,t))}};IteratorBindingRenderer.inject=[IExpressionParser,IObserverLocator],IteratorBindingRenderer=__decorate([instructionRenderer("rk")],IteratorBindingRenderer);const IObserverLocatorRegistration=ObserverLocator,ILifecycleRegistration=Lifecycle,IRendererRegistration=Renderer,DefaultComponents=[ObserverLocator,Lifecycle,Renderer],IfRegistration=If,ElseRegistration=Else,RepeatRegistration=Repeat,ReplaceableRegistration=Replaceable,WithRegistration=With,SanitizeValueConverterRegistration=SanitizeValueConverter,DebounceBindingBehaviorRegistration=DebounceBindingBehavior,OneTimeBindingBehaviorRegistration=OneTimeBindingBehavior,ToViewBindingBehaviorRegistration=ToViewBindingBehavior,FromViewBindingBehaviorRegistration=FromViewBindingBehavior,SignalBindingBehaviorRegistration=SignalBindingBehavior,ThrottleBindingBehaviorRegistration=ThrottleBindingBehavior,TwoWayBindingBehaviorRegistration=TwoWayBindingBehavior,DefaultResources=[If,Else,Repeat,Replaceable,With,SanitizeValueConverter,DebounceBindingBehavior,OneTimeBindingBehavior,ToViewBindingBehavior,FromViewBindingBehavior,SignalBindingBehavior,ThrottleBindingBehavior,TwoWayBindingBehavior],CallBindingRendererRegistration=CallBindingRenderer,CustomAttributeRendererRegistration=CustomAttributeRenderer,CustomElementRendererRegistration=CustomElementRenderer,InterpolationBindingRendererRegistration=InterpolationBindingRenderer,IteratorBindingRendererRegistration=IteratorBindingRenderer,LetElementRendererRegistration=LetElementRenderer,PropertyBindingRendererRegistration=PropertyBindingRenderer,RefBindingRendererRegistration=RefBindingRenderer,SetPropertyRendererRegistration=SetPropertyRenderer,TemplateControllerRendererRegistration=TemplateControllerRenderer,DefaultRenderers=[PropertyBindingRendererRegistration,IteratorBindingRendererRegistration,CallBindingRendererRegistration,RefBindingRendererRegistration,InterpolationBindingRendererRegistration,SetPropertyRendererRegistration,CustomElementRendererRegistration,CustomAttributeRendererRegistration,TemplateControllerRendererRegistration,LetElementRendererRegistration],RuntimeBasicConfiguration={register:t=>t.register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Yc(){return this.register(DI.Yc())}};class InterpolationInstruction{constructor(from,to){this.type="rf",this.from=from,this.to=to}}class OneTimeBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.oneTime,this.oneTime=1,this.to=to}}class ToViewBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.hi,this.oneTime=0,this.to=to}}class FromViewBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.Ls,this.oneTime=0,this.to=to}}class TwoWayBindingInstruction{constructor(from,to){this.type="rg",this.type="rg",this.from=from,this.mode=BindingMode.jr,this.oneTime=0,this.to=to}}class IteratorBindingInstruction{constructor(from,to){this.type="rk",this.from=from,this.to=to}}class CallBindingInstruction{constructor(from,to){this.type="rh",this.from=from,this.to=to}}class RefBindingInstruction{constructor(from){this.type="rj",this.from=from}}class SetPropertyInstruction{constructor(value,to){this.type="re",this.to=to,this.value=value}}class HydrateElementInstruction{constructor(res,instructions,parts){this.type="ra",this.instructions=instructions,this.parts=parts,this.res=res}}class HydrateAttributeInstruction{constructor(res,instructions){this.type="rb",this.instructions=instructions,this.res=res}}class HydrateTemplateController{constructor(def,res,instructions,link){this.type="rc",this.def=def,this.instructions=instructions,this.link=link,this.res=res}}class LetElementInstruction{constructor(instructions,toViewModel){this.type="rd",this.instructions=instructions,this.toViewModel=toViewModel}}class LetBindingInstruction{constructor(from,to){this.type="ri",this.from=from,this.to=to}}export{CallFunction,ExpressionKind,connects,observes,callsFunction,hasAncestor,isAssignable,isLeftHandSide,isPrimary,isResource,hasBind,hasUnbind,isLiteral,arePureLiterals,isPureLiteral,BindingBehavior,ValueConverter,Assign,Conditional,AccessThis,AccessScope,AccessMember,AccessKeyed,CallScope,CallMember,Binary,Unary,PrimitiveLiteral,HtmlLiteral,ArrayLiteral,ObjectLiteral,Template,TaggedTemplate,ArrayBindingPattern,ObjectBindingPattern,BindingIdentifier,ForOfStatement,Interpolation,BindingMode,Binding,Call,connectable,IExpressionParser,BindingType,MultiInterpolationBinding,InterpolationBinding,LetBinding,Ref,ArrayObserver,enableArrayObservation,disableArrayObservation,MapObserver,enableMapObservation,disableMapObservation,SetObserver,enableSetObservation,disableSetObservation,BindingContext,Scope,OverrideContext,collectionObserver,CollectionLengthObserver,computed,CustomSetterObserver,GetterObserver,IDirtyChecker,DirtyCheckProperty,IObserverLocator,ITargetObserverLocator,ITargetAccessorLocator,getCollectionObserver,PrimitiveObserver,PropertyAccessor,propertyObserver,SelfObserver,SetterObserver,ISignaler,subscriberCollection,batchedSubscriberCollection,targetObserver,bindingBehavior,BindingBehaviorResource,BindingModeBehavior,OneTimeBindingBehavior,ToViewBindingBehavior,FromViewBindingBehavior,TwoWayBindingBehavior,DebounceBindingBehavior,SignalBindingBehavior,ThrottleBindingBehavior,customAttribute,CustomAttributeResource,dynamicOptions,templateController,If,Else,Repeat,Replaceable,With,containerless,customElement,CustomElementResource,IProjectorLocator,useShadowDOM,valueConverter,ValueConverterResource,ISanitizer,SanitizeValueConverter,bindable,Aurelia,IDOMInitializer,IfRegistration,ElseRegistration,RepeatRegistration,ReplaceableRegistration,WithRegistration,SanitizeValueConverterRegistration,DebounceBindingBehaviorRegistration,OneTimeBindingBehaviorRegistration,ToViewBindingBehaviorRegistration,FromViewBindingBehaviorRegistration,SignalBindingBehaviorRegistration,ThrottleBindingBehaviorRegistration,TwoWayBindingBehaviorRegistration,DefaultResources as BasicResources,IObserverLocatorRegistration as ObserverLocatorRegistration,ILifecycleRegistration as LifecycleRegistration,IRendererRegistration as RendererRegistration,RuntimeBasicConfiguration as BasicConfiguration,buildTemplateDefinition,isTargetedInstruction,ITargetedInstruction,TargetedInstructionType,INode,IRenderLocation,IDOM,NodeSequence,CallBindingInstruction,FromViewBindingInstruction,HydrateAttributeInstruction,HydrateElementInstruction,HydrateTemplateController,InterpolationInstruction,IteratorBindingInstruction,LetBindingInstruction,LetElementInstruction,OneTimeBindingInstruction,RefBindingInstruction,SetPropertyInstruction,ToViewBindingInstruction,TwoWayBindingInstruction,AggregateLifecycleTask,CompositionCoordinator,Hooks,ILifecycle,IRenderable,IViewFactory,LifecycleTask,PromiseTask,State,CollectionKind,DelegationStrategy,LifecycleFlags,MutationKind,stringifyLifecycleFlags,instructionRenderer,ensureExpression,addAttachable,addBindable,CompiledTemplate,createRenderContext,IInstructionRenderer,IRenderer,IRenderingEngine,ITemplateCompiler,ITemplateFactory,ViewCompileFlags};
